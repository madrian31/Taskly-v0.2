(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Xd={exports:{}},Al={};var pv;function O1(){if(pv)return Al;pv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=t,Al.jsx=n,Al.jsxs=n,Al}var gv;function x1(){return gv||(gv=1,Xd.exports=O1()),Xd.exports}var M=x1(),$d={exports:{}},Ct={};var yv;function M1(){if(yv)return Ct;yv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,F={};function it(O,Z,ot){this.props=O,this.context=Z,this.refs=F,this.updater=ot||X}it.prototype.isReactComponent={},it.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},it.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function nt(){}nt.prototype=it.prototype;function st(O,Z,ot){this.props=O,this.context=Z,this.refs=F,this.updater=ot||X}var Tt=st.prototype=new nt;Tt.constructor=st,$(Tt,it.prototype),Tt.isPureReactComponent=!0;var wt=Array.isArray;function St(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,Z,ot){var ut=ot.ref;return{$$typeof:r,type:O,key:Z,ref:ut!==void 0?ut:null,props:ot}}function V(O,Z){return R(O.type,Z,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ot){return Z[ot]})}var C=/\/+/g;function Wt(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Z.toString(36)}function le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(St,St):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,Z,ot,ut,_t){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var K=!1;if(O===null)K=!0;else switch(Rt){case"bigint":case"string":case"number":K=!0;break;case"object":switch(O.$$typeof){case r:case t:K=!0;break;case E:return K=O._init,Q(K(O._payload),Z,ot,ut,_t)}}if(K)return _t=_t(O),K=ut===""?"."+Wt(O,0):ut,wt(_t)?(ot="",K!=null&&(ot=K.replace(C,"$&/")+"/"),Q(_t,Z,ot,"",function(sn){return sn})):_t!=null&&(D(_t)&&(_t=V(_t,ot+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(C,"$&/")+"/")+K)),Z.push(_t)),1;K=0;var gt=ut===""?".":ut+":";if(wt(O))for(var At=0;At<O.length;At++)ut=O[At],Rt=gt+Wt(ut,At),K+=Q(ut,Z,ot,Rt,_t);else if(At=k(O),typeof At=="function")for(O=At.call(O),At=0;!(ut=O.next()).done;)ut=ut.value,Rt=gt+Wt(ut,At++),K+=Q(ut,Z,ot,Rt,_t);else if(Rt==="object"){if(typeof O.then=="function")return Q(le(O),Z,ot,ut,_t);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return K}function at(O,Z,ot){if(O==null)return O;var ut=[],_t=0;return Q(O,ut,"","",function(Rt){return Z.call(ot,Rt,_t++)}),ut}function dt(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(ot){(O._status===0||O._status===-1)&&(O._status=1,O._result=ot)},function(ot){(O._status===0||O._status===-1)&&(O._status=2,O._result=ot)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:at,forEach:function(O,Z,ot){at(O,function(){Z.apply(this,arguments)},ot)},count:function(O){var Z=0;return at(O,function(){Z++}),Z},toArray:function(O){return at(O,function(Z){return Z})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ct.Activity=S,Ct.Children=qt,Ct.Component=it,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=st,Ct.StrictMode=s,Ct.Suspense=g,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ct.cache=function(O){return function(){return O.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(O,Z,ot){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ut=$({},O.props),_t=O.key;if(Z!=null)for(Rt in Z.key!==void 0&&(_t=""+Z.key),Z)!b.call(Z,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Z.ref===void 0||(ut[Rt]=Z[Rt]);var Rt=arguments.length-2;if(Rt===1)ut.children=ot;else if(1<Rt){for(var K=Array(Rt),gt=0;gt<Rt;gt++)K[gt]=arguments[gt+2];ut.children=K}return R(O.type,_t,ut)},Ct.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ct.createElement=function(O,Z,ot){var ut,_t={},Rt=null;if(Z!=null)for(ut in Z.key!==void 0&&(Rt=""+Z.key),Z)b.call(Z,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=Z[ut]);var K=arguments.length-2;if(K===1)_t.children=ot;else if(1<K){for(var gt=Array(K),At=0;At<K;At++)gt[At]=arguments[At+2];_t.children=gt}if(O&&O.defaultProps)for(ut in K=O.defaultProps,K)_t[ut]===void 0&&(_t[ut]=K[ut]);return R(O,Rt,_t)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(O){return{$$typeof:m,render:O}},Ct.isValidElement=D,Ct.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:dt}},Ct.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},Ct.startTransition=function(O){var Z=I.T,ot={};I.T=ot;try{var ut=O(),_t=I.S;_t!==null&&_t(ot,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(St,zt)}catch(Rt){zt(Rt)}finally{Z!==null&&ot.types!==null&&(Z.types=ot.types),I.T=Z}},Ct.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ct.use=function(O){return I.H.use(O)},Ct.useActionState=function(O,Z,ot){return I.H.useActionState(O,Z,ot)},Ct.useCallback=function(O,Z){return I.H.useCallback(O,Z)},Ct.useContext=function(O){return I.H.useContext(O)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(O,Z){return I.H.useDeferredValue(O,Z)},Ct.useEffect=function(O,Z){return I.H.useEffect(O,Z)},Ct.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ct.useId=function(){return I.H.useId()},Ct.useImperativeHandle=function(O,Z,ot){return I.H.useImperativeHandle(O,Z,ot)},Ct.useInsertionEffect=function(O,Z){return I.H.useInsertionEffect(O,Z)},Ct.useLayoutEffect=function(O,Z){return I.H.useLayoutEffect(O,Z)},Ct.useMemo=function(O,Z){return I.H.useMemo(O,Z)},Ct.useOptimistic=function(O,Z){return I.H.useOptimistic(O,Z)},Ct.useReducer=function(O,Z,ot){return I.H.useReducer(O,Z,ot)},Ct.useRef=function(O){return I.H.useRef(O)},Ct.useState=function(O){return I.H.useState(O)},Ct.useSyncExternalStore=function(O,Z,ot){return I.H.useSyncExternalStore(O,Z,ot)},Ct.useTransition=function(){return I.H.useTransition()},Ct.version="19.2.3",Ct}var _v;function Qm(){return _v||(_v=1,$d.exports=M1()),$d.exports}var q=Qm(),Jd={exports:{}},bl={},Zd={exports:{}},Wd={};var vv;function V1(){return vv||(vv=1,(function(r){function t(Q,at){var dt=Q.length;Q.push(at);t:for(;0<dt;){var zt=dt-1>>>1,qt=Q[zt];if(0<o(qt,at))Q[zt]=at,Q[dt]=qt,dt=zt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var at=Q[0],dt=Q.pop();if(dt!==at){Q[0]=dt;t:for(var zt=0,qt=Q.length,O=qt>>>1;zt<O;){var Z=2*(zt+1)-1,ot=Q[Z],ut=Z+1,_t=Q[ut];if(0>o(ot,dt))ut<qt&&0>o(_t,ot)?(Q[zt]=_t,Q[ut]=dt,zt=ut):(Q[zt]=ot,Q[Z]=dt,zt=Z);else if(ut<qt&&0>o(_t,dt))Q[zt]=_t,Q[ut]=dt,zt=ut;else break t}}return at}function o(Q,at){var dt=Q.sortIndex-at.sortIndex;return dt!==0?dt:Q.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,w=3,k=!1,X=!1,$=!1,F=!1,it=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Tt(Q){for(var at=n(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=Q)s(y),at.sortIndex=at.expirationTime,t(g,at);else break;at=n(y)}}function wt(Q){if($=!1,Tt(Q),!X)if(n(g)!==null)X=!0,St||(St=!0,U());else{var at=n(y);at!==null&&le(wt,at.startTime-Q)}}var St=!1,I=-1,b=5,R=-1;function V(){return F?!0:!(r.unstable_now()-R<b)}function D(){if(F=!1,St){var Q=r.unstable_now();R=Q;var at=!0;try{t:{X=!1,$&&($=!1,nt(I),I=-1),k=!0;var dt=w;try{e:{for(Tt(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&V());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,w=S.priorityLevel;var qt=zt(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof qt=="function"){S.callback=qt,Tt(Q),at=!0;break e}S===n(g)&&s(g),Tt(Q)}else s(g);S=n(g)}if(S!==null)at=!0;else{var O=n(y);O!==null&&le(wt,O.startTime-Q),at=!1}}break t}finally{S=null,w=dt,k=!1}at=void 0}}finally{at?U():St=!1}}}var U;if(typeof st=="function")U=function(){st(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Wt=C.port2;C.port1.onmessage=D,U=function(){Wt.postMessage(null)}}else U=function(){it(D,0)};function le(Q,at){I=it(function(){Q(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var at=3;break;default:at=w}var dt=w;w=at;try{return Q()}finally{w=dt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=w;w=Q;try{return at()}finally{w=dt}},r.unstable_scheduleCallback=function(Q,at,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,Q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=dt+qt,Q={id:E++,callback:at,priorityLevel:Q,startTime:dt,expirationTime:qt,sortIndex:-1},dt>zt?(Q.sortIndex=dt,t(y,Q),n(g)===null&&Q===n(y)&&($?(nt(I),I=-1):$=!0,le(wt,dt-zt))):(Q.sortIndex=qt,t(g,Q),X||k||(X=!0,St||(St=!0,U()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var at=w;return function(){var dt=w;w=at;try{return Q.apply(this,arguments)}finally{w=dt}}}})(Wd)),Wd}var Ev;function k1(){return Ev||(Ev=1,Zd.exports=V1()),Zd.exports}var tm={exports:{}},$e={};var Tv;function L1(){if(Tv)return $e;Tv=1;var r=Qm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},$e.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},$e.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},$e.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$e.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},$e.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},$e.requestFormReset=function(g){s.d.r(g)},$e.unstable_batchedUpdates=function(g,y){return g(y)},$e.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var Sv;function U1(){if(Sv)return tm.exports;Sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),tm.exports=L1(),tm.exports}var Av;function P1(){if(Av)return bl;Av=1;var r=k1(),t=Qm(),n=U1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case it:return"Profiler";case F:return"StrictMode";case wt:return"Suspense";case St:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case st:return e.displayName||"Context";case nt:return(e._context.displayName||"Context")+".Consumer";case Tt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:Wt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Wt(e(i))}catch{}}return null}var le=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],qt=-1;function O(e){return{current:e}}function Z(e){0>qt||(e.current=zt[qt],zt[qt]=null,qt--)}function ot(e,i){qt++,zt[qt]=e.current,e.current=i}var ut=O(null),_t=O(null),Rt=O(null),K=O(null);function gt(e,i){switch(ot(Rt,i),ot(_t,e),ot(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?P_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=P_(i),e=z_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(ut),ot(ut,e)}function At(){Z(ut),Z(_t),Z(Rt)}function sn(e){e.memoizedState!==null&&ot(K,e);var i=ut.current,a=z_(i,e.type);i!==a&&(ot(_t,e),ot(ut,a))}function Ui(e){_t.current===e&&(Z(ut),Z(_t)),K.current===e&&(Z(K),vl._currentValue=dt)}var ai,gr;function Kt(e){if(ai===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ai=i&&i[1]||"",gr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ai+e+gr}var sa=!1;function oi(e,i){if(!e||sa)return"";sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var B=G}Reflect.construct(e,[],W)}else{try{W.call()}catch(G){B=G}e.call(W.prototype)}}else{try{throw Error()}catch(G){B=G}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),j=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===j.length)for(l=N.length-1,h=j.length-1;1<=l&&0<=h&&N[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==j[h]){var Y=`
`+N[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{sa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Kt(a):""}function Pi(e,i){switch(e.tag){case 26:case 27:case 5:return Kt(e.type);case 16:return Kt("Lazy");case 13:return e.child!==i&&i!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return oi(e.type,!1);case 11:return oi(e.type.render,!1);case 1:return oi(e.type,!0);case 31:return Kt("Activity");default:return""}}function ps(e){try{var i="",a=null;do i+=Pi(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ue=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,$h=r.unstable_shouldYield,uu=r.unstable_requestPaint,en=r.unstable_now,gs=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,Jh=r.unstable_LowPriority,cu=r.unstable_IdlePriority,hu=r.log,fu=r.unstable_setDisableYieldValue,qn=null,je=null;function In(e){if(typeof hu=="function"&&fu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var ge=Math.clz32?Math.clz32:mu,du=Math.log,aa=Math.LN2;function mu(e){return e>>>=0,e===0?32:31-(du(e)/aa|0)|0}var li=256,ys=262144,Te=4194304;function ui(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ui(l):(_&=T,_!==0?h=ui(_):a||(a=T&~e,a!==0&&(h=ui(a))))):(T=l&~d,T!==0?h=ui(T):_!==0?h=ui(_):a||(a=l&~e,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function _s(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,N=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-ge(a),W=1<<Y;T[Y]=0,N[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var G=B[Y];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&vs(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function vs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function wo(e,i){var a=i&-i;return a=(a&42)!==0?1:Es(a),(a&(e.suspendedLanes|i))!==0?0:a}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gu(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:lv(e.type))}function Fn(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var Gn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Gn,Le="__reactProps$"+Gn,fi="__reactContainer$"+Gn,oa="__reactEvents$"+Gn,tf="__reactListeners$"+Gn,yu="__reactHandles$"+Gn,_u="__reactResources$"+Gn,di="__reactMarker$"+Gn;function la(e){delete e[Se],delete e[Le],delete e[oa],delete e[tf],delete e[yu]}function mi(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[fi]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Q_(e);e!==null;){if(a=e[Se])return a;e=Q_(e)}return i}e=a,a=e.parentNode}return null}function Nn(e){if(e=e[Se]||e[fi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function pi(e){var i=e[_u];return i||(i=e[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(e){e[di]=!0}var Ro=new Set,Co={};function gi(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(Co[e]=i,e=0;e<i.length;e++)Ro.add(i[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function vu(e){return ue.call(Do,e)?!0:ue.call(No,e)?!1:Io.test(e)?Do[e]=!0:(No[e]=!0,!1)}function ua(e,i,a){if(vu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function be(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $t(e){if(!e._valueTracker){var i=vr(e)?"checked":"value";e._valueTracker=Oo(e,i,""+e[i])}}function Ts(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=vr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ss=/[\n"\\]/g;function an(e){return e.replace(Ss,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?xo(e,_,Ue(i)):a!=null?xo(e,_,Ue(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ue(T):e.removeAttribute("name")}function Eu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$t(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),$t(e)}function xo(e,i,a){i==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Er(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Tu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function Tr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),$t(e)}function on(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Su.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Vo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Mo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Mo(e,d,i[d])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return Sr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var ko=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,vi=null;function As(e){var i=Nn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ts(l)}break t;case"textarea":Tu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Er(e,!!a.multiple,i,!1)}}}var da=!1;function br(e,i,a){if(da)return e(i,a);da=!0;try{var l=e(i);return l}finally{if(da=!1,(Ar!==null||vi!==null)&&(gc(),Ar&&(i=Ar,e=vi,vi=Ar=null,As(i),e)))for(i=0;i<e.length;i++)As(e[i])}}function Kn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=!1;if(On)try{var te={};Object.defineProperty(te,"passive",{get:function(){bs=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{bs=!1}var Ei=null,Lo=null,ws=null;function Uo(){if(ws)return ws;var e,i=Lo,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ws=h.slice(e,1<l?1-l:void 0)}function Rs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Yn(){return!1}function Be(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:Yn,this.isPropagationStopped=Yn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Be(Bi),wr=S({},Bi,{view:0,detail:0}),Po=Be(wr),Rr,ma,Si,pa=S({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Rr=e.screenX-Si.screenX,ma=e.screenY-Si.screenY):ma=Rr=0,Si=e),Rr)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),zo=Be(pa),Cs=S({},pa,{dataTransfer:0}),bu=Be(Cs),wu=S({},wr,{relatedTarget:0}),Is=Be(wu),jo=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=Be(jo),ga=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cu=Be(ga),Iu=S({},Bi,{data:0}),Ai=Be(Iu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ou[e])?!!i[e]:!1}function Cr(){return xu}var nn=S({},wr,{key:function(e){if(e.key){var i=Nu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mu=Be(nn),Vu=S({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Be(Vu),c=S({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),p=Be(c),v=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),P=S({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Be(P),rt=S({},Bi,{newState:0,oldState:0}),Nt=Be(rt),ye=[9,13,27,32],Gt=On&&"CompositionEvent"in window,ce=null;On&&"documentMode"in document&&(ce=document.documentMode);var xn=On&&"TextEvent"in window&&!ce,bi=On&&(!Gt||ce&&8<ce&&11>=ce),Xn=" ",$n=!1;function Ns(e,i){switch(e){case"keyup":return ye.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function eA(e,i){switch(e){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function nA(e,i){if(_a)return e==="compositionend"||!Gt&&Ns(e,i)?(e=Uo(),ws=Lo=Ei=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!iA[e.type]:i==="textarea"}function $p(e,i,a,l){Ar?vi?vi.push(l):vi=[l]:Ar=l,i=Ac(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Bo=null,qo=null;function rA(e){x_(e,0)}function ku(e){var i=gn(e);if(Ts(i))return e}function Jp(e,i){if(e==="change")return i}var Zp=!1;if(On){var ef;if(On){var nf="oninput"in document;if(!nf){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),nf=typeof Wp.oninput=="function"}ef=nf}else ef=!1;Zp=ef&&(!document.documentMode||9<document.documentMode)}function tg(){Bo&&(Bo.detachEvent("onpropertychange",eg),qo=Bo=null)}function eg(e){if(e.propertyName==="value"&&ku(qo)){var i=[];$p(i,qo,e,Dn(e)),br(rA,i)}}function sA(e,i,a){e==="focusin"?(tg(),Bo=i,qo=a,Bo.attachEvent("onpropertychange",eg)):e==="focusout"&&tg()}function aA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(qo)}function oA(e,i){if(e==="click")return ku(i)}function lA(e,i){if(e==="input"||e==="change")return ku(i)}function uA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:uA;function Ho(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ue.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,i){var a=ng(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ng(a)}}function rg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?rg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=_i(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=_i(e.document)}return i}function rf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var cA=On&&"documentMode"in document&&11>=document.documentMode,va=null,sf=null,Fo=null,af=!1;function ag(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||va==null||va!==_i(l)||(l=va,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&Ho(Fo,l)||(Fo=l,l=Ac(sf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=va)))}function Ds(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ea={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},of={},og={};On&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Os(e){if(of[e])return of[e];if(!Ea[e])return e;var i=Ea[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in og)return of[e]=i[a];return e}var lg=Os("animationend"),ug=Os("animationiteration"),cg=Os("animationstart"),hA=Os("transitionrun"),fA=Os("transitionstart"),dA=Os("transitioncancel"),hg=Os("transitionend"),fg=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Jn(e,i){fg.set(e,i),gi(i,[e])}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],Ta=0,uf=0;function Uu(){for(var e=Ta,i=uf=Ta=0;i<e;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&dg(a,h,d)}}function Pu(e,i,a,l){Mn[Ta++]=e,Mn[Ta++]=i,Mn[Ta++]=a,Mn[Ta++]=l,uf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function cf(e,i,a,l){return Pu(e,i,a,l),zu(e)}function xs(e,i){return Pu(e,null,null,i),zu(e)}function dg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function zu(e){if(50<fl)throw fl=0,vd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Sa={};function mA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,l){return new mA(e,i,a,l)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function mg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ju(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")hf(e)&&(_=1);else if(typeof e=="string")_=v1(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=vn(31,a,i,h),e.elementType=R,e.lanes=d,e;case $:return Ms(a.children,h,d,i);case F:_=8,h|=24;break;case it:return e=vn(12,a,i,h|2),e.elementType=it,e.lanes=d,e;case wt:return e=vn(13,a,i,h),e.elementType=wt,e.lanes=d,e;case St:return e=vn(19,a,i,h),e.elementType=St,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:_=10;break t;case nt:_=9;break t;case Tt:_=11;break t;case I:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=vn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ms(e,i,a,l){return e=vn(7,e,l,i),e.lanes=a,e}function ff(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function pg(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function df(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var gg=new WeakMap;function Vn(e,i){if(typeof e=="object"&&e!==null){var a=gg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ps(i)},gg.set(e,i),i)}return{value:e,source:i,stack:ps(i)}}var Aa=[],ba=0,Bu=null,Go=0,kn=[],Ln=0,Ir=null,wi=1,Ri="";function Fi(e,i){Aa[ba++]=Go,Aa[ba++]=Bu,Bu=e,Go=i}function yg(e,i,a){kn[Ln++]=wi,kn[Ln++]=Ri,kn[Ln++]=Ir,Ir=e;var l=wi;e=Ri;var h=32-ge(l)-1;l&=~(1<<h),a+=1;var d=32-ge(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-ge(i)+h|a<<h|l,Ri=d+e}else wi=1<<d|a<<h|l,Ri=e}function mf(e){e.return!==null&&(Fi(e,1),yg(e,1,0))}function pf(e){for(;e===Bu;)Bu=Aa[--ba],Aa[ba]=null,Go=Aa[--ba],Aa[ba]=null;for(;e===Ir;)Ir=kn[--Ln],kn[Ln]=null,Ri=kn[--Ln],kn[Ln]=null,wi=kn[--Ln],kn[Ln]=null}function _g(e,i){kn[Ln++]=wi,kn[Ln++]=Ri,kn[Ln++]=Ir,wi=i.id,Ri=i.overflow,Ir=e}var qe=null,ae=null,jt=!1,Nr=null,Un=!1,gf=Error(s(519));function Dr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Vn(i,e)),gf}function vg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[Le]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Mt(ml[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Eu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||L_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Dr(e,!0)}function Eg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qe=qe.return}}function wa(e){if(e!==qe)return!1;if(!jt)return Eg(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vd(e.type,e.memoizedProps)),a=!a),a&&ae&&Dr(e),Eg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=G_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=G_(e)}else i===27?(i=ae,Fr(e.type)?(e=zd,zd=null,ae=e):ae=i):ae=qe?zn(e.stateNode.nextSibling):null;return!0}function Vs(){ae=qe=null,jt=!1}function yf(){var e=Nr;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Nr=null),e}function Qo(e){Nr===null?Nr=[e]:Nr.push(e)}var _f=O(null),ks=null,Gi=null;function Or(e,i,a){ot(_f,i._currentValue),i._currentValue=a}function Qi(e){e._currentValue=_f.current,Z(_f)}function vf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Ef(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),vf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;_n(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===K.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&Ef(i,e,a,l),i.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){ks=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Tg(ks,e)}function Hu(e,i){return ks===null&&Ls(e),Tg(e,i)}function Tg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(s(308));Gi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gi=Gi.next=i;return a}var pA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},gA=r.unstable_scheduleCallback,yA=r.unstable_NormalPriority,we={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new pA,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&gA(yA,function(){e.controller.abort()})}var Yo=null,Sf=0,Ca=0,Ia=null;function _A(e,i){if(Yo===null){var a=Yo=[];Sf=0,Ca=wd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(Sg,Sg),i}function Sg(){if(--Sf===0&&Yo!==null){Ia!==null&&(Ia.status="fulfilled");var e=Yo;Yo=null,Ca=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function vA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ag=Q.S;Q.S=function(e,i){a_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(e,i),Ag!==null&&Ag(e,i)};var Us=O(null);function Af(){var e=Us.current;return e!==null?e:re.pooledCache}function Fu(e,i){i===null?ot(Us,Us.current):ot(Us,i.pool)}function bg(){var e=Af();return e===null?null:{parent:we._currentValue,pool:e}}var Na=Error(s(460)),bf=Error(s(474)),Gu=Error(s(542)),Qu={then:function(){}};function wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e}throw zs=i,Na}}function Ps(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zs=a,Na):a}}var zs=null;function Cg(){if(zs===null)throw Error(s(459));var e=zs;return zs=null,e}function Ig(e){if(e===Na||e===Gu)throw Error(s(483))}var Da=null,Xo=0;function Ku(e){var i=Xo;return Xo+=1,Da===null&&(Da=[]),Rg(Da,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Yu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ng(e){function i(L,x){if(e){var z=L.deletions;z===null?(L.deletions=[x],L.flags|=16):z.push(x)}}function a(L,x){if(!e)return null;for(;x!==null;)i(L,x),x=x.sibling;return null}function l(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function h(L,x){return L=Hi(L,x),L.index=0,L.sibling=null,L}function d(L,x,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<x?(L.flags|=67108866,x):z):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,x,z,J){return x===null||x.tag!==6?(x=ff(z,L.mode,J),x.return=L,x):(x=h(x,z),x.return=L,x)}function N(L,x,z,J){var mt=z.type;return mt===$?Y(L,x,z.props.children,J,z.key):x!==null&&(x.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Ps(mt)===x.type)?(x=h(x,z.props),$o(x,z),x.return=L,x):(x=ju(z.type,z.key,z.props,null,L.mode,J),$o(x,z),x.return=L,x)}function j(L,x,z,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=df(z,L.mode,J),x.return=L,x):(x=h(x,z.children||[]),x.return=L,x)}function Y(L,x,z,J,mt){return x===null||x.tag!==7?(x=Ms(z,L.mode,J,mt),x.return=L,x):(x=h(x,z),x.return=L,x)}function W(L,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=ff(""+x,L.mode,z),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return z=ju(x.type,x.key,x.props,null,L.mode,z),$o(z,x),z.return=L,z;case X:return x=df(x,L.mode,z),x.return=L,x;case b:return x=Ps(x),W(L,x,z)}if(le(x)||U(x))return x=Ms(x,L.mode,z,null),x.return=L,x;if(typeof x.then=="function")return W(L,Ku(x),z);if(x.$$typeof===st)return W(L,Hu(L,x),z);Yu(L,x)}return null}function B(L,x,z,J){var mt=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return mt!==null?null:T(L,x,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===mt?N(L,x,z,J):null;case X:return z.key===mt?j(L,x,z,J):null;case b:return z=Ps(z),B(L,x,z,J)}if(le(z)||U(z))return mt!==null?null:Y(L,x,z,J,null);if(typeof z.then=="function")return B(L,x,Ku(z),J);if(z.$$typeof===st)return B(L,x,Hu(L,z),J);Yu(L,z)}return null}function G(L,x,z,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,T(x,L,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return L=L.get(J.key===null?z:J.key)||null,N(x,L,J,mt);case X:return L=L.get(J.key===null?z:J.key)||null,j(x,L,J,mt);case b:return J=Ps(J),G(L,x,z,J,mt)}if(le(J)||U(J))return L=L.get(z)||null,Y(x,L,J,mt,null);if(typeof J.then=="function")return G(L,x,z,Ku(J),mt);if(J.$$typeof===st)return G(L,x,z,Hu(x,J),mt);Yu(x,J)}return null}function ht(L,x,z,J){for(var mt=null,Ht=null,ft=x,Ot=x=0,kt=null;ft!==null&&Ot<z.length;Ot++){ft.index>Ot?(kt=ft,ft=null):kt=ft.sibling;var Ft=B(L,ft,z[Ot],J);if(Ft===null){ft===null&&(ft=kt);break}e&&ft&&Ft.alternate===null&&i(L,ft),x=d(Ft,x,Ot),Ht===null?mt=Ft:Ht.sibling=Ft,Ht=Ft,ft=kt}if(Ot===z.length)return a(L,ft),jt&&Fi(L,Ot),mt;if(ft===null){for(;Ot<z.length;Ot++)ft=W(L,z[Ot],J),ft!==null&&(x=d(ft,x,Ot),Ht===null?mt=ft:Ht.sibling=ft,Ht=ft);return jt&&Fi(L,Ot),mt}for(ft=l(ft);Ot<z.length;Ot++)kt=G(ft,L,Ot,z[Ot],J),kt!==null&&(e&&kt.alternate!==null&&ft.delete(kt.key===null?Ot:kt.key),x=d(kt,x,Ot),Ht===null?mt=kt:Ht.sibling=kt,Ht=kt);return e&&ft.forEach(function(Xr){return i(L,Xr)}),jt&&Fi(L,Ot),mt}function yt(L,x,z,J){if(z==null)throw Error(s(151));for(var mt=null,Ht=null,ft=x,Ot=x=0,kt=null,Ft=z.next();ft!==null&&!Ft.done;Ot++,Ft=z.next()){ft.index>Ot?(kt=ft,ft=null):kt=ft.sibling;var Xr=B(L,ft,Ft.value,J);if(Xr===null){ft===null&&(ft=kt);break}e&&ft&&Xr.alternate===null&&i(L,ft),x=d(Xr,x,Ot),Ht===null?mt=Xr:Ht.sibling=Xr,Ht=Xr,ft=kt}if(Ft.done)return a(L,ft),jt&&Fi(L,Ot),mt;if(ft===null){for(;!Ft.done;Ot++,Ft=z.next())Ft=W(L,Ft.value,J),Ft!==null&&(x=d(Ft,x,Ot),Ht===null?mt=Ft:Ht.sibling=Ft,Ht=Ft);return jt&&Fi(L,Ot),mt}for(ft=l(ft);!Ft.done;Ot++,Ft=z.next())Ft=G(ft,L,Ot,Ft.value,J),Ft!==null&&(e&&Ft.alternate!==null&&ft.delete(Ft.key===null?Ot:Ft.key),x=d(Ft,x,Ot),Ht===null?mt=Ft:Ht.sibling=Ft,Ht=Ft);return e&&ft.forEach(function(D1){return i(L,D1)}),jt&&Fi(L,Ot),mt}function ie(L,x,z,J){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:t:{for(var mt=z.key;x!==null;){if(x.key===mt){if(mt=z.type,mt===$){if(x.tag===7){a(L,x.sibling),J=h(x,z.props.children),J.return=L,L=J;break t}}else if(x.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Ps(mt)===x.type){a(L,x.sibling),J=h(x,z.props),$o(J,z),J.return=L,L=J;break t}a(L,x);break}else i(L,x);x=x.sibling}z.type===$?(J=Ms(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=ju(z.type,z.key,z.props,null,L.mode,J),$o(J,z),J.return=L,L=J)}return _(L);case X:t:{for(mt=z.key;x!==null;){if(x.key===mt)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(L,x.sibling),J=h(x,z.children||[]),J.return=L,L=J;break t}else{a(L,x);break}else i(L,x);x=x.sibling}J=df(z,L.mode,J),J.return=L,L=J}return _(L);case b:return z=Ps(z),ie(L,x,z,J)}if(le(z))return ht(L,x,z,J);if(U(z)){if(mt=U(z),typeof mt!="function")throw Error(s(150));return z=mt.call(z),yt(L,x,z,J)}if(typeof z.then=="function")return ie(L,x,Ku(z),J);if(z.$$typeof===st)return ie(L,x,Hu(L,z),J);Yu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(L,x.sibling),J=h(x,z),J.return=L,L=J):(a(L,x),J=ff(z,L.mode,J),J.return=L,L=J),_(L)):a(L,x)}return function(L,x,z,J){try{Xo=0;var mt=ie(L,x,z,J);return Da=null,mt}catch(ft){if(ft===Na||ft===Gu)throw ft;var Ht=vn(29,ft,null,L.mode);return Ht.lanes=J,Ht.return=L,Ht}}}var js=Ng(!0),Dg=Ng(!1),xr=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(e),dg(e,null,a),i}return Pu(e,l,i,a),zu(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,bo(e,a)}}function Cf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var If=!1;function Zo(){if(If){var e=Ia;if(e!==null)throw e}}function Wo(e,i,a,l){If=!1;var h=e.updateQueue;xr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,j=N.next;N.next=null,_===null?d=j:_.next=j,_=N;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=j:T.next=j,Y.lastBaseUpdate=N))}if(d!==null){var W=h.baseState;_=0,Y=j=N=null,T=d;do{var B=T.lane&-536870913,G=B!==T.lane;if(G?(Vt&B)===B:(l&B)===B){B!==0&&B===Ca&&(If=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=e,yt=T;B=i;var ie=a;switch(yt.tag){case 1:if(ht=yt.payload,typeof ht=="function"){W=ht.call(ie,W,B);break t}W=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=yt.payload,B=typeof ht=="function"?ht.call(ie,W,B):ht,B==null)break t;W=S({},W,B);break t;case 2:xr=!0}}B=T.callback,B!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(j=Y=G,N=W):Y=Y.next=G,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(N=W),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),zr|=_,e.lanes=_,e.memoizedState=W}}function Og(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function xg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Og(a[e],i)}var Oa=O(null),Xu=O(0);function Mg(e,i){e=er,ot(Xu,e),ot(Oa,i),er=e|i.baseLanes}function Nf(){ot(Xu,er),ot(Oa,Oa.current)}function Df(){er=Xu.current,Z(Oa),Z(Xu)}var En=O(null),Pn=null;function kr(e){var i=e.alternate;ot(_e,_e.current&1),ot(En,e),Pn===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(Pn=e)}function Of(e){ot(_e,_e.current),ot(En,e),Pn===null&&(Pn=e)}function Vg(e){e.tag===22?(ot(_e,_e.current),ot(En,e),Pn===null&&(Pn=e)):Lr()}function Lr(){ot(_e,_e.current),ot(En,En.current)}function Tn(e){Z(En),Pn===e&&(Pn=null),Z(_e)}var _e=O(0);function $u(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||Pd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,Dt=null,ee=null,Re=null,Ju=!1,xa=!1,Bs=!1,Zu=0,tl=0,Ma=null,EA=0;function me(){throw Error(s(321))}function xf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function Mf(e,i,a,l,h,d){return Ki=d,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?yy:Yf,Bs=!1,d=a(l,h),Bs=!1,xa&&(d=Lg(i,a,l,h)),kg(e),d}function kg(e){Q.H=il;var i=ee!==null&&ee.next!==null;if(Ki=0,Re=ee=Dt=null,Ju=!1,tl=0,Ma=null,i)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&qu(e)&&(Ce=!0))}function Lg(e,i,a,l){Dt=e;var h=0;do{if(xa&&(Ma=null),tl=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,Re=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=_y,d=i(a,l)}while(xa);return d}function TA(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?el(i):i,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Dt.flags|=1024),i}function Vf(){var e=Zu!==0;return Zu=0,e}function kf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Lf(e){if(Ju){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ju=!1}Ki=0,Re=ee=Dt=null,xa=!1,tl=Zu=0,Ma=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=e:Re=Re.next=e,Re}function ve(){if(ee===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var i=Re===null?Dt.memoizedState:Re.next;if(i!==null)Re=i,ee=e;else{if(e===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Re===null?Dt.memoizedState=Re=e:Re=Re.next=e}return Re}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var i=tl;return tl+=1,Ma===null&&(Ma=[]),e=Rg(Ma,e,i),i=Dt,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?yy:Yf),e}function tc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===st)return He(e)}throw Error(s(438,String(e)))}function Uf(e){var i=null,a=Dt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wu(),Dt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Yi(e,i){return typeof i=="function"?i(e):i}function ec(e){var i=ve();return Pf(i,ee,e)}function Pf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,N=null,j=i,Y=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(Vt&W)===W:(Ki&W)===W){var B=j.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===Ca&&(Y=!0);else if((Ki&B)===B){j=j.next,B===Ca&&(Y=!0);continue}else W={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(T=N=W,_=d):N=N.next=W,Dt.lanes|=B,zr|=B;W=j.action,Bs&&a(d,W),d=j.hasEagerState?j.eagerState:a(d,W)}else B={lane:W,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(T=N=B,_=d):N=N.next=B,Dt.lanes|=W,zr|=W;j=j.next}while(j!==null&&j!==i);if(N===null?_=d:N.next=T,!_n(d,e.memoizedState)&&(Ce=!0,Y&&(a=Ia,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function zf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Ce=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ug(e,i,a){var l=Dt,h=ve(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((ee||h).memoizedState,a);if(_&&(h.memoizedState=a,Ce=!0),h=h.queue,qf(jg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},zg.bind(null,l,h,a,i),null),re===null)throw Error(s(349));d||(Ki&127)!==0||Pg(l,i,a)}return a}function Pg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Dt.updateQueue,i===null?(i=Wu(),Dt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function zg(e,i,a,l){i.value=a,i.getSnapshot=l,Bg(i)&&qg(e)}function jg(e,i,a){return a(function(){Bg(i)&&qg(e)})}function Bg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function qg(e){var i=xs(e,2);i!==null&&fn(i,e,2)}function jf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Bs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},i}function Hg(e,i,a,l){return e.baseState=a,Pf(e,ee,typeof l=="function"?l:Yi)}function SA(e,i,a,l,h){if(rc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Fg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Fg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),N=Q.S;N!==null&&N(_,T),Gg(e,i,T)}catch(j){Bf(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Gg(e,i,d)}catch(j){Bf(e,i,j)}}function Gg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(e,i,l)},function(l){return Bf(e,i,l)}):Qg(e,i,a)}function Qg(e,i,a){i.status="fulfilled",i.value=a,Kg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Fg(e,a)))}function Bf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Kg(i),i=i.next;while(i!==l)}e.action=null}function Kg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Yg(e,i){return i}function Xg(e,i){if(jt){var a=re.formState;if(a!==null){t:{var l=Dt;if(jt){if(ae){e:{for(var h=ae,d=Un;h.nodeType!==8;){if(!d){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=zn(h.nextSibling),l=h.data==="F!";break t}}Dr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},a.queue=l,a=my.bind(null,Dt,l),l.dispatch=a,l=jf(!1),d=Kf.bind(null,Dt,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=SA.bind(null,Dt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function $g(e){var i=ve();return Jg(i,ee,e)}function Jg(e,i,a){if(i=Pf(e,i,Yg)[0],e=ec(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=el(i)}catch(_){throw _===Na?Gu:_}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Dt.flags|=2048,Va(9,{destroy:void 0},AA.bind(null,h,a),null)),[l,d,e]}function AA(e,i){e.action=i}function Zg(e){var i=ve(),a=ee;if(a!==null)return Jg(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Va(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Dt.updateQueue,i===null&&(i=Wu(),Dt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Wg(){return ve().memoizedState}function nc(e,i,a,l){var h=rn();Dt.flags|=e,h.memoizedState=Va(1|i,{destroy:void 0},a,l===void 0?null:l)}function ic(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;ee!==null&&l!==null&&xf(l,ee.memoizedState.deps)?h.memoizedState=Va(i,d,a,l):(Dt.flags|=e,h.memoizedState=Va(1|i,d,a,l))}function ty(e,i){nc(8390656,8,e,i)}function qf(e,i){ic(2048,8,e,i)}function bA(e){Dt.flags|=4;var i=Dt.updateQueue;if(i===null)i=Wu(),Dt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function ey(e){var i=ve().memoizedState;return bA({ref:i,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ny(e,i){return ic(4,2,e,i)}function iy(e,i){return ic(4,4,e,i)}function ry(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function sy(e,i,a){a=a!=null?a.concat([e]):null,ic(4,4,ry.bind(null,i,e),a)}function Hf(){}function ay(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function oy(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=e(),Bs){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Ff(e,i,a){return a===void 0||(Ki&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=l_(),Dt.lanes|=e,zr|=e,a)}function ly(e,i,a,l){return _n(a,i)?a:Oa.current!==null?(e=Ff(e,a,l),_n(e,i)||(Ce=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Vt&261930)===0?(Ce=!0,e.memoizedState=a):(e=l_(),Dt.lanes|=e,zr|=e,i)}function uy(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,Kf(e,!1,i,a);try{var N=h(),j=Q.S;if(j!==null&&j(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=vA(N,l);nl(e,i,Y,bn(e))}else nl(e,i,l,bn(e))}catch(W){nl(e,i,{then:function(){},status:"rejected",reason:W},bn())}finally{at.p=d,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function wA(){}function Gf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=cy(e).queue;uy(e,h,i,dt,a===null?wA:function(){return hy(e),a(l)})}function cy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function hy(e){var i=cy(e);i.next===null&&(i=e.alternate.memoizedState),nl(e,i.next.queue,{},bn())}function Qf(){return He(vl)}function fy(){return ve().memoizedState}function dy(){return ve().memoizedState}function RA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=Mr(a);var l=Vr(i,e,a);l!==null&&(fn(l,i,a),Jo(l,i,a)),i={cache:Tf()},e.payload=i;return}i=i.return}}function CA(e,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(e)?py(i,a):(a=cf(e,i,a,l),a!==null&&(fn(a,e,l),gy(a,i,l)))}function my(e,i,a){var l=bn();nl(e,i,a,l)}function nl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(e))py(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,_))return Pu(e,i,h,0),re===null&&Uu(),!1}catch{}if(a=cf(e,i,h,l),a!==null)return fn(a,e,l),gy(a,i,l),!0}return!1}function Kf(e,i,a,l){if(l={lane:2,revertLane:wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(i)throw Error(s(479))}else i=cf(e,a,l,2),i!==null&&fn(i,e,2)}function rc(e){var i=e.alternate;return e===Dt||i!==null&&i===Dt}function py(e,i){xa=Ju=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function gy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,bo(e,a)}}var il={readContext:He,use:tc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};il.useEffectEvent=me;var yy={readContext:He,use:tc,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:ty,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,nc(4194308,4,ry.bind(null,i,e),a)},useLayoutEffect:function(e,i){return nc(4194308,4,e,i)},useInsertionEffect:function(e,i){nc(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(Bs){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Bs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=CA.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=jf(e);var i=e.queue,a=my.bind(null,Dt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(e,i){var a=rn();return Ff(a,e,i)},useTransition:function(){var e=jf(!1);return e=uy.bind(null,Dt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Dt,h=rn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(Vt&127)!==0||Pg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ty(jg.bind(null,l,d,e),[e]),l.flags|=2048,Va(9,{destroy:void 0},zg.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=re.identifierPrefix;if(jt){var a=Ri,l=wi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=EA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Qf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,Dt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Uf,useCacheRefresh:function(){return rn().memoizedState=RA.bind(null,Dt)},useEffectEvent:function(e){var i=rn(),a={impl:e};return i.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:He,use:tc,useCallback:ay,useContext:He,useEffect:qf,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:ec,useRef:Wg,useState:function(){return ec(Yi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ve();return ly(a,ee.memoizedState,e,i)},useTransition:function(){var e=ec(Yi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:Ug,useId:fy,useHostTransitionStatus:Qf,useFormState:$g,useActionState:$g,useOptimistic:function(e,i){var a=ve();return Hg(a,ee,e,i)},useMemoCache:Uf,useCacheRefresh:dy};Yf.useEffectEvent=ey;var _y={readContext:He,use:tc,useCallback:ay,useContext:He,useEffect:qf,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:zf,useRef:Wg,useState:function(){return zf(Yi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ve();return ee===null?Ff(a,e,i):ly(a,ee.memoizedState,e,i)},useTransition:function(){var e=zf(Yi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:Ug,useId:fy,useHostTransitionStatus:Qf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,i){var a=ve();return ee!==null?Hg(a,ee,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:dy};_y.useEffectEvent=ey;function Xf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $f={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=bn(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(e,h,l),i!==null&&(fn(i,e,l),Jo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=bn(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(e,h,l),i!==null&&(fn(i,e,l),Jo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(e,l,a),i!==null&&(fn(i,e,a),Jo(i,e,a))}};function vy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,l)||!Ho(h,d):!0}function Ey(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&$f.enqueueReplaceState(i,i.state,null)}function qs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Ty(e){Lu(e)}function Sy(e){console.error(e)}function Ay(e){Lu(e)}function sc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function by(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(e,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(e,i)},a}function wy(e){return e=Mr(e),e.tag=3,e}function Ry(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){by(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){by(i,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function IA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?yc():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Sd(e,l,h)),!1;case 22:return a.flags|=65536,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Sd(e,l,h)),!1}throw Error(s(435,a.tag))}return Sd(e,l,h),yc(),!1}if(jt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(e=Error(s(422),{cause:l}),Qo(Vn(e,a)))):(l!==gf&&(i=Error(s(423),{cause:l}),Qo(Vn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Vn(l,a),h=Jf(e.stateNode,l,h),Cf(e,h),pe!==4&&(pe=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),hl===null?hl=[d]:hl.push(d),pe!==4&&(pe=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Jf(a.stateNode,l,e),Cf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=wy(h),Ry(h,e,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(s(461)),Ce=!1;function Fe(e,i,a,l){i.child=e===null?Dg(i,null,a,l):js(i,e.child,a,l)}function Cy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ls(i),l=Mf(e,i,a,_,d,h),T=Vf(),e!==null&&!Ce?(kf(e,i,h),Xi(e,i,h)):(jt&&T&&mf(i),i.flags|=1,Fe(e,i,l,h),i.child)}function Iy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ny(e,i,d,l,h)):(e=ju(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ad(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,l)&&e.ref===i.ref)return Xi(e,i,h)}return i.flags|=1,e=Hi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ny(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Ho(d,l)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=l=d,ad(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Xi(e,i,h)}return Wf(e,i,a,l,h)}function Dy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Oy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fu(i,d!==null?d.cachePool:null),d!==null?Mg(i,d):Nf(),Vg(i);else return l=i.lanes=536870912,Oy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Fu(i,d.cachePool),Mg(i,d),Lr(),i.memoizedState=null):(e!==null&&Fu(i,null),Nf(),Lr());return Fe(e,i,h,a),i.child}function rl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Oy(e,i,a,l,h){var d=Af();return d=d===null?null:{parent:we._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Fu(i,null),Nf(),Vg(i),e!==null&&Ra(e,i,l,!0),i.childLanes=h,null}function ac(e,i){return i=lc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function xy(e,i,a){return js(i,e.child,null,a),e=ac(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function NA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=ac(i,l),i.lanes=536870912,rl(null,e);if(Of(i),(e=ae)?(e=F_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ir!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=pg(e),a.return=i,i.child=a,qe=i,ae=null)):e=null,e===null)throw Dr(i);return i.lanes=536870912,null}return ac(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Of(i),h)if(i.flags&256)i.flags&=-257,i=xy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ce||Ra(e,i,a,!1),h=(a&e.childLanes)!==0,Ce||h){if(l=re,l!==null&&(_=wo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xs(e,_),fn(l,e,_),Zf;yc(),i=xy(e,i,a)}else e=d.treeContext,ae=zn(_.nextSibling),qe=i,jt=!0,Nr=null,Un=!1,e!==null&&_g(i,e),i=ac(i,l),i.flags|=4096;return i}return e=Hi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function oc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Wf(e,i,a,l,h){return Ls(i),a=Mf(e,i,a,l,void 0,h),l=Vf(),e!==null&&!Ce?(kf(e,i,h),Xi(e,i,h)):(jt&&l&&mf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function My(e,i,a,l,h,d){return Ls(i),i.updateQueue=null,a=Lg(i,l,a,h),kg(e),l=Vf(),e!==null&&!Ce?(kf(e,i,d),Xi(e,i,d)):(jt&&l&&mf(i),i.flags|=1,Fe(e,i,a,d),i.child)}function Vy(e,i,a,l,h){if(Ls(i),i.stateNode===null){var d=Sa,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):Sa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),Wo(i,l,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,N=qs(a,T);d.props=N;var j=d.context,Y=a.contextType;_=Sa,typeof Y=="object"&&Y!==null&&(_=He(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&Ey(i,d,l,_),xr=!1;var B=i.memoizedState;d.state=B,Wo(i,l,d,h),Zo(),j=i.memoizedState,T||B!==j||xr?(typeof W=="function"&&(Xf(i,a,W,l),j=i.memoizedState),(N=xr||vy(i,a,N,l,B,j,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(e,i),_=i.memoizedProps,Y=qs(a,_),d.props=Y,W=i.pendingProps,B=d.context,j=a.contextType,N=Sa,typeof j=="object"&&j!==null&&(N=He(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||B!==N)&&Ey(i,d,l,N),xr=!1,B=i.memoizedState,d.state=B,Wo(i,l,d,h),Zo();var G=i.memoizedState;_!==W||B!==G||xr||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof T=="function"&&(Xf(i,a,T,l),G=i.memoizedState),(Y=xr||vy(i,a,Y,l,B,G,N)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,oc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=js(i,e.child,null,h),i.child=js(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Xi(e,i,h),e}function ky(e,i,a,l){return Vs(),i.flags|=256,Fe(e,i,a,l),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:bg()}}function nd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function Ly(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?kr(i):Lr(),(e=ae)?(e=F_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ir!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=pg(e),a.return=i,i.child=a,qe=i,ae=null)):e=null,e===null)throw Dr(i);return Pd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Lr(),h=i.mode,T=lc({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ed(a),l.childLanes=nd(e,_,a),i.memoizedState=td,rl(null,l)):(kr(i),id(i,T))}var N=e.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(kr(i),i.flags&=-257,i=rd(e,i,a)):i.memoizedState!==null?(Lr(),i.child=e.child,i.flags|=128,i=null):(Lr(),T=l.fallback,h=i.mode,l=lc({mode:"visible",children:l.children},h),T=Ms(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,js(i,e.child,null,a),l=i.child,l.memoizedState=ed(a),l.childLanes=nd(e,_,a),i.memoizedState=td,i=rl(null,l));else if(kr(i),Pd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,Qo({value:l,source:null,stack:null}),i=rd(e,i,a)}else if(Ce||Ra(e,i,a,!1),_=(a&e.childLanes)!==0,Ce||_){if(_=re,_!==null&&(l=wo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,xs(e,l),fn(_,e,l),Zf;Ud(T)||yc(),i=rd(e,i,a)}else Ud(T)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,ae=zn(T.nextSibling),qe=i,jt=!0,Nr=null,Un=!1,e!==null&&_g(i,e),i=id(i,l.children),i.flags|=4096);return i}return h?(Lr(),T=l.fallback,h=i.mode,N=e.child,j=N.sibling,l=Hi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?T=Hi(j,T):(T=Ms(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,rl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=ed(a):(h=T.cachePool,h!==null?(N=we._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=bg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=nd(e,_,a),i.memoizedState=td,rl(e.child,l)):(kr(i),a=e.child,e=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function id(e,i){return i=lc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function lc(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function rd(e,i,a){return js(i,e.child,null,a),e=id(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Uy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),vf(e.return,i,a)}function sd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Py(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=_e.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ot(_e,_),Fe(e,i,l,a),l=jt?Go:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uy(e,a,i);else if(e.tag===19)Uy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&$u(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&$u(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}sd(i,!0,a,null,d,l);break;case"together":sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ra(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Hi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Hi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function DA(e,i,a){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),Or(i,we,e.memoizedState.cache),Vs();break;case 27:case 5:sn(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Of(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ly(e,i,a):(kr(i),e=Xi(e,i,a),e!==null?e.sibling:null);kr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Py(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(_e,_e.current),l)break;return null;case 22:return i.lanes=0,Dy(e,i,a,i.pendingProps);case 24:Or(i,we,e.memoizedState.cache)}return Xi(e,i,a)}function zy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!ad(e,a)&&(i.flags&128)===0)return Ce=!1,DA(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,jt&&(i.flags&1048576)!==0&&yg(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Ps(i.elementType),i.type=e,typeof e=="function")hf(e)?(l=qs(e,l),i.tag=1,i=Vy(null,i,e,l,a)):(i.tag=0,i=Wf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){i.tag=11,i=Cy(null,i,e,l,a);break t}else if(h===I){i.tag=14,i=Iy(null,i,e,l,a);break t}}throw i=Wt(e)||e,Error(s(306,i,""))}}return i;case 0:return Wf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=qs(l,i.pendingProps),Vy(e,i,l,h,a);case 3:t:{if(gt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(e,i),Wo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Or(i,we,l),l!==d.cache&&Ef(i,[we],a,!0),Zo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ky(e,i,l,a);break t}else if(l!==h){h=Vn(Error(s(424)),i),Qo(h),i=ky(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=zn(e.firstChild),qe=i,jt=!0,Nr=null,Un=!0,a=Dg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Vs(),l===h){i=Xi(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return oc(e,i),e===null?(a=$_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=bc(Rt.current).createElement(a),l[Se]=i,l[Le]=e,Ge(l,a,e),Ae(l),i.stateNode=l):i.memoizedState=$_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return sn(i),e===null&&jt&&(l=i.stateNode=K_(i.type,i.pendingProps,Rt.current),qe=i,Un=!0,h=ae,Fr(i.type)?(zd=h,ae=zn(l.firstChild)):ae=h),Fe(e,i,i.pendingProps.children,a),oc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=l=ae)&&(l=a1(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,qe=i,ae=zn(l.firstChild),Un=!1,h=!0):h=!1),h||Dr(i)),sn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Vd(h,d)?l=null:_!==null&&Vd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(e,i,TA,null,null,a),vl._currentValue=h),oc(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ae)&&(a=o1(a,i.pendingProps,Un),a!==null?(i.stateNode=a,qe=i,ae=null,e=!0):e=!1),e||Dr(i)),null;case 13:return Ly(e,i,a);case 4:return gt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=js(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return Cy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ls(i),h=He(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return Iy(e,i,i.type,i.pendingProps,a);case 15:return Ny(e,i,i.type,i.pendingProps,a);case 19:return Py(e,i,a);case 31:return NA(e,i,a);case 22:return Dy(e,i,a,i.pendingProps);case 24:return Ls(i),l=He(we),e===null?(h=Af(),h===null&&(h=re,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),Or(i,we,h)):((e.lanes&a)!==0&&(Rf(e,i),Wo(i,null,null,a),Zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,we,l)):(l=d.cache,Or(i,we,l),l!==h.cache&&Ef(i,[we],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(e){e.flags|=4}function od(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(f_())e.flags|=8192;else throw zs=Qu,bf}else e.flags&=-16777217}function jy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ev(i))if(f_())e.flags|=8192;else throw zs=Qu,bf}function uc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?pu():536870912,e.lanes|=i,Pa|=i)}function sl(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function OA(e,i,a){var l=i.pendingProps;switch(pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qi(we),At(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wa(i)?$i(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yf())),oe(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?($i(i),d!==null?(oe(i),jy(i,d)):(oe(i),od(i,h,null,l,a))):d?d!==e.memoizedState?($i(i),oe(i),jy(i,d)):(oe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(i),oe(i),od(i,h,e,l,a)),null;case 27:if(Ui(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=ut.current,wa(i)?vg(i):(e=K_(h,l,a),i.stateNode=e,$i(i))}return oe(i),null;case 5:if(Ui(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(d=ut.current,wa(i))vg(i);else{var _=bc(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Se]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(i)}}return oe(i),od(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Rt.current,wa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L_(e.nodeValue,a)),e||Dr(i,!0)}else e=bc(e).createTextNode(l),e[Se]=i,i.stateNode=e}return oe(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=wa(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Se]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),e=!1}else a=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),oe(i),null);case 4:return At(),e===null&&Nd(i.stateNode.containerInfo),oe(i),null;case 10:return Qi(i.type),oe(i),null;case 19:if(Z(_e),l=i.memoizedState,l===null)return oe(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)sl(l,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=$u(e),d!==null){for(i.flags|=128,sl(l,!1),e=d.updateQueue,i.updateQueue=e,uc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)mg(a,e),a=a.sibling;return ot(_e,_e.current&1|2),jt&&Fi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&en()>mc&&(i.flags|=128,h=!0,sl(l,!1),i.lanes=4194304)}else{if(!h)if(e=$u(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,uc(i,e),sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!jt)return oe(i),null}else 2*en()-l.renderingStartTime>mc&&a!==536870912&&(i.flags|=128,h=!0,sl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,a=_e.current,ot(_e,h?a&1|2:a&1),jt&&Fi(i,l.treeForkCount),e):(oe(i),null);case 22:case 23:return Tn(i),Df(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Z(Us),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(we),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xA(e,i){switch(pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Qi(we),At(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ui(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Vs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Z(_e),null;case 4:return At(),null;case 10:return Qi(i.type),null;case 22:case 23:return Tn(i),Df(),e!==null&&Z(Us),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Qi(we),null;case 25:return null;default:return null}}function By(e,i){switch(pf(i),i.tag){case 3:Qi(we),At();break;case 26:case 27:case 5:Ui(i);break;case 4:At();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Z(_e);break;case 10:Qi(i.type);break;case 22:case 23:Tn(i),Df(),e!==null&&Z(Us);break;case 24:Qi(we)}}function al(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(i,i.return,T)}}function Ur(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,j=T;try{j()}catch(Y){Zt(h,N,Y)}}}l=l.next}while(l!==d)}}catch(Y){Zt(i,i.return,Y)}}function qy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{xg(i,a)}catch(l){Zt(e,e.return,l)}}}function Hy(e,i,a){a.props=qs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function ol(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,i,h)}}function Ci(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function Fy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function ld(e,i,a){try{var l=e.stateNode;t1(l,e.type,a,i),l[Le]=i}catch(h){Zt(e,e.return,h)}}function Gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fr(e.type)||e.tag===4}function ud(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Fr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(cd(e,i,a),e=e.sibling;e!==null;)cd(e,i,a),e=e.sibling}function cc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Fr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cc(e,i,a),e=e.sibling;e!==null;)cc(e,i,a),e=e.sibling}function Qy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,l,a),i[Se]=e,i[Le]=a}catch(d){Zt(e,e.return,d)}}var Ji=!1,Ie=!1,hd=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function MA(e,i){if(e=e.containerInfo,xd=Oc,e=sg(e),rf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,N=-1,j=0,Y=0,W=e,B=null;e:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)B=W,W=G;for(;;){if(W===e)break e;if(B===a&&++j===h&&(T=_),B===d&&++Y===l&&(N=_),(G=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=G}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:e,selectionRange:a},Oc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ht=qs(a.type,h);e=l.getSnapshotBeforeUpdate(ht,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Zt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ld(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Yy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(e,a),l&4&&al(5,a);break;case 1:if(Wi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Zt(a,a.return,_)}else{var h=qs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(a,a.return,_)}}l&64&&qy(a),l&512&&ol(a,a.return);break;case 3:if(Wi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{xg(e,i)}catch(_){Zt(a,a.return,_)}}break;case 27:i===null&&l&4&&Qy(a);case 26:case 5:Wi(e,a),i===null&&l&4&&Fy(a),l&512&&ol(a,a.return);break;case 12:Wi(e,a);break;case 31:Wi(e,a),l&4&&Jy(e,a);break;case 13:Wi(e,a),l&4&&Zy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qA.bind(null,a),l1(e,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){i=i!==null&&i.memoizedState!==null||Ie,h=Ji;var d=Ie;Ji=l,(Ie=i)&&!d?tr(e,a,(a.subtreeFlags&8772)!==0):Wi(e,a),Ji=h,Ie=d}break;case 30:break;default:Wi(e,a)}}function Xy(e){var i=e.alternate;i!==null&&(e.alternate=null,Xy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&la(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,ln=!1;function Zi(e,i,a){for(a=a.child;a!==null;)$y(e,i,a),a=a.sibling}function $y(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ie||Ci(a,i),Zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ci(a,i);var l=he,h=ln;Fr(a.type)&&(he=a.stateNode,ln=!1),Zi(e,i,a),gl(a.stateNode),he=l,ln=h;break;case 5:Ie||Ci(a,i);case 6:if(l=he,h=ln,he=null,Zi(e,i,a),he=l,ln=h,he!==null)if(ln)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{he.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:he!==null&&(ln?(e=he,q_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Qa(e)):q_(he,a.stateNode));break;case 4:l=he,h=ln,he=a.stateNode.containerInfo,ln=!0,Zi(e,i,a),he=l,ln=h;break;case 0:case 11:case 14:case 15:Ur(2,a,i),Ie||Ur(4,a,i),Zi(e,i,a);break;case 1:Ie||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hy(a,i,l)),Zi(e,i,a);break;case 21:Zi(e,i,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,Zi(e,i,a),Ie=l;break;default:Zi(e,i,a)}}function Jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(a){Zt(i,i.return,a)}}}function Zy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(a){Zt(i,i.return,a)}}function VA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ky),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ky),i;default:throw Error(s(435,e.tag))}}function hc(e,i){var a=VA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=HA.bind(null,e,l);l.then(h,h)}})}function un(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Fr(T.type)){he=T.stateNode,ln=!1;break t}break;case 5:he=T.stateNode,ln=!1;break t;case 3:case 4:he=T.stateNode.containerInfo,ln=!0;break t}T=T.return}if(he===null)throw Error(s(160));$y(d,_,h),he=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Wy(i,e),i=i.sibling}var Zn=null;function Wy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),l&4&&(Ur(3,e,e.return),al(3,e),Ur(5,e,e.return));break;case 1:un(i,e),cn(e),l&512&&(Ie||a===null||Ci(a,a.return)),l&64&&Ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(un(i,e),cn(e),l&512&&(Ie||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Se]=e,Ae(d),l=d;break t;case"link":var _=W_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(_=W_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,Ae(d),l=d}e.stateNode=l}else tv(h,e.type,e.stateNode);else e.stateNode=Z_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?tv(h,e.type,e.stateNode):Z_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ld(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),l&512&&(Ie||a===null||Ci(a,a.return)),a!==null&&l&4&&ld(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),l&512&&(Ie||a===null||Ci(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(ht){Zt(e,e.return,ht)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ld(e,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(un(i,e),cn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ht){Zt(e,e.return,ht)}}break;case 3:if(Cc=null,h=Zn,Zn=wc(i.containerInfo),un(i,e),Zn=h,cn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ht){Zt(e,e.return,ht)}hd&&(hd=!1,t_(e));break;case 4:l=Zn,Zn=wc(e.stateNode.containerInfo),un(i,e),cn(e),Zn=l;break;case 12:un(i,e),cn(e);break;case 31:un(i,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hc(e,l)));break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=Ji,Y=Ie;if(Ji=j||h,Ie=Y||N,un(i,e),Ie=Y,Ji=j,cn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Ji||Ie||Hs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var W=N.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ht){Zt(N,N.return,ht)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ht){Zt(N,N.return,ht)}}}else if(i.tag===18){if(a===null){N=i;try{var G=N.stateNode;h?H_(G,!0):H_(N.stateNode,!1)}catch(ht){Zt(N,N.return,ht)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hc(e,a))));break;case 19:un(i,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hc(e,l)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Gy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(e);cc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var T=ud(e);cc(e,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,j=ud(e);cd(e,j,N);break;default:throw Error(s(161))}}catch(Y){Zt(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function t_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;t_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Wi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yy(e,i.alternate,i),i=i.sibling}function Hs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),Hs(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hy(i,i.return,a),Hs(i);break;case 27:gl(i.stateNode);case 26:case 5:Ci(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}e=e.sibling}}function tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:tr(h,d,a),al(4,d);break;case 1:if(tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Zt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Og(N[h],T)}catch(j){Zt(l,l.return,j)}}a&&_&64&&qy(d),ol(d,d.return);break;case 27:Qy(d);case 26:case 5:tr(h,d,a),a&&l===null&&_&4&&Fy(d),ol(d,d.return);break;case 12:tr(h,d,a);break;case 31:tr(h,d,a),a&&_&4&&Jy(h,d);break;case 13:tr(h,d,a),a&&_&4&&Zy(h,d);break;case 22:d.memoizedState===null&&tr(h,d,a),ol(d,d.return);break;case 30:break;default:tr(h,d,a)}i=i.sibling}}function fd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ko(a))}function dd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e))}function Wn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e_(e,i,a,l),i=i.sibling}function e_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,l),h&2048&&al(9,i);break;case 1:Wn(e,i,a,l);break;case 3:Wn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){Wn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Zt(i,i.return,N)}}else Wn(e,i,a,l);break;case 31:Wn(e,i,a,l);break;case 13:Wn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(e,i,a,l):ll(e,i):d._visibility&2?Wn(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&fd(_,i);break;case 24:Wn(e,i,a,l),h&2048&&dd(i.alternate,i);break;default:Wn(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,N=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,T,N,h),al(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?ka(d,_,T,N,h):ll(d,_):(Y._visibility|=2,ka(d,_,T,N,h)),h&&j&2048&&fd(_.alternate,_);break;case 24:ka(d,_,T,N,h),h&&j&2048&&dd(_.alternate,_);break;default:ka(d,_,T,N,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&fd(l.alternate,l);break;case 24:ll(a,l),h&2048&&dd(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function La(e,i,a){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)n_(e,i,a),e=e.sibling}function n_(e,i,a){switch(e.tag){case 26:La(e,i,a),e.flags&ul&&e.memoizedState!==null&&E1(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:La(e,i,a);break;case 3:case 4:var l=Zn;Zn=wc(e.stateNode.containerInfo),La(e,i,a),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ul,ul=16777216,La(e,i,a),ul=l):La(e,i,a));break;default:La(e,i,a)}}function i_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,s_(l,e)}i_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)r_(e),e=e.sibling}function r_(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Ur(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,fc(e)):cl(e);break;default:cl(e)}}function fc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,s_(l,e)}i_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,fc(i));break;default:fc(i)}e=e.sibling}}function s_(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(Xy(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var kA={getCacheForType:function(e){var i=He(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(we).controller.signal}},LA=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,xt=null,Vt=0,Jt=0,Sn=null,Pr=!1,Ua=!1,md=!1,er=0,pe=0,zr=0,Fs=0,pd=0,An=0,Pa=0,hl=null,hn=null,gd=!1,dc=0,a_=0,mc=1/0,pc=null,jr=null,Ve=0,Br=null,za=null,nr=0,yd=0,_d=null,o_=null,fl=0,vd=null;function bn(){return(Qt&2)!==0&&Vt!==0?Vt&-Vt:Q.T!==null?wd():gu()}function l_(){if(An===0)if((Vt&536870912)===0||jt){var e=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),An=e}else An=536870912;return e=En.current,e!==null&&(e.flags|=32),An}function fn(e,i,a){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(ja(e,0),qr(e,Vt,An,!1)),_s(e,a),((Qt&2)===0||e!==re)&&(e===re&&((Qt&2)===0&&(Fs|=a),pe===4&&qr(e,Vt,An,!1)),Ii(e))}function u_(e,i,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=l?zA(e,i):Td(e,i,!0),d=l;do{if(h===0){Ua&&!l&&qr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!UA(a)){h=Td(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=hl;var N=T.current.memoizedState.isDehydrated;if(N&&(ja(T,_).flags|=256),_=Td(T,_,!1),_!==2){if(md&&!N){T.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break t}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ja(e,0),qr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,An,!Pr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=dc+300-en(),10<h)){if(qr(l,i,An,!Pr),ci(l,0,!0)!==0)break t;nr=i,l.timeoutHandle=j_(c_.bind(null,l,a,hn,pc,gd,i,An,Fs,Pa,Pr,d,"Throttled",-0,0),h);break t}c_(l,a,hn,pc,gd,i,An,Fs,Pa,Pr,d,null,-0,0)}}break}while(!0);Ii(e)}function c_(e,i,a,l,h,d,_,T,N,j,Y,W,B,G){if(e.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},n_(i,d,W);var ht=(d&62914560)===d?dc-en():(d&4194048)===d?a_-en():0;if(ht=T1(W,ht),ht!==null){nr=d,e.cancelPendingCommit=ht(__.bind(null,e,i,d,a,l,h,_,T,N,Y,W,null,B,G)),qr(e,d,_,!j);return}}__(e,i,d,a,l,h,_,T,N)}function UA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(e,i,a,l){i&=~pd,i&=~Fs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-ge(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&vs(e,a,i)}function gc(){return(Qt&6)===0?(dl(0),!1):!0}function Ed(){if(xt!==null){if(Jt===0)var e=xt.return;else e=xt,Gi=ks=null,Lf(e),Da=null,Xo=0,e=xt;for(;e!==null;)By(e.alternate,e),e=e.return;xt=null}}function ja(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,i1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),nr=0,Ed(),re=e,xt=a=Hi(e.current,null),Vt=i,Jt=0,Sn=null,Pr=!1,Ua=Hn(e,i),md=!1,Pa=An=pd=Fs=zr=pe=0,hn=hl=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-ge(l),d=1<<h;i|=e[h],l&=~d}return er=i,Uu(),a}function h_(e,i){Dt=null,Q.H=il,i===Na||i===Gu?(i=Cg(),Jt=3):i===bf?(i=Cg(),Jt=4):Jt=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,xt===null&&(pe=1,sc(e,Vn(i,e.current)))}function f_(){var e=En.current;return e===null?!0:(Vt&4194048)===Vt?Pn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Pn:!1}function d_(){var e=Q.H;return Q.H=il,e===null?il:e}function m_(){var e=Q.A;return Q.A=kA,e}function yc(){pe=4,Pr||(Vt&4194048)!==Vt&&En.current!==null||(Ua=!0),(zr&134217727)===0&&(Fs&134217727)===0||re===null||qr(re,Vt,An,!1)}function Td(e,i,a){var l=Qt;Qt|=2;var h=d_(),d=m_();(re!==e||Vt!==i)&&(pc=null,ja(e,i)),i=!1;var _=pe;t:do try{if(Jt!==0&&xt!==null){var T=xt,N=Sn;switch(Jt){case 8:Ed(),_=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var j=Jt;if(Jt=0,Sn=null,Ba(e,T,N,j),a&&Ua){_=0;break t}break;default:j=Jt,Jt=0,Sn=null,Ba(e,T,N,j)}}PA(),_=pe;break}catch(Y){h_(e,Y)}while(!0);return i&&e.shellSuspendCounter++,Gi=ks=null,Qt=l,Q.H=h,Q.A=d,xt===null&&(re=null,Vt=0,Uu()),_}function PA(){for(;xt!==null;)p_(xt)}function zA(e,i){var a=Qt;Qt|=2;var l=d_(),h=m_();re!==e||Vt!==i?(pc=null,mc=en()+500,ja(e,i)):Ua=Hn(e,i);t:do try{if(Jt!==0&&xt!==null){i=xt;var d=Sn;e:switch(Jt){case 1:Jt=0,Sn=null,Ba(e,i,d,1);break;case 2:case 9:if(wg(d)){Jt=0,Sn=null,g_(i);break}i=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),Ii(e)},d.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:wg(d)?(Jt=0,Sn=null,g_(i)):(Jt=0,Sn=null,Ba(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(_?ev(_):T.stateNode.complete){Jt=0,Sn=null;var N=T.sibling;if(N!==null)xt=N;else{var j=T.return;j!==null?(xt=j,_c(j)):xt=null}break e}}Jt=0,Sn=null,Ba(e,i,d,5);break;case 6:Jt=0,Sn=null,Ba(e,i,d,6);break;case 8:Ed(),pe=6;break t;default:throw Error(s(462))}}jA();break}catch(Y){h_(e,Y)}while(!0);return Gi=ks=null,Q.H=l,Q.A=h,Qt=a,xt!==null?0:(re=null,Vt=0,Uu(),pe)}function jA(){for(;xt!==null&&!$h();)p_(xt)}function p_(e){var i=zy(e.alternate,e,er);e.memoizedProps=e.pendingProps,i===null?_c(e):xt=i}function g_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=My(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=My(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:Lf(i);default:By(a,i),i=xt=mg(i,er),i=zy(a,i,er)}e.memoizedProps=e.pendingProps,i===null?_c(e):xt=i}function Ba(e,i,a,l){Gi=ks=null,Lf(i),Da=null,Xo=0;var h=i.return;try{if(IA(e,h,i,a,Vt)){pe=1,sc(e,Vn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;pe=1,sc(e,Vn(a,e.current)),xt=null;return}i.flags&32768?(jt||l===1?e=!0:Ua||(Vt&536870912)!==0?e=!1:(Pr=e=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),y_(i,e)):_c(i)}function _c(e){var i=e;do{if((i.flags&32768)!==0){y_(i,Pr);return}e=i.return;var a=OA(i.alternate,i,er);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);pe===0&&(pe=5)}function y_(e,i){do{var a=xA(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);pe=6,xt=null}function __(e,i,a,l,h,d,_,T,N){e.cancelPendingCommit=null;do vc();while(Ve!==0);if((Qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=uf,Wh(e,a,d,_,T,N),e===re&&(xt=re=null,Vt=0),za=i,Br=e,nr=a,yd=d,_d=h,o_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,FA(_r,function(){return A_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=at.p,at.p=2,_=Qt,Qt|=4;try{MA(e,i,a)}finally{Qt=_,at.p=h,Q.T=l}}Ve=1,v_(),E_(),T_()}}function v_(){if(Ve===1){Ve=0;var e=Br,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var h=Qt;Qt|=4;try{Wy(i,e);var d=Md,_=sg(e.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&rg(T.ownerDocument.documentElement,T)){if(N!==null&&rf(T)){var j=N.start,Y=N.end;if(Y===void 0&&(Y=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Y,T.value.length);else{var W=T.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var G=B.getSelection(),ht=T.textContent.length,yt=Math.min(N.start,ht),ie=N.end===void 0?yt:Math.min(N.end,ht);!G.extend&&yt>ie&&(_=ie,ie=yt,yt=_);var L=ig(T,yt),x=ig(T,ie);if(L&&x&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var z=W.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),yt>ie?(G.addRange(z),G.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),G.addRange(z))}}}}for(W=[],G=T;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Oc=!!xd,Md=xd=null}finally{Qt=h,at.p=l,Q.T=a}}e.current=i,Ve=2}}function E_(){if(Ve===2){Ve=0;var e=Br,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var h=Qt;Qt|=4;try{Yy(e,i.alternate,i)}finally{Qt=h,at.p=l,Q.T=a}}Ve=3}}function T_(){if(Ve===4||Ve===3){Ve=0,uu();var e=Br,i=za,a=nr,l=o_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,za=Br=null,S_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(jr=null),zi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=at.p,at.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,at.p=h}}(nr&3)!==0&&vc(),Ii(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===vd?fl++:(fl=0,vd=e):fl=0,dl(0)}}function S_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ko(i)))}function vc(){return v_(),E_(),T_(),A_()}function A_(){if(Ve!==5)return!1;var e=Br,i=yd;yd=0;var a=zi(nr),l=Q.T,h=at.p;try{at.p=32>a?32:a,Q.T=null,a=_d,_d=null;var d=Br,_=nr;if(Ve=0,za=Br=null,nr=0,(Qt&6)!==0)throw Error(s(331));var T=Qt;if(Qt|=4,r_(d.current),e_(d,d.current,_,a),Qt=T,dl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{at.p=h,Q.T=l,S_(e,i)}}function b_(e,i,a){i=Vn(a,i),i=Jf(e.stateNode,i,2),e=Vr(e,i,2),e!==null&&(_s(e,2),Ii(e))}function Zt(e,i,a){if(e.tag===3)b_(e,e,a);else for(;i!==null;){if(i.tag===3){b_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){e=Vn(a,e),a=wy(2),l=Vr(i,a,2),l!==null&&(Ry(a,l,i,e),_s(l,2),Ii(l));break}}i=i.return}}function Sd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new LA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(md=!0,h.add(a),e=BA.bind(null,e,i,a),i.then(e,e))}function BA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Vt&a)===a&&(pe===4||pe===3&&(Vt&62914560)===Vt&&300>en()-dc?(Qt&2)===0&&ja(e,0):pd|=a,Pa===Vt&&(Pa=0)),Ii(e)}function w_(e,i){i===0&&(i=pu()),e=xs(e,i),e!==null&&(_s(e,i),Ii(e))}function qA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),w_(e,a)}function HA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),w_(e,a)}function FA(e,i){return Me(e,i)}var Ec=null,qa=null,Ad=!1,Tc=!1,bd=!1,Hr=0;function Ii(e){e!==qa&&e.next===null&&(qa===null?Ec=qa=e:qa=qa.next=e),Tc=!0,Ad||(Ad=!0,QA())}function dl(e,i){if(!bd&&Tc){bd=!0;do for(var a=!1,l=Ec;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,N_(l,d))}else d=Vt,d=ci(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,N_(l,d));l=l.next}while(a);bd=!1}}function GA(){R_()}function R_(){Tc=Ad=!1;var e=0;Hr!==0&&n1()&&(e=Hr);for(var i=en(),a=null,l=Ec;l!==null;){var h=l.next,d=C_(l,i);d===0?(l.next=null,a===null?Ec=h:a.next=h,h===null&&(qa=a)):(a=l,(e!==0||(d&3)!==0)&&(Tc=!0)),l=h}Ve!==0&&Ve!==5||dl(e),Hr!==0&&(Hr=0)}function C_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ge(d),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Zh(T,i)):N<=i&&(e.expiredLanes|=T),d&=~T}if(i=re,a=Vt,a=ci(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&yr(l),zi(a)){case 2:case 8:a=Ao;break;case 32:a=_r;break;case 268435456:a=cu;break;default:a=_r}return l=I_.bind(null,e),a=Me(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&yr(l),e.callbackPriority=2,e.callbackNode=null,2}function I_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vc()&&e.callbackNode!==a)return null;var l=Vt;return l=ci(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(u_(e,l,i),C_(e,en()),e.callbackNode!=null&&e.callbackNode===a?I_.bind(null,e):null)}function N_(e,i){if(vc())return null;u_(e,i,!0)}function QA(){r1(function(){(Qt&6)!==0?Me(So,GA):R_()})}function wd(){if(Hr===0){var e=Ca;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Hr=e}return Hr}function D_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function O_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function KA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=D_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?D_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ti("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var N=_?O_(h,_):new FormData(h);Gf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?O_(h,_):new FormData(h),Gf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Rd=0;Rd<lf.length;Rd++){var Cd=lf[Rd],YA=Cd.toLowerCase(),XA=Cd[0].toUpperCase()+Cd.slice(1);Jn(YA,"on"+XA)}Jn(lg,"onAnimationEnd"),Jn(ug,"onAnimationIteration"),Jn(cg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(hA,"onTransitionRun"),Jn(fA,"onTransitionStart"),Jn(dA,"onTransitionCancel"),Jn(hg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function x_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,j=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(Y){Lu(Y)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,j=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(Y){Lu(Y)}h.currentTarget=null,d=N}}}}function Mt(e,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=e+"__bubble";a.has(l)||(M_(i,e,2,!1),a.add(l))}function Id(e,i,a){var l=0;i&&(l|=4),M_(a,e,l,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Nd(e){if(!e[Sc]){e[Sc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&($A.has(a)||Id(a,!1,e),Id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,Id("selectionchange",!1,i))}}function M_(e,i,a,l){switch(lv(i)){case 2:var h=b1;break;case 8:h=w1;break;default:h=Fd}a=h.bind(null,i,a,e),h=void 0,!bs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Dd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=mi(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}T=T.parentNode}}l=l.return}br(function(){var j=d,Y=Dn(a),W=[];t:{var B=fg.get(e);if(B!==void 0){var G=Ti,ht=e;switch(e){case"keypress":if(Rs(a)===0)break t;case"keydown":case"keyup":G=Mu;break;case"focusin":ht="focus",G=Is;break;case"focusout":ht="blur",G=Is;break;case"beforeblur":case"afterblur":G=Is;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case lg:case ug:case cg:G=Ru;break;case hg:G=A;break;case"scroll":case"scrollend":G=Po;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=qi;break;case"toggle":case"beforetoggle":G=Nt}var yt=(i&4)!==0,ie=!yt&&(e==="scroll"||e==="scrollend"),L=yt?B!==null?B+"Capture":null:B;yt=[];for(var x=j,z;x!==null;){var J=x;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=Kn(x,L),J!=null&&yt.push(pl(x,J,z))),ie)break;x=x.return}0<yt.length&&(B=new G(B,ht,null,a,Y),W.push({event:B,listeners:yt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",B&&a!==ko&&(ht=a.relatedTarget||a.fromElement)&&(mi(ht)||ht[fi]))break t;if((G||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,G?(ht=a.relatedTarget||a.toElement,G=j,ht=ht?mi(ht):null,ht!==null&&(ie=u(ht),yt=ht.tag,ht!==ie||yt!==5&&yt!==27&&yt!==6)&&(ht=null)):(G=null,ht=j),G!==ht)){if(yt=zo,J="onMouseLeave",L="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(yt=qi,J="onPointerLeave",L="onPointerEnter",x="pointer"),ie=G==null?B:gn(G),z=ht==null?B:gn(ht),B=new yt(J,x+"leave",G,a,Y),B.target=ie,B.relatedTarget=z,J=null,mi(Y)===j&&(yt=new yt(L,x+"enter",ht,a,Y),yt.target=z,yt.relatedTarget=ie,J=yt),ie=J,G&&ht)e:{for(yt=JA,L=G,x=ht,z=0,J=L;J;J=yt(J))z++;J=0;for(var mt=x;mt;mt=yt(mt))J++;for(;0<z-J;)L=yt(L),z--;for(;0<J-z;)x=yt(x),J--;for(;z--;){if(L===x||x!==null&&L===x.alternate){yt=L;break e}L=yt(L),x=yt(x)}yt=null}else yt=null;G!==null&&V_(W,B,G,yt,!1),ht!==null&&ie!==null&&V_(W,ie,ht,yt,!0)}}t:{if(B=j?gn(j):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Ht=Jp;else if(Xp(B))if(Zp)Ht=lA;else{Ht=aA;var ft=sA}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ha(j.elementType)&&(Ht=Jp):Ht=oA;if(Ht&&(Ht=Ht(e,j))){$p(W,Ht,a,Y);break t}ft&&ft(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&xo(B,"number",B.value)}switch(ft=j?gn(j):window,e){case"focusin":(Xp(ft)||ft.contentEditable==="true")&&(va=ft,sf=j,Fo=null);break;case"focusout":Fo=sf=va=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,ag(W,a,Y);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":ag(W,a,Y)}var Ot;if(Gt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else _a?Ns(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(bi&&a.locale!=="ko"&&(_a||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&_a&&(Ot=Uo()):(Ei=Y,Lo="value"in Ei?Ei.value:Ei.textContent,_a=!0)),ft=Ac(j,kt),0<ft.length&&(kt=new Ai(kt,e,null,a,Y),W.push({event:kt,listeners:ft}),Ot?kt.data=Ot:(Ot=ya(a),Ot!==null&&(kt.data=Ot)))),(Ot=xn?eA(e,a):nA(e,a))&&(kt=Ac(j,"onBeforeInput"),0<kt.length&&(ft=new Ai("onBeforeInput","beforeinput",null,a,Y),W.push({event:ft,listeners:kt}),ft.data=Ot)),KA(W,e,j,a,Y)}x_(W,i)})}function pl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ac(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(e,a),h!=null&&l.unshift(pl(e,h,d)),h=Kn(e,i),h!=null&&l.push(pl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function JA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function V_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,j=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||j===null||(N=j,h?(j=Kn(a,d),j!=null&&_.unshift(pl(a,j,N))):h||(j=Kn(a,d),j!=null&&_.push(pl(a,j,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var ZA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function k_(e){return(typeof e=="string"?e:""+e).replace(ZA,`
`).replace(WA,"")}function L_(e,i){return i=k_(i),k_(e)===i}function ne(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,l);break;case"style":Vo(e,l,d);break;case"data":if(i!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ne(e,i,"name",h.name,h,null),ne(e,i,"formEncType",h.formEncType,h,null),ne(e,i,"formMethod",h.formMethod,h,null),ne(e,i,"formTarget",h.formTarget,h,null)):(ne(e,i,"encType",h.encType,h,null),ne(e,i,"method",h.method,h,null),ne(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=fa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ua(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,ua(e,a,l))}}function Od(e,i,a,l,h,d){switch(a){case"style":Vo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?on(e,l):(typeof l=="number"||typeof l=="bigint")&&on(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ua(e,a,l)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ne(e,i,d,_,a,null)}}h&&ne(e,i,"srcSet",a.srcSet,a,null),l&&ne(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=_=h=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":N=Y;break;case"defaultChecked":j=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:ne(e,i,l,Y,a,null)}}Eu(e,d,T,N,j,_,h,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ne(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Er(e,!!l,i,!1):a!=null&&Er(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ne(e,i,_,T,a,null)}Tr(e,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ne(e,i,N,l,a,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<ml.length;l++)Mt(ml[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ne(e,i,j,l,a,null)}return;default:if(ha(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Od(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ne(e,i,T,l,a,null))}function t1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,N=null,j=null,Y=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(G)||ne(e,i,G,null,l,W)}}for(var B in l){var G=l[B];if(W=a[B],l.hasOwnProperty(B)&&(G!=null||W!=null))switch(B){case"type":d=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":Y=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==W&&ne(e,i,B,G,l,W)}}ca(e,_,T,N,j,Y,d,h);return;case"select":G=_=T=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||ne(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&ne(e,i,h,d,l,N)}i=T,a=_,l=G,B!=null?Er(e,!!a,B,!1):!!l!=!!a&&(i!=null?Er(e,!!a,i,!0):Er(e,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ne(e,i,_,h,l,d)}Tu(e,B,G);return;case"option":for(var ht in a)B=a[ht],a.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&(ht==="selected"?e.selected=!1:ne(e,i,ht,null,l,B));for(N in l)B=l[N],G=a[N],l.hasOwnProperty(N)&&B!==G&&(B!=null||G!=null)&&(N==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ne(e,i,N,B,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&ne(e,i,yt,null,l,B);for(j in l)if(B=l[j],G=a[j],l.hasOwnProperty(j)&&B!==G&&(B!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:ne(e,i,j,B,l,G)}return;default:if(ha(i)){for(var ie in a)B=a[ie],a.hasOwnProperty(ie)&&B!==void 0&&!l.hasOwnProperty(ie)&&Od(e,i,ie,void 0,l,B);for(Y in l)B=l[Y],G=a[Y],!l.hasOwnProperty(Y)||B===G||B===void 0&&G===void 0||Od(e,i,Y,B,l,G);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&ne(e,i,L,null,l,B);for(W in l)B=l[W],G=a[W],!l.hasOwnProperty(W)||B===G||B==null&&G==null||ne(e,i,W,B,l,G)}function U_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&U_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>T)break;var Y=N.transferSize,W=N.initiatorType;Y&&U_(W)&&(N=N.responseEnd,_+=Y*(N<T?1:(T-j)/(N-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xd=null,Md=null;function bc(e){return e.nodeType===9?e:e.ownerDocument}function P_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Vd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function n1(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(e){return B_.resolve(null).then(e).catch(s1)}:j_;function s1(e){setTimeout(function(){throw e})}function Fr(e){return e==="head"}function q_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")gl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,gl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&gl(e.ownerDocument.body);a=h}while(a);Qa(i)}function H_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ld(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function a1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[di])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function o1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function F_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=zn(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function Pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function l1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var zd=null;function G_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return zn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Q_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function K_(e,i,a){switch(i=bc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function gl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);la(e)}var jn=new Map,Y_=new Set;function wc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ir=at.d;at.d={f:u1,r:c1,D:h1,C:f1,L:d1,m:m1,X:g1,S:p1,M:y1};function u1(){var e=ir.f(),i=gc();return e||i}function c1(e){var i=Nn(e);i!==null&&i.tag===5&&i.type==="form"?hy(i):ir.r(e)}var Ha=typeof document>"u"?null:document;function X_(e,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Y_.has(h)||(Y_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ge(i,"link",e),Ae(i),l.head.appendChild(i)))}}function h1(e){ir.D(e),X_("dns-prefetch",e,null)}function f1(e,i){ir.C(e,i),X_("preconnect",e,i)}function d1(e,i,a){ir.L(e,i,a);var l=Ha;if(l&&e&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var d=h;switch(i){case"style":d=Fa(e);break;case"script":d=Ga(e)}jn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),jn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),Ge(i,"link",e),Ae(i),l.head.appendChild(i)))}}function m1(e,i){ir.m(e,i);var a=Ha;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(e)}if(!jn.has(d)&&(e=S({rel:"modulepreload",href:e},i),jn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Ge(l,"link",e),Ae(l),a.head.appendChild(l)}}}function p1(e,i,a){ir.S(e,i,a);var l=Ha;if(l&&e){var h=pi(l).hoistableStyles,d=Fa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(yl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=jn.get(d))&&jd(e,a);var N=_=l.createElement("link");Ae(N),Ge(N,"link",e),N._p=new Promise(function(j,Y){N.onload=j,N.onerror=Y}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function g1(e,i){ir.X(e,i);var a=Ha;if(a&&e){var l=pi(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(e=S({src:e,async:!0},i),(i=jn.get(h))&&Bd(e,i),d=a.createElement("script"),Ae(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function y1(e,i){ir.M(e,i);var a=Ha;if(a&&e){var l=pi(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=jn.get(h))&&Bd(e,i),d=a.createElement("script"),Ae(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $_(e,i,a,l){var h=(h=Rt.current)?wc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var d=pi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(yl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),d||_1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Fa(e){return'href="'+an(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function J_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function _1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",a),Ae(i),e.head.appendChild(i))}function Ga(e){return'[src="'+an(e)+'"]'}function _l(e){return"script[async]"+e}function Z_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,Ae(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),Ge(l,"style",h),Rc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Fa(a.href);var d=e.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,Ae(d),d;l=J_(a),(h=jn.get(h))&&jd(l,h),d=(e.ownerDocument||e).createElement("link"),Ae(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Ge(d,"link",l),i.state.loading|=4,Rc(d,a.precedence,e),i.instance=d;case"script":return d=Ga(a.src),(h=e.querySelector(_l(d)))?(i.instance=h,Ae(h),h):(l=a,(h=jn.get(d))&&(l=S({},a),Bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ge(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,a.precedence,e));return i.instance}function Rc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Cc=null;function W_(e,i,a){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(a,l)}else h=Cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function tv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function v1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ev(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function E1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(yl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ic.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ae(d);return}d=i.ownerDocument||i,l=J_(l),(h=jn.get(h))&&jd(l,h),d=d.createElement("link"),Ae(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Ge(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ic.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var qd=0;function T1(e,i){return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&qd===0&&(qd=62500*e1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>qd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nc=null;function Dc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nc=new Map,i.forEach(S1,e),Nc=null,Ic.call(e))}function S1(e,i){if(!(i.state.loading&4)){var a=Nc.get(e);if(a)var l=a.get(null);else{a=new Map,Nc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var vl={$$typeof:st,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function A1(e,i,a,l,h,d,_,T,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function nv(e,i,a,l,h,d,_,T,N,j,Y,W){return e=new A1(e,i,a,_,N,j,Y,W,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),e.current=d,d.stateNode=e,i=Tf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),e}function iv(e){return e?(e=Sa,e):Sa}function rv(e,i,a,l,h,d){h=iv(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(e,l,i),a!==null&&(fn(a,e,i),Jo(a,e,i))}function sv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Hd(e,i){sv(e,i),(e=e.alternate)&&sv(e,i)}function av(e){if(e.tag===13||e.tag===31){var i=xs(e,67108864);i!==null&&fn(i,e,67108864),Hd(e,67108864)}}function ov(e){if(e.tag===13||e.tag===31){var i=bn();i=Es(i);var a=xs(e,i);a!==null&&fn(a,e,i),Hd(e,i)}}var Oc=!0;function b1(e,i,a,l){var h=Q.T;Q.T=null;var d=at.p;try{at.p=2,Fd(e,i,a,l)}finally{at.p=d,Q.T=h}}function w1(e,i,a,l){var h=Q.T;Q.T=null;var d=at.p;try{at.p=8,Fd(e,i,a,l)}finally{at.p=d,Q.T=h}}function Fd(e,i,a,l){if(Oc){var h=Gd(l);if(h===null)Dd(e,i,l,xc,a),uv(e,l);else if(C1(h,e,i,a,l))l.stopPropagation();else if(uv(e,l),i&4&&-1<R1.indexOf(e)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-ge(_);T.entanglements[1]|=N,_&=~N}Ii(d),(Qt&6)===0&&(mc=en()+500,dl(0))}}break;case 31:case 13:T=xs(d,2),T!==null&&fn(T,d,2),gc(),Hd(d,2)}if(d=Gd(l),d===null&&Dd(e,i,l,xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(e,i,l,null,a)}}function Gd(e){return e=Dn(e),Qd(e)}var xc=null;function Qd(e){if(xc=null,e=mi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return xc=e,null}function lv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case So:return 2;case Ao:return 8;case _r:case Jh:return 32;case cu:return 268435456;default:return 32}default:return 32}}var Kd=!1,Gr=null,Qr=null,Kr=null,El=new Map,Tl=new Map,Yr=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(e,i){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Sl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&av(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function C1(e,i,a,l,h){switch(i){case"focusin":return Gr=Sl(Gr,e,i,a,l,h),!0;case"dragenter":return Qr=Sl(Qr,e,i,a,l,h),!0;case"mouseover":return Kr=Sl(Kr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,Sl(El.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,Sl(Tl.get(d)||null,e,i,a,l,h)),!0}return!1}function cv(e){var i=mi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){ov(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){ov(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ko=l,a.target.dispatchEvent(l),ko=null}else return i=Nn(a),i!==null&&av(i),e.blockedOn=a,!1;i.shift()}return!0}function hv(e,i,a){Mc(e)&&a.delete(i)}function I1(){Kd=!1,Gr!==null&&Mc(Gr)&&(Gr=null),Qr!==null&&Mc(Qr)&&(Qr=null),Kr!==null&&Mc(Kr)&&(Kr=null),El.forEach(hv),Tl.forEach(hv)}function Vc(e,i){e.blockedOn===i&&(e.blockedOn=null,Kd||(Kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,I1)))}var kc=null;function fv(e){kc!==e&&(kc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=Nn(a);d!==null&&(e.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(e){function i(N){return Vc(N,e)}Gr!==null&&Vc(Gr,e),Qr!==null&&Vc(Qr,e),Kr!==null&&Vc(Kr,e),El.forEach(i),Tl.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)cv(a),a.blockedOn===null&&Yr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||fv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(Qd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),fv(a)}}}function dv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Yd(e){this._internalRoot=e}Lc.prototype.render=Yd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();rv(a,l,e,i,null,null)},Lc.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;rv(e.current,2,null,e,null,null),gc(),i[fi]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var i=gu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,e),a===0&&cv(e)}};var mv=t.version;if(mv!=="19.2.3")throw Error(s(527,mv,"19.2.3"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var N1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{qn=Uc.inject(N1),je=Uc}catch{}}return bl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ty,d=Sy,_=Ay;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=nv(e,1,!1,null,null,a,l,null,h,d,_,dv),e[fi]=i.current,Nd(e),new Yd(i)},bl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ty,_=Sy,T=Ay,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=nv(e,1,!0,i,a??null,l,h,N,d,_,T,dv),i.context=iv(null),a=i.current,l=bn(),l=Es(l),h=Mr(l),h.callback=null,Vr(a,h,l),a=l,i.current.lanes=a,_s(i,a),Ii(i),e[fi]=i.current,Nd(e),new Lc(i)},bl.version="19.2.3",bl}var bv;function z1(){if(bv)return Jd.exports;bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Jd.exports=P1(),Jd.exports}var j1=z1();var wv="popstate";function B1(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=na(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),_m("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:zl(u))}function s(o,u){Rn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return H1(t,n,s,r)}function fe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Rn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q1(){return Math.random().toString(36).substring(2,10)}function Rv(r,t){return{usr:r.state,key:r.key,idx:t}}function _m(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?na(t):t,state:n,key:t&&t.key||s||q1()}}function zl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function na(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function H1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=E(),it=F==null?null:F-y;y=F,g&&g({action:m,location:$.location,delta:it})}function w(F,it){m="PUSH";let nt=_m($.location,F,it);n&&n(nt,F),y=E()+1;let st=Rv(nt,y),Tt=$.createHref(nt);try{f.pushState(st,"",Tt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(Tt)}u&&g&&g({action:m,location:$.location,delta:1})}function k(F,it){m="REPLACE";let nt=_m($.location,F,it);n&&n(nt,F),y=E();let st=Rv(nt,y),Tt=$.createHref(nt);f.replaceState(st,"",Tt),u&&g&&g({action:m,location:$.location,delta:0})}function X(F){return F1(F)}let $={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(wv,S),g=F,()=>{o.removeEventListener(wv,S),g=null}},createHref(F){return t(o,F)},createURL:X,encodeLocation(F){let it=X(F);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:w,replace:k,go(F){return f.go(F)}};return $}function F1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:zl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dT(r,t,n="/"){return G1(r,t,n,!1)}function G1(r,t,n,s){let o=typeof t=="string"?na(t):t,u=ur(o.pathname||"/",n);if(u==null)return null;let f=mT(r);Q1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=ib(u);m=eb(f[g],y,s)}return m}function mT(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;fe(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=or([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(fe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),mT(f.children,t,w,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:W1(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of pT(f.path))u(f,m,!0,g)}),t}function pT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=pT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Q1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:tb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var K1=/^:[\w-]+$/,Y1=3,X1=2,$1=1,J1=10,Z1=-2,Cv=r=>r==="*";function W1(r,t){let n=r.split("/"),s=n.length;return n.some(Cv)&&(s+=Z1),t&&(s+=X1),n.filter(o=>!Cv(o)).reduce((o,u)=>o+(K1.test(u)?Y1:u===""?$1:J1),s)}function tb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function eb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:or([u,S.pathname]),pathnameBase:ob(or([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=or([u,S.pathnameBase]))}return f}function rh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=nb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let X=m[w]||"";f=u.slice(0,u.length-X.length).replace(/(.)\/+$/,"$1")}const k=m[w];return S&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function nb(r,t=!1,n=!0){Rn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function ib(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ur(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rb=r=>gT.test(r);function sb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?na(r):r,u;if(n)if(rb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Iv(n.substring(1),"/"):u=Iv(n,t)}else u=t;return{pathname:u,search:lb(s),hash:ub(o)}}function Iv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function em(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ab(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Km(r){let t=ab(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Ym(r,t,n,s=!1){let o;typeof r=="string"?o=na(r):(o={...r},fe(!o.pathname||!o.pathname.includes("?"),em("?","pathname","search",o)),fe(!o.pathname||!o.pathname.includes("#"),em("#","pathname","hash",o)),fe(!o.search||!o.search.includes("#"),em("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?t[S]:"/"}let g=sb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var or=r=>r.join("/").replace(/\/\/+/g,"/"),ob=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ub=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,cb=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function fb(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _T(r,t){let n=r;if(typeof n!="string"||!gT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(yT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ur(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Rn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vT=["POST","PUT","PATCH","DELETE"];new Set(vT);var db=["GET",...vT];new Set(db);var co=q.createContext(null);co.displayName="DataRouter";var wh=q.createContext(null);wh.displayName="DataRouterState";var mb=q.createContext(!1),ET=q.createContext({isTransitioning:!1});ET.displayName="ViewTransition";var pb=q.createContext(new Map);pb.displayName="Fetchers";var gb=q.createContext(null);gb.displayName="Await";var Cn=q.createContext(null);Cn.displayName="Navigation";var Xl=q.createContext(null);Xl.displayName="Location";var si=q.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Xm=q.createContext(null);Xm.displayName="RouteError";var TT="REACT_ROUTER_ERROR",yb="REDIRECT",_b="ROUTE_ERROR_RESPONSE";function vb(r){if(r.startsWith(`${TT}:${yb}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Eb(r){if(r.startsWith(`${TT}:${_b}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new cb(t.status,t.statusText,t.data)}catch{}}function Tb(r,{relative:t}={}){fe(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Cn),{hash:o,pathname:u,search:f}=$l(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ho(){return q.useContext(Xl)!=null}function fs(){return fe(ho(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Xl).location}var ST="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(r){q.useContext(Cn).static||q.useLayoutEffect(r)}function Rh(){let{isDataRoute:r}=q.useContext(si);return r?Lb():Sb()}function Sb(){fe(ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(co),{basename:t,navigator:n}=q.useContext(Cn),{matches:s}=q.useContext(si),{pathname:o}=fs(),u=JSON.stringify(Km(s)),f=q.useRef(!1);return AT(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(Rn(f.current,ST),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Ym(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:or([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}var Ab=q.createContext(null);function bb(r){let t=q.useContext(si).outlet;return q.useMemo(()=>t&&q.createElement(Ab.Provider,{value:r},t),[t,r])}function $l(r,{relative:t}={}){let{matches:n}=q.useContext(si),{pathname:s}=fs(),o=JSON.stringify(Km(n));return q.useMemo(()=>Ym(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function wb(r,t){return bT(r,t)}function bT(r,t,n,s,o){fe(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Cn),{matches:f}=q.useContext(si),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let nt=S&&S.path||"";RT(y,!S||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let w=fs(),k;if(t){let nt=typeof t=="string"?na(t):t;fe(E==="/"||nt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),k=nt}else k=w;let X=k.pathname||"/",$=X;if(E!=="/"){let nt=E.replace(/^\//,"").split("/");$="/"+X.replace(/^\//,"").split("/").slice(nt.length).join("/")}let F=dT(r,{pathname:$});Rn(S||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Rn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let it=Db(F&&F.map(nt=>Object.assign({},nt,{params:Object.assign({},g,nt.params),pathname:or([E,u.encodeLocation?u.encodeLocation(nt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?E:or([E,u.encodeLocation?u.encodeLocation(nt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathnameBase])})),f,n,s,o);return t&&it?q.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},it):it}function Rb(){let r=kb(),t=hb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:o},n):null,f)}var Cb=q.createElement(Rb,null),wT=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Eb(r.digest);n&&(r=n)}let t=r!==void 0?q.createElement(si.Provider,{value:this.props.routeContext},q.createElement(Xm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(Ib,{error:r},t):t}};wT.contextType=mb;var nm=new WeakMap;function Ib({children:r,error:t}){let{basename:n}=q.useContext(Cn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=vb(t.digest);if(s){let o=nm.get(t);if(o)throw o;let u=_T(s.location,n);if(yT&&!nm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw nm.set(t,f),f}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Nb({routeContext:r,match:t,children:n}){let s=q.useContext(co);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(si.Provider,{value:r},n)}function Db(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);fe(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:w,errors:k}=n,X=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!k||k[S.route.id]===void 0);if(S.route.lazy||X){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:fb(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let k,X=!1,$=null,F=null;n&&(k=f&&S.route.id?f[S.route.id]:void 0,$=S.route.errorElement||Cb,m&&(g<0&&w===0?(RT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),X=!0,F=null):g===w&&(X=!0,F=S.route.hydrateFallbackElement||null)));let it=t.concat(u.slice(0,w+1)),nt=()=>{let st;return k?st=$:X?st=F:S.route.Component?st=q.createElement(S.route.Component,null):S.route.element?st=S.route.element:st=E,q.createElement(Nb,{match:S,routeContext:{outlet:E,matches:it,isDataRoute:n!=null},children:st})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?q.createElement(wT,{location:n.location,revalidation:n.revalidation,component:$,error:k,children:nt(),routeContext:{outlet:null,matches:it,isDataRoute:!0},onError:y}):nt()},null)}function $m(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ob(r){let t=q.useContext(co);return fe(t,$m(r)),t}function xb(r){let t=q.useContext(wh);return fe(t,$m(r)),t}function Mb(r){let t=q.useContext(si);return fe(t,$m(r)),t}function Jm(r){let t=Mb(r),n=t.matches[t.matches.length-1];return fe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Vb(){return Jm("useRouteId")}function kb(){let r=q.useContext(Xm),t=xb("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:t.errors?.[n]}function Lb(){let{router:r}=Ob("useNavigate"),t=Jm("useNavigate"),n=q.useRef(!1);return AT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Rn(n.current,ST),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Nv={};function RT(r,t,n){!t&&!Nv[r]&&(Nv[r]=!0,Rn(!1,n))}q.memo(Ub);function Ub({routes:r,future:t,state:n,onError:s}){return bT(r,void 0,n,s,t)}function Pb({to:r,replace:t,state:n,relative:s}){fe(ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Cn);Rn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(si),{pathname:f}=fs(),m=Rh(),g=Ym(r,Km(u),f,s==="path"),y=JSON.stringify(g);return q.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function CT(r){return bb(r.context)}function Gs(r){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zb({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){fe(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=na(n));let{pathname:y="/",search:E="",hash:S="",state:w=null,key:k="default"}=n,X=q.useMemo(()=>{let $=ur(y,m);return $==null?null:{location:{pathname:$,search:E,hash:S,state:w,key:k},navigationType:s}},[m,y,E,S,w,k,s]);return Rn(X!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),X==null?null:q.createElement(Cn.Provider,{value:g},q.createElement(Xl.Provider,{children:t,value:X}))}function jb({children:r,location:t}){return wb(vm(r),t)}function vm(r,t=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...t,o];if(s.type===q.Fragment){n.push.apply(n,vm(s.props.children,u));return}fe(s.type===Gs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var Qc="get",Kc="application/x-www-form-urlencoded";function Ch(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Bb(r){return Ch(r)&&r.tagName.toLowerCase()==="button"}function qb(r){return Ch(r)&&r.tagName.toLowerCase()==="form"}function Hb(r){return Ch(r)&&r.tagName.toLowerCase()==="input"}function Fb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Gb(r,t){return r.button===0&&(!t||t==="_self")&&!Fb(r)}var Pc=null;function Qb(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var Kb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function im(r){return r!=null&&!Kb.has(r)?(Rn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):r}function Yb(r,t){let n,s,o,u,f;if(qb(r)){let m=r.getAttribute("action");s=m?ur(m,t):null,n=r.getAttribute("method")||Qc,o=im(r.getAttribute("enctype"))||Kc,u=new FormData(r)}else if(Bb(r)||Hb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?ur(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Qc,o=im(r.getAttribute("formenctype"))||im(m.getAttribute("enctype"))||Kc,u=new FormData(m,r),!Qb()){let{name:y,type:E,value:S}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,S)}}else{if(Ch(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qc,s=null,o=Kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Xb(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&ur(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function $b(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Zb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await $b(u,n);return f.links?f.links():[]}return[]}));return nw(s.flat(1).filter(Jb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Wb(r,t,{includeHydrateFallback:n}={}){return tw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function tw(r){return[...new Set(r)]}function ew(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function nw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(ew(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function IT(){let r=q.useContext(co);return Zm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function iw(){let r=q.useContext(wh);return Zm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Wm=q.createContext(void 0);Wm.displayName="FrameworkContext";function NT(){let r=q.useContext(Wm);return Zm(r,"You must render this element inside a <HydratedRouter> element"),r}function rw(r,t){let n=q.useContext(Wm),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=it=>{it.forEach(nt=>{f(nt.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[r]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let k=()=>{o(!0)},X=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:wl(m,k),onBlur:wl(g,X),onMouseEnter:wl(y,k),onMouseLeave:wl(E,X),onTouchStart:wl(S,k)}]:[!1,w,{}]}function wl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function sw({page:r,...t}){let{router:n}=IT(),s=q.useMemo(()=>dT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(ow,{page:r,matches:s,...t}):null}function aw(r){let{manifest:t,routeModules:n}=NT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Zb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function ow({page:r,matches:t,...n}){let s=fs(),{future:o,manifest:u,routeModules:f}=NT(),{basename:m}=IT(),{loaderData:g,matches:y}=iw(),E=q.useMemo(()=>Dv(r,t,y,u,s,"data"),[r,t,y,u,s]),S=q.useMemo(()=>Dv(r,t,y,u,s,"assets"),[r,t,y,u,s]),w=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,F=!1;if(t.forEach(nt=>{let st=u.routes[nt.route.id];!st||!st.hasLoader||(!E.some(Tt=>Tt.route.id===nt.route.id)&&nt.route.id in g&&f[nt.route.id]?.shouldRevalidate||st.hasClientLoader?F=!0:$.add(nt.route.id))}),$.size===0)return[];let it=Xb(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&$.size>0&&it.searchParams.set("_routes",t.filter(nt=>$.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[it.pathname+it.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),k=q.useMemo(()=>Wb(S,u),[S,u]),X=aw(S);return q.createElement(q.Fragment,null,w.map($=>q.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),k.map($=>q.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),X.map(({key:$,link:F})=>q.createElement("link",{key:$,nonce:n.nonce,...F})))}function lw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uw&&(window.__reactRouterVersion="7.12.0")}catch{}function cw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=B1({window:s,v5Compat:!0}));let u=o.current,[f,m]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{n===!1?m(y):q.startTransition(()=>m(y))},[n]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(zb,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ih=q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...k},X){let{basename:$,unstable_useTransitions:F}=q.useContext(Cn),it=typeof y=="string"&&DT.test(y),nt=_T(y,$);y=nt.to;let st=Tb(y,{relative:o}),[Tt,wt,St]=rw(s,k),I=mw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function b(V){t&&t(V),V.defaultPrevented||I(V)}let R=q.createElement("a",{...k,...St,href:nt.absoluteURL||st,onClick:nt.isExternal||u?t:b,ref:lw(X,wt),target:g,"data-discover":!it&&n==="render"?"true":void 0});return Tt&&!it?q.createElement(q.Fragment,null,R,q.createElement(sw,{page:st})):R});Ih.displayName="Link";var hw=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=$l(f,{relative:y.relative}),w=fs(),k=q.useContext(wh),{navigator:X,basename:$}=q.useContext(Cn),F=k!=null&&vw(S)&&m===!0,it=X.encodeLocation?X.encodeLocation(S).pathname:S.pathname,nt=w.pathname,st=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(nt=nt.toLowerCase(),st=st?st.toLowerCase():null,it=it.toLowerCase()),st&&$&&(st=ur(st,$)||st);const Tt=it!=="/"&&it.endsWith("/")?it.length-1:it.length;let wt=nt===it||!o&&nt.startsWith(it)&&nt.charAt(Tt)==="/",St=st!=null&&(st===it||!o&&st.startsWith(it)&&st.charAt(it.length)==="/"),I={isActive:wt,isPending:St,isTransitioning:F},b=wt?t:void 0,R;typeof s=="function"?R=s(I):R=[s,wt?"active":null,St?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return q.createElement(Ih,{...y,"aria-current":b,className:R,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(I):g)});hw.displayName="NavLink";var fw=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Qc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...k},X)=>{let{unstable_useTransitions:$}=q.useContext(Cn),F=yw(),it=_w(m,{relative:y}),nt=f.toLowerCase()==="get"?"get":"post",st=typeof m=="string"&&DT.test(m),Tt=wt=>{if(g&&g(wt),wt.defaultPrevented)return;wt.preventDefault();let St=wt.nativeEvent.submitter,I=St?.getAttribute("formmethod")||f,b=()=>F(St||wt.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w});$&&n!==!1?q.startTransition(()=>b()):b()};return q.createElement("form",{ref:X,method:nt,action:it,onSubmit:s?g:Tt,...k,"data-discover":!st&&r==="render"?"true":void 0})});fw.displayName="Form";function dw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OT(r){let t=q.useContext(co);return fe(t,dw(r)),t}function mw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Rh(),E=fs(),S=$l(r,{relative:u});return q.useCallback(w=>{if(Gb(w,t)){w.preventDefault();let k=n!==void 0?n:zl(E)===zl(S),X=()=>y(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?q.startTransition(()=>X()):X()}},[E,y,S,n,s,t,r,o,u,f,m,g])}var pw=0,gw=()=>`__${String(++pw)}__`;function yw(){let{router:r}=OT("useSubmit"),{basename:t}=q.useContext(Cn),n=Vb(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=Yb(u,t);if(f.navigate===!1){let w=f.fetcherKey||gw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function _w(r,{relative:t}={}){let{basename:n}=q.useContext(Cn),s=q.useContext(si);fe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...$l(r||".",{relative:t})},f=fs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),zl(u)}function vw(r,{relative:t}={}){let n=q.useContext(ET);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OT("useViewTransitionState"),o=$l(r,{relative:t});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return rh(o.pathname,f)!=null||rh(o.pathname,u)!=null}function Nh({id:r,children:t}){return M.jsx("section",{id:r,className:"section center",children:t})}function Ew(){return M.jsxs(Nh,{children:[M.jsx("h1",{children:"Taskly"}),M.jsx(Ih,{to:"/login",children:"Get Started"})]})}const Tw=()=>{};var Ov={};const xT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Sw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},MT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,k=y&63;g||(k=64,f||(w=64)),s.push(n[E],n[S],n[w],n[k])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Sw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Aw;const w=u<<2|m>>4;if(s.push(w),y!==64){const k=m<<4&240|y>>2;if(s.push(k),S!==64){const X=y<<6&192|S;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bw=function(r){const t=xT(r);return MT.encodeByteArray(t,!0)},sh=function(r){return bw(r).replace(/\./g,"")},VT=function(r){try{return MT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rw=()=>ww().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof Ov>"u")return;const r=Ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Iw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&VT(r[1]);return t&&JSON.parse(t)},Dh=()=>{try{return Tw()||Rw()||Cw()||Iw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kT=r=>Dh()?.emulatorHosts?.[r],Nw=r=>{const t=kT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},LT=()=>Dh()?.config,UT=r=>Dh()?.[`_${r}`];class Dw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PT(r){return(await fetch(r,{credentials:"include"})).ok}function Ow(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const Ml={};function xw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?r.emulator.push(t):r.prod.push(t);return r}function Mw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let xv=!1;function zT(r,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Ml[r]===t||Ml[r]||xv)return;Ml[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=xw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{xv=!0,f()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Mw(s),k=n("text"),X=document.getElementById(k)||document.createElement("span"),$=n("learnmore"),F=document.getElementById($)||document.createElement("a"),it=n("preprendIcon"),nt=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const st=w.element;m(st),E(F,$);const Tt=y();g(nt,it),st.append(nt,X,F,Tt),document.body.appendChild(st)}u?(X.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function kw(){const r=Dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Uw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zw(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jw(){return!kw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bw(){try{return typeof indexedDB=="object"}catch{return!1}}function qw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const Hw="FirebaseError";class pr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Hw,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Fw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,s)}}function Fw(r,t){return r.replace(Gw,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Gw=/\{\$([^}]+)}/g;function Qw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Js(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Mv(u)&&Mv(f)){if(!Js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Mv(r){return r!==null&&typeof r=="object"}function Zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Kw(r,t){const n=new Yw(r,t);return n.subscribe.bind(n)}class Yw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Xw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function rm(){}function Ye(r){return r&&r._delegate?r._delegate:r}class Zs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qs="[DEFAULT]";class $w{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Dw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zw(t))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qs){return this.instances.has(t)}getOptions(t=Qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Jw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Qs){return this.component?this.component.multipleInstances?t:Qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jw(r){return r===Qs?void 0:r}function Zw(r){return r.instantiationMode==="EAGER"}class Ww{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $w(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const tR={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},eR=Lt.INFO,nR={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},iR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=nR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tp{constructor(t){this.name=t,this._logLevel=eR,this._logHandler=iR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const rR=(r,t)=>t.some(n=>r instanceof n);let Vv,kv;function sR(){return Vv||(Vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jT=new WeakMap,Em=new WeakMap,BT=new WeakMap,sm=new WeakMap,ep=new WeakMap;function oR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&jT.set(n,r)}).catch(()=>{}),ep.set(t,r),t}function lR(r){if(Em.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,t)}let Tm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Em.get(r);if(t==="objectStoreNames")return r.objectStoreNames||BT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function uR(r){Tm=r(Tm)}function cR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(am(this),t,...n);return BT.set(s,t.sort?t.sort():[t]),es(s)}:aR().includes(r)?function(...t){return r.apply(am(this),t),es(jT.get(this))}:function(...t){return es(r.apply(am(this),t))}}function hR(r){return typeof r=="function"?cR(r):(r instanceof IDBTransaction&&lR(r),rR(r,sR())?new Proxy(r,Tm):r)}function es(r){if(r instanceof IDBRequest)return oR(r);if(sm.has(r))return sm.get(r);const t=hR(r);return t!==r&&(sm.set(r,t),ep.set(t,r)),t}const am=r=>ep.get(r);function fR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=es(f);return s&&f.addEventListener("upgradeneeded",g=>{s(es(f.result),g.oldVersion,g.newVersion,es(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const dR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],om=new Map;function Lv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(om.get(t))return om.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=mR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||dR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return om.set(t,u),u}uR(r=>({...r,get:(t,n,s)=>Lv(t,n)||r.get(t,n,s),has:(t,n)=>!!Lv(t,n)||r.has(t,n)}));class pR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gR(r){return r.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Uv="0.14.6";const cr=new tp("@firebase/app"),yR="@firebase/app-compat",_R="@firebase/analytics-compat",vR="@firebase/analytics",ER="@firebase/app-check-compat",TR="@firebase/app-check",SR="@firebase/auth",AR="@firebase/auth-compat",bR="@firebase/database",wR="@firebase/data-connect",RR="@firebase/database-compat",CR="@firebase/functions",IR="@firebase/functions-compat",NR="@firebase/installations",DR="@firebase/installations-compat",OR="@firebase/messaging",xR="@firebase/messaging-compat",MR="@firebase/performance",VR="@firebase/performance-compat",kR="@firebase/remote-config",LR="@firebase/remote-config-compat",UR="@firebase/storage",PR="@firebase/storage-compat",zR="@firebase/firestore",jR="@firebase/ai",BR="@firebase/firestore-compat",qR="firebase",HR="12.6.0";const Am="[DEFAULT]",FR={[Sm]:"fire-core",[yR]:"fire-core-compat",[vR]:"fire-analytics",[_R]:"fire-analytics-compat",[TR]:"fire-app-check",[ER]:"fire-app-check-compat",[SR]:"fire-auth",[AR]:"fire-auth-compat",[bR]:"fire-rtdb",[wR]:"fire-data-connect",[RR]:"fire-rtdb-compat",[CR]:"fire-fn",[IR]:"fire-fn-compat",[NR]:"fire-iid",[DR]:"fire-iid-compat",[OR]:"fire-fcm",[xR]:"fire-fcm-compat",[MR]:"fire-perf",[VR]:"fire-perf-compat",[kR]:"fire-rc",[LR]:"fire-rc-compat",[UR]:"fire-gcs",[PR]:"fire-gcs-compat",[zR]:"fire-fst",[BR]:"fire-fst-compat",[jR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};const ah=new Map,GR=new Map,bm=new Map;function Pv(r,t){try{r.container.addComponent(t)}catch(n){cr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const t=r.name;if(bm.has(t))return cr.debug(`There were multiple attempts to register component ${t}.`),!1;bm.set(t,r);for(const n of ah.values())Pv(n,r);for(const n of GR.values())Pv(n,r);return!0}function np(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}const QR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Jl("app","Firebase",QR);class KR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const mo=HR;function qT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Am,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=LT()),!n)throw ns.create("no-options");const u=ah.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new Ww(o);for(const g of bm.values())f.addComponent(g);const m=new KR(n,s,f);return ah.set(o,m),m}function HT(r=Am){const t=ah.get(r);if(!t&&r===Am&&LT())return qT();if(!t)throw ns.create("no-app",{appName:r});return t}function is(r,t,n){let s=FR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cr.warn(f.join(" "));return}no(new Zs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const YR="firebase-heartbeat-database",XR=1,jl="firebase-heartbeat-store";let lm=null;function FT(){return lm||(lm=fR(YR,XR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),lm}async function $R(r){try{const n=(await FT()).transaction(jl),s=await n.objectStore(jl).get(GT(r));return await n.done,s}catch(t){if(t instanceof pr)cr.warn(t.message);else{const n=ns.create("idb-get",{originalErrorMessage:t?.message});cr.warn(n.message)}}}async function zv(r,t){try{const s=(await FT()).transaction(jl,"readwrite");await s.objectStore(jl).put(t,GT(r)),await s.done}catch(n){if(n instanceof pr)cr.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function GT(r){return`${r.name}!${r.options.appId}`}const JR=1024,ZR=30;class WR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ZR){const o=nC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jv(),{heartbeatsToSend:n,unsentEntries:s}=tC(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return cr.warn(t),""}}}function jv(){return new Date().toISOString().substring(0,10)}function tC(r,t=JR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Bv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Bv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bw()?qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $R(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return zv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return zv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Bv(r){return sh(JSON.stringify({version:2,heartbeats:r})).length}function nC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function iC(r){no(new Zs("platform-logger",t=>new pR(t),"PRIVATE")),no(new Zs("heartbeat",t=>new WR(t),"PRIVATE")),is(Sm,Uv,r),is(Sm,Uv,"esm2020"),is("fire-js","")}iC("");function QT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rC=QT,KT=new Jl("auth","Firebase",QT());const oh=new tp("@firebase/auth");function sC(r,...t){oh.logLevel<=Lt.WARN&&oh.warn(`Auth (${mo}): ${r}`,...t)}function Yc(r,...t){oh.logLevel<=Lt.ERROR&&oh.error(`Auth (${mo}): ${r}`,...t)}function ki(r,...t){throw rp(r,...t)}function ni(r,...t){return rp(r,...t)}function ip(r,t,n){const s={...rC(),[t]:n};return new Jl("auth","Firebase",s).create(t,{appName:r.name})}function Xs(r){return ip(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aC(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ki(r,"argument-error"),ip(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return KT.create(r,...t)}function Et(r,t,...n){if(!r)throw rp(t,...n)}function sr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Yc(t),new Error(t)}function hr(r,t){r||sr(t)}function wm(){return typeof self<"u"&&self.location?.href||""}function oC(){return qv()==="http:"||qv()==="https:"}function qv(){return typeof self<"u"&&self.location?.protocol||null}function lC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oC()||Uw()||"connection"in navigator)?navigator.onLine:!0}function uC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,hr(n>t,"Short delay should be less than long delay!"),this.isMobile=Vw()||Pw()}get(){return lC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sp(r,t){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class YT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fC=new Wl(3e4,6e4);function ap(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function po(r,t,n,s,o={}){return XT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zl({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return Lw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),YT.fetch()(await $T(r,r.config.apiHost,n,m),y)})}async function XT(r,t,n){r._canInitEmulator=!1;const s={...cC,...t};try{const o=new mC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw zc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw zc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ip(r,E,y);ki(r,E)}}catch(o){if(o instanceof pr)throw o;ki(r,"network-request-failed",{message:String(o)})}}async function dC(r,t,n,s,o={}){const u=await po(r,t,n,s,o);return"mfaPendingCredential"in u&&ki(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $T(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?sp(r.config,o):`${r.config.apiScheme}://${o}`;return hC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class mC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),fC.get())})}}function zc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ni(r,t,s);return o.customData._tokenResponse=n,o}async function pC(r,t){return po(r,"POST","/v1/accounts:delete",t)}async function lh(r,t){return po(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gC(r,t=!1){const n=Ye(r),s=await n.getIdToken(t),o=op(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Vl(um(o.auth_time)),issuedAtTime:Vl(um(o.iat)),expirationTime:Vl(um(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function um(r){return Number(r)*1e3}function op(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=VT(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Hv(r){const t=op(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof pr&&yC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function yC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class _C{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(r){const t=r.auth,n=await r.getIdToken(),s=await Bl(r,lh(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?JT(o.providerUserInfo):[],f=EC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function vC(r){const t=Ye(r);await uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function EC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function JT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function TC(r,t){const n=await XT(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $T(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(g.credentials="include"),YT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SC(r,t){return po(r,"POST","/v2/accounts:revokeToken",ap(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Hv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Hv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await TC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return sr("not implemented")}}function $r(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return gC(this,t)}reload(){return vC(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Xs(this.auth));const t=await this.getIdToken();return await Bl(this,pC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:k,providerData:X,stsTokenManager:$}=n;Et(S&&$,t,"internal-error");const F=Ja.fromJSON(this.name,$);Et(typeof S=="string",t,"internal-error"),$r(s,t.name),$r(o,t.name),Et(typeof w=="boolean",t,"internal-error"),Et(typeof k=="boolean",t,"internal-error"),$r(u,t.name),$r(f,t.name),$r(m,t.name),$r(g,t.name),$r(y,t.name),$r(E,t.name);const it=new ei({uid:S,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:E});return X&&Array.isArray(X)&&(it.providerData=X.map(nt=>({...nt}))),g&&(it._redirectEventId=g),it}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ja;m.updateFromIdToken(s);const g=new ei({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Fv=new Map;function ar(r){hr(r instanceof Function,"Expected a class definition");let t=Fv.get(r);return t?(hr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Fv.set(r,t),t)}class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ZT.type="NONE";const Gv=ZT;function Xc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await lh(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(ar(Gv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ar(Gv);const f=Xc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await lh(t,{idToken:E}).catch(()=>{});if(!w)break;S=await ei._fromGetAccountInfoResponse(t,w,E)}else S=ei._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Za(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Za(u,t,s))}}function Qv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(n0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(r0(t))return"Blackberry";if(s0(t))return"Webos";if(t0(t))return"Safari";if((t.includes("chrome/")||e0(t))&&!t.includes("edge/"))return"Chrome";if(i0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function WT(r=tn()){return/firefox\//i.test(r)}function t0(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function e0(r=tn()){return/crios\//i.test(r)}function n0(r=tn()){return/iemobile/i.test(r)}function i0(r=tn()){return/android/i.test(r)}function r0(r=tn()){return/blackberry/i.test(r)}function s0(r=tn()){return/webos/i.test(r)}function lp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AC(r=tn()){return lp(r)&&!!window.navigator?.standalone}function bC(){return zw()&&document.documentMode===10}function a0(r=tn()){return lp(r)||i0(r)||s0(r)||r0(r)||/windows phone/i.test(r)||n0(r)}function o0(r,t=[]){let n;switch(r){case"Browser":n=Qv(tn());break;case"Worker":n=`${Qv(tn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}class wC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function RC(r,t={}){return po(r,"GET","/v2/passwordPolicy",ap(r,t))}const CC=6;class IC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class NC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new wC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await lh(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await uh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Xs(this));const n=t?Ye(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await RC(this),n=new IC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ar(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Oh(r){return Ye(r)}class Kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Kw(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DC(r){up=r}function OC(r){return up.loadJS(r)}function xC(){return up.gapiScript}function MC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function VC(r,t){const n=np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,t??{}))return o;ki(o,"already-initialized")}return n.initialize({options:t})}function kC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function LC(r,t,n){const s=Oh(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=l0(t),{host:f,port:m}=UC(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Js(y,s.config.emulator)&&Js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,fo(f)?(PT(`${u}//${f}${g}`),zT("Auth",!0)):PC()}function l0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function UC(r){const t=l0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Yv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Yv(f)}}}function Yv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function PC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class u0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,n){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}async function Wa(r,t){return dC(r,"POST","/v1/accounts:signInWithIdp",ap(r,t))}const zC="http://localhost";class Ws extends u0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ws(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Wa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Wa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wa(t,n)}buildRequest(){const t={requestUri:zC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}class cp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class tu extends cp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Jr extends tu{constructor(){super("facebook.com")}static credential(t){return Ws._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jr.credential(t.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class rr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ws._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return rr.credential(n,s)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class Zr extends tu{constructor(){super("github.com")}static credential(t){return Ws._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class Wr extends tu{constructor(){super("twitter.com")}static credential(t,n){return Ws._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class io{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ei._fromIdTokenResponse(t,s,o),f=Xv(s);return new io({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Xv(s);return new io({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Xv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ch extends pr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new ch(t,n,s,o)}}function c0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(r,u,t,s):u})}async function jC(r,t,n=!1){const s=await Bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return io._forOperation(r,"link",s)}async function BC(r,t,n=!1){const{auth:s}=r;if(ti(s.app))return Promise.reject(Xs(s));const o="reauthenticate";try{const u=await Bl(r,c0(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=op(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(r.uid===m,s,"user-mismatch"),io._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ki(s,"user-mismatch"),u}}async function qC(r,t,n=!1){if(ti(r.app))return Promise.reject(Xs(r));const s="signIn",o=await c0(r,s,t),u=await io._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function HC(r,t,n,s){return Ye(r).onIdTokenChanged(t,n,s)}function FC(r,t,n){return Ye(r).beforeAuthStateChanged(t,n)}function GC(r,t,n,s){return Ye(r).onAuthStateChanged(t,n,s)}function QC(r){return Ye(r).signOut()}const hh="__sak";class h0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const KC=1e3,YC=10;class f0 extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);bC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,YC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}f0.type="LOCAL";const XC=f0;class d0 extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}d0.type="SESSION";const m0=d0;function $C(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new xh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await $C(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function hp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class JC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=hp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Di(){return window}function ZC(r){Di().location.href=r}function p0(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function WC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tI(){return navigator?.serviceWorker?.controller||null}function eI(){return p0()?self:null}const g0="firebaseLocalStorageDb",nI=1,fh="firebaseLocalStorage",y0="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(r,t){return r.transaction([fh],t?"readwrite":"readonly").objectStore(fh)}function iI(){const r=indexedDB.deleteDatabase(g0);return new eu(r).toPromise()}function Cm(){const r=indexedDB.open(g0,nI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(fh,{keyPath:y0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(fh)?t(s):(s.close(),await iI(),t(await Cm()))})})}async function $v(r,t,n){const s=Mh(r,!0).put({[y0]:t,value:n});return new eu(s).toPromise()}async function rI(r,t){const n=Mh(r,!1).get(t),s=await new eu(n).toPromise();return s===void 0?null:s.value}function Jv(r,t){const n=Mh(r,!0).delete(t);return new eu(n).toPromise()}const sI=800,aI=3;class _0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>aI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(eI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WC(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cm();return await $v(t,hh,"1"),await Jv(t,hh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$v(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>rI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Mh(o,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_0.type="LOCAL";const oI=_0;new Wl(3e4,6e4);function v0(r,t){return t?ar(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class fp extends u0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lI(r){return qC(r.auth,new fp(r),r.bypassAuthState)}function uI(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),BC(n,new fp(r),r.bypassAuthState)}async function cI(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),jC(n,new fp(r),r.bypassAuthState)}class E0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lI;case"linkViaPopup":case"linkViaRedirect":return cI;case"reauthViaPopup":case"reauthViaRedirect":return uI;default:ki(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hI=new Wl(2e3,1e4);async function fI(r,t,n){if(ti(r.app))return Promise.reject(ni(r,"operation-not-supported-in-this-environment"));const s=Oh(r);aC(r,t,cp);const o=v0(s,n);return new Ks(s,"signInViaPopup",t,o).executeNotNull()}class Ks extends E0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hI.get())};t()}}Ks.currentPopupAction=null;const dI="pendingRedirect",$c=new Map;class mI extends E0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=$c.get(this.auth._key());if(!t){try{const s=await pI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}$c.set(this.auth._key(),t)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pI(r,t){const n=_I(t),s=yI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function gI(r,t){$c.set(r._key(),t)}function yI(r){return ar(r._redirectPersistence)}function _I(r){return Xc(dI,r.config.apiKey,r.name)}async function vI(r,t,n=!1){if(ti(r.app))return Promise.reject(Xs(r));const s=Oh(r),o=v0(s,t),f=await new mI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const EI=600*1e3;class TI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!T0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(t))}saveEventToCache(t){this.cachedEventUids.add(Zv(t)),this.lastProcessedEventTime=Date.now()}}function Zv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function T0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function SI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T0(r);default:return!1}}async function AI(r,t={}){return po(r,"GET","/v1/projects",t)}const bI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wI=/^https?/;async function RI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await AI(r);for(const n of t)try{if(CI(n))return}catch{}ki(r,"unauthorized-domain")}function CI(r){const t=wm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!wI.test(n))return!1;if(bI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const II=new Wl(3e4,6e4);function Wv(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function NI(r){return new Promise((t,n)=>{function s(){Wv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(ni(r,"network-request-failed"))},timeout:II.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=MC("iframefcb");return Di()[o]=()=>{gapi.load?s():n(ni(r,"network-request-failed"))},OC(`${xC()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Jc=null,t})}let Jc=null;function DI(r){return Jc=Jc||NI(r),Jc}const OI=new Wl(5e3,15e3),xI="__/auth/iframe",MI="emulator/auth/iframe",VI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LI(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?sp(t,MI):`https://${r.config.authDomain}/${xI}`,s={apiKey:t.apiKey,appName:r.name,v:mo},o=kI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zl(s).slice(1)}`}async function UI(r){const t=await DI(r),n=Di().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:LI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ni(r,"network-request-failed"),m=Di().setTimeout(()=>{u(f)},OI.get());function g(){Di().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zI=500,jI=600,BI="_blank",qI="http://localhost";class tE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HI(r,t,n,s=zI,o=jI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...PI,width:s.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(m=e0(y)?BI:n),WT(y)&&(t=t||qI,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[k,X])=>`${w}${k}=${X},`,"");if(AC(y)&&m!=="_self")return FI(t||"",m),new tE(null);const S=window.open(t||"",m,E);Et(S,r,"popup-blocked");try{S.focus()}catch{}return new tE(S)}function FI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const GI="__/auth/handler",QI="emulator/auth/handler",KI=encodeURIComponent("fac");async function eE(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(t instanceof cp){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Qw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof tu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${KI}=${encodeURIComponent(g)}`:"";return`${YI(r)}?${Zl(m).slice(1)}${y}`}function YI({config:r}){return r.emulator?sp(r,QI):`https://${r.authDomain}/${GI}`}const cm="webStorageSupport";class XI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m0,this._completeRedirectFn=vI,this._overrideRedirectResult=gI}async _openPopup(t,n,s,o){hr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await eE(t,n,s,wm(),o);return HI(t,u,hp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await eE(t,n,s,wm(),o);return ZC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await UI(t),s=new TI(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(cm,{type:cm},o=>{const u=o?.[0]?.[cm];u!==void 0&&n(!!u),ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return a0()||t0()||lp()}}const $I=XI;var nE="@firebase/auth",iE="1.12.0";class JI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(r){no(new Zs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(r)},y=new NC(s,o,u,g);return kC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),no(new Zs("auth-internal",t=>{const n=Oh(t.getProvider("auth").getImmediate());return(s=>new JI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(nE,iE,ZI(r)),is(nE,iE,"esm2020")}const t2=300,e2=UT("authIdTokenMaxAge")||t2;let rE=null;const n2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>e2)return;const o=n?.token;rE!==o&&(rE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function i2(r=HT()){const t=np(r,"auth");if(t.isInitialized())return t.getImmediate();const n=VC(r,{popupRedirectResolver:$I,persistence:[oI,XC,m0]}),s=UT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=n2(u.toString());FC(n,f,()=>f(n.currentUser)),HC(n,m=>f(m))}}const o=kT("auth");return o&&LC(n,`http://${o}`),n}function r2(){return document.getElementsByTagName("head")?.[0]??document}DC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",r2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");var s2="firebase",a2="12.7.0";is(s2,a2,"app");var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,S0;(function(){var r;function t(I,b){function R(){}R.prototype=b.prototype,I.F=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,D,U){for(var C=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)C[Wt-2]=arguments[Wt];return b.prototype[D].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,R){R||(R=0);const V=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)V[D]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],D=I.g[2];let U=I.g[3],C;C=b+(U^R&(D^U))+V[0]+3614090360&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(D^b&(R^D))+V[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=D+(R^U&(b^R))+V[2]+606105819&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(b^D&(U^b))+V[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=b+(U^R&(D^U))+V[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(D^b&(R^D))+V[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=D+(R^U&(b^R))+V[6]+2821735955&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(b^D&(U^b))+V[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=b+(U^R&(D^U))+V[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(D^b&(R^D))+V[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=D+(R^U&(b^R))+V[10]+4294925233&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(b^D&(U^b))+V[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=b+(U^R&(D^U))+V[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(D^b&(R^D))+V[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=D+(R^U&(b^R))+V[14]+2792965006&4294967295,D=U+(C<<17&4294967295|C>>>15),C=R+(b^D&(U^b))+V[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=b+(D^U&(R^D))+V[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(b^R))+V[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=D+(b^R&(U^b))+V[11]+643717713&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(D^U))+V[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=b+(D^U&(R^D))+V[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(b^R))+V[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=D+(b^R&(U^b))+V[15]+3634488961&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(D^U))+V[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=b+(D^U&(R^D))+V[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(b^R))+V[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=D+(b^R&(U^b))+V[3]+4107603335&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(D^U))+V[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=b+(D^U&(R^D))+V[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^D&(b^R))+V[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=D+(b^R&(U^b))+V[7]+1735328473&4294967295,D=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(D^U))+V[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=b+(R^D^U)+V[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^D)+V[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=D+(U^b^R)+V[11]+1839030562&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^b)+V[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=b+(R^D^U)+V[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^D)+V[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=D+(U^b^R)+V[7]+4139469664&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^b)+V[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=b+(R^D^U)+V[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^D)+V[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=D+(U^b^R)+V[3]+3572445317&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^b)+V[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=b+(R^D^U)+V[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^D)+V[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=D+(U^b^R)+V[15]+530742520&4294967295,D=U+(C<<16&4294967295|C>>>16),C=R+(D^U^b)+V[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=b+(D^(R|~U))+V[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~D))+V[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=D+(b^(U|~R))+V[14]+2878612391&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~b))+V[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=b+(D^(R|~U))+V[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~D))+V[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=D+(b^(U|~R))+V[10]+4293915773&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~b))+V[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=b+(D^(R|~U))+V[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~D))+V[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=D+(b^(U|~R))+V[6]+2734768916&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~b))+V[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=b+(D^(R|~U))+V[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~D))+V[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=D+(b^(U|~R))+V[2]+718787259&4294967295,D=U+(C<<15&4294967295|C>>>17),C=R+(U^(D|~b))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,b){b===void 0&&(b=I.length);const R=b-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<b;){if(D==0)for(;U<=R;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<b;)if(V[D++]=I.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<b;)if(V[D++]=I[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=b},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[b++]=this.g[R]>>>V&255;return I};function u(I,b){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function f(I,b){this.h=b;const R=[];let V=!0;for(let D=I.length-1;D>=0;D--){const U=I[D]|0;V&&U==b||(R[D]=U,V=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?u(I,function(b){return new f([b|0],b<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return F(y(-I));const b=[];let R=1;for(let V=0;I>=R;V++)b[V]=I/R|0,R*=4294967296;return new f(b,0)}function E(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return F(E(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let V=S;for(let U=0;U<I.length;U+=8){var D=Math.min(8,I.length-U);const C=parseInt(I.substring(U,U+D),b);D<8?(D=y(Math.pow(b,D)),V=V.j(D).add(y(C))):(V=V.j(R),V=V.add(y(C)))}return V}var S=g(0),w=g(1),k=g(16777216);r=f.prototype,r.m=function(){if($(this))return-F(this).m();let I=0,b=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(X(this))return"0";if($(this))return"-"+F(this).toString(I);const b=y(Math.pow(I,6));var R=this;let V="";for(;;){const D=Tt(R,b).g;R=it(R,D.j(b));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,X(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function X(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function $(I){return I.h==-1}r.l=function(I){return I=it(this,I),$(I)?-1:X(I)?0:1};function F(I){const b=I.g.length,R=[];for(let V=0;V<b;V++)R[V]=~I.g[V];return new f(R,~I.h).add(w)}r.abs=function(){return $(this)?F(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let D=0;D<=b;D++){let U=V+(this.i(D)&65535)+(I.i(D)&65535),C=(U>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=C>>>16,U&=65535,C&=65535,R[D]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function it(I,b){return I.add(F(b))}r.j=function(I){if(X(this)||X(I))return S;if($(this))return $(I)?F(this).j(F(I)):F(F(this).j(I));if($(I))return F(this.j(F(I)));if(this.l(k)<0&&I.l(k)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,R=[];for(var V=0;V<2*b;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const U=this.i(V)>>>16,C=this.i(V)&65535,Wt=I.i(D)>>>16,le=I.i(D)&65535;R[2*V+2*D]+=C*le,nt(R,2*V+2*D),R[2*V+2*D+1]+=U*le,nt(R,2*V+2*D+1),R[2*V+2*D+1]+=C*Wt,nt(R,2*V+2*D+1),R[2*V+2*D+2]+=U*Wt,nt(R,2*V+2*D+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new f(R,0)};function nt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function st(I,b){this.g=I,this.h=b}function Tt(I,b){if(X(b))throw Error("division by zero");if(X(I))return new st(S,S);if($(I))return b=Tt(F(I),b),new st(F(b.g),F(b.h));if($(b))return b=Tt(I,F(b)),new st(F(b.g),b.h);if(I.g.length>30){if($(I)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,V=b;V.l(I)<=0;)R=wt(R),V=wt(V);var D=St(R,1),U=St(V,1);for(V=St(V,2),R=St(R,2);!X(V);){var C=U.add(V);C.l(I)<=0&&(D=D.add(R),U=C),V=St(V,1),R=St(R,1)}return b=it(I,D.j(b)),new st(D,b)}for(D=S;I.l(b)>=0;){for(R=Math.max(1,Math.floor(I.m()/b.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(R),C=U.j(b);$(C)||C.l(I)>0;)R-=V,U=y(R),C=U.j(b);X(U)&&(U=w),D=D.add(U),I=it(I,C)}return new st(D,I)}r.B=function(I){return Tt(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)&I.i(V);return new f(R,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)|I.i(V);return new f(R,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)^I.i(V);return new f(R,this.h^I.h)};function wt(I){const b=I.g.length+1,R=[];for(let V=0;V<b;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(R,I.h)}function St(I,b){const R=b>>5;b%=32;const V=I.g.length-R,D=[];for(let U=0;U<V;U++)D[U]=b>0?I.i(U+R)>>>b|I.i(U+R+1)<<32-b:I.i(U+R);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,S0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,rs=f}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A0,Cl,b0,Zc,Im,w0,R0,C0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,H){for(var rt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)rt[Nt-2]=arguments[Nt];return p.prototype[P].apply(A,rt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function X(c,p){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const H=P.length||0;c.length=v+H;for(let rt=0;rt<H;rt++)c[v+rt]=P[rt]}else c.push(P)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function F(c){f.setTimeout(()=>{throw c},0)}function it(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class nt{constructor(){this.h=this.g=null}add(p,v){const A=st.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new $(()=>new Tt,c=>c.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,St=!1,I=new nt,b=()=>{const c=Promise.resolve(void 0);wt=()=>{c.then(R)}};function R(){for(var c;c=it();){try{c.h.call(c.g)}catch(v){F(v)}var p=st;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}St=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Wt(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(Wt,D),Wt.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(c,p,v,A,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=P,this.key=++Q,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function qt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function O(c){const p={};for(const v in c)p[v]=c[v];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(c,p){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let H=0;H<Z.length;H++)v=Z[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,p,v,A,P){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const rt=Rt(c,p,A,P);return rt>-1?(p=c[rt],v||(p.fa=!1)):(p=new at(p,this.src,H,!!A,P),p.fa=v,c.push(p)),p};function _t(c,p){const v=p.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,p,void 0),H;(H=P>=0)&&Array.prototype.splice.call(A,P,1),H&&(dt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,p,v,A){for(let P=0;P<c.length;++P){const H=c[P];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==A)return P}return-1}var K="closure_lm_"+(Math.random()*1e6|0),gt={};function At(c,p,v,A,P){if(Array.isArray(p)){for(let H=0;H<p.length;H++)At(c,p[H],v,A,P);return null}return v=ps(v),c&&c[le]?c.J(p,v,m(A)?!!A.capture:!1,P):sn(c,p,v,!1,A,P)}function sn(c,p,v,A,P,H){if(!p)throw Error("Invalid event type");const rt=m(P)?!!P.capture:!!P;let Nt=oi(c);if(Nt||(c[K]=Nt=new ut(c)),v=Nt.add(p,v,A,rt,H),v.proxy)return v;if(A=Ui(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(P=rt),P===void 0&&(P=!1),c.addEventListener(p.toString(),A,P);else if(c.attachEvent)c.attachEvent(Kt(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ui(){function c(v){return p.call(c.src,c.listener,v)}const p=sa;return c}function ai(c,p,v,A,P){if(Array.isArray(p))for(var H=0;H<p.length;H++)ai(c,p[H],v,A,P);else A=m(A)?!!A.capture:!!A,v=ps(v),c&&c[le]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],v=Rt(p,v,A,P),v>-1&&(dt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=oi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Rt(p,v,A,P)),(v=c>-1?p[c]:null)&&gr(v))}function gr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[le])_t(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(Kt(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=oi(p))?(_t(v,c),v.h==0&&(v.src=null,p[K]=null)):dt(c)}}}function Kt(c){return c in gt?gt[c]:gt[c]="on"+c}function sa(c,p){if(c.da)c=!0;else{p=new Wt(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&gr(c),c=v.call(A,p)}return c}function oi(c){return c=c[K],c instanceof ut?c:null}var Pi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ps(c){return typeof c=="function"?c:(c[Pi]||(c[Pi]=function(p){return c.handleEvent(p)}),c[Pi])}function ue(){V.call(this),this.i=new ut(this),this.M=this,this.G=null}S(ue,V),ue.prototype[le]=!0,ue.prototype.removeEventListener=function(c,p,v,A){ai(this,c,p,v,A)};function Me(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var P=p;p=new D(A,c),ot(p,P)}P=!0;let H,rt;if(v)for(rt=v.length-1;rt>=0;rt--)H=p.g=v[rt],P=yr(H,A,!0,p)&&P;if(H=p.g=c,P=yr(H,A,!0,p)&&P,P=yr(H,A,!1,p)&&P,v)for(rt=0;rt<v.length;rt++)H=p.g=v[rt],P=yr(H,A,!1,p)&&P}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)dt(v[A]);delete c.g[p],c.h--}}this.G=null},ue.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ue.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function yr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let H=0;H<p.length;++H){const rt=p[H];if(rt&&!rt.da&&rt.capture==v){const Nt=rt.listener,ye=rt.ha||rt.src;rt.fa&&_t(c.i,rt),P=Nt.call(ye,A)!==!1&&P}}return P&&!A.defaultPrevented}function $h(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function uu(c){c.g=$h(()=>{c.g=null,c.i&&(c.i=!1,uu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){V.call(this),this.h=c,this.g={}}S(gs,V);var So=[];function Ao(c){zt(c.g,function(p,v){this.g.hasOwnProperty(v)&&gr(p)},c),c.g={}}gs.prototype.N=function(){gs.Z.N.call(this),Ao(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=f.JSON.stringify,Jh=f.JSON.parse,cu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function hu(){}function fu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}S(je,D);function In(){D.call(this,"c")}S(In,D);var ge={},du=null;function aa(){return du=du||new ue}ge.Ia="serverreachability";function mu(c){D.call(this,ge.Ia,c)}S(mu,D);function li(c){const p=aa();Me(p,new mu(p))}ge.STAT_EVENT="statevent";function ys(c,p){D.call(this,ge.STAT_EVENT,c),this.stat=p}S(ys,D);function Te(c){const p=aa();Me(p,new ys(p,c))}ge.Ja="timingevent";function ui(c,p){D.call(this,ge.Ja,c),this.size=p}S(ui,D);function ci(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Zh(c,p,v,A,P,H){c.info(function(){if(c.g)if(H){var rt="",Nt=H.split("&");for(let Gt=0;Gt<Nt.length;Gt++){var ye=Nt[Gt].split("=");if(ye.length>1){const ce=ye[0];ye=ye[1];const xn=ce.split("_");rt=xn.length>=2&&xn[1]=="type"?rt+(ce+"="+ye+"&"):rt+(ce+"=redacted&")}}}else rt=null;else rt=H;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+p+`
`+v+`
`+rt})}function pu(c,p,v,A,P,H,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+p+`
`+v+`
`+H+" "+rt})}function hi(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Wh(c,v)+(A?" "+A:"")})}function _s(c,p){c.info(function(){return"TIMEOUT: "+p})}Hn.prototype.info=function(){};function Wh(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let rt=1;rt<A.length;rt++)A[rt]=""}}}}return _r(H)}catch{return p}}var vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function Es(){}S(Es,hu),Es.prototype.g=function(){return new XMLHttpRequest},wo=new Es;function zi(c){return encodeURIComponent(String(c))}function gu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Fn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Se={},Le={};function fi(c,p,v){c.M=1,c.A=Ts(be(p)),c.u=v,c.R=!0,oa(c,null)}function oa(c,p){c.F=Date.now(),di(c),c.B=be(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ha(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Ou(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(So[0]=P.toString()),P=So);for(let H=0;H<P.length;H++){const rt=At(v,P[H],A||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),li(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const Nt=Yn(this.g),ye=this.g.ya(),Gt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Nt!=4||ye==7||(ye==8||Gt<=0?li(3):li(2)),mi(this);var p=this.g.ca();this.X=p;var v=tf(this);if(this.o=p==200,pu(this.i,this.v,this.B,this.l,this.S,Nt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var H=A;break e}}H=null}if(c=H)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Te(12),gn(this),Nn(this);break t}}if(this.R){c=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=_u(this,v),ce==Le){Nt==4&&(this.m=4,Te(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Se){this.m=4,Te(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ce,null),pi(this,ce);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(rt),rt.P=!0,Te(11))}}else hi(this.i,this.l,v,null),pi(this,v);Nt==4&&gn(this),this.o&&!this.K&&(Nt==4?Cu(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),gn(this),Nn(this)}}}catch{}};function tf(c){if(!yu(c))return c.g.la();const p=Be(c.g);if(p==="")return"";let v="";const A=p.length,P=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Nn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(p[H],{stream:!(P&&H==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function _u(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Le:(v=Number(p.substring(v,A)),isNaN(v)?Se:(A+=1,A+v>p.length?Le:(p=p.slice(A,A+v),c.C=A+v,p)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function di(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(y(c.aa,c),p)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(_s(this.i,this.B),this.M!=2&&(li(),Te(17)),gn(this),this.m=2,Nn(this)):la(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Cu(c.j,c)}function gn(c){mi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ao(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function pi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),Rr(v);else break t;Is(v),Te(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(y(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&ga(v),!C(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let Gt=P[p];const ce=Gt[0];if(!(ce<=v.K))if(v.K=ce,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const xn=Gt[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const bi=Gt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Xn=Gt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Ns=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var H=A.h;H.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Io(H,H.h),H.h=null))}if(A.G){const ya=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(A.wa=ya,$t(A.J,A.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var rt=c;if(A.na=Du(A,A.L?A.ba:null,A.W),rt.L){No(A.h,rt);var Nt=rt,ye=A.O;ye&&(Nt.H=ye),Nt.D&&(mi(Nt),di(Nt)),A.g=rt}else wu(A);v.i.length>0&&Si(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ai(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ai(v,7):Po(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}li(4)}catch{}}var Ae=class{constructor(c,p){this.g=c,this.map=p}};function Ro(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Io(c,p){c.g?c.g.add(p):c.h=p}function No(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ro.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return k(c.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,H=null;A>=0?(P=c[v].substring(0,A),H=c[v].substring(A+1)):P=c[v],p(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof yn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,Oo(this,Au(c.i)),this.m=c.m):c&&(p=String(c).match(vu))?(this.l=!1,Ue(this,p[1]||"",!0),this.o=_i(p[2]||""),this.g=_i(p[3]||"",!0),vr(this,p[4]),this.h=_i(p[5]||"",!0),Oo(this,p[6]||"",!0),this.m=_i(p[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}yn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Ss(p,ca,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ss(p,ca,!0),"@"),c.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ss(v,v.charAt(0)=="/"?xo:Eu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ss(v,Tu)),c.join("")},yn.prototype.resolve=function(c){const p=be(this);let v=!!c.j;v?Ue(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)vr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=p.h.lastIndexOf("/");P!=-1&&(A=p.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let rt=0;rt<P.length;){const Nt=P[rt++];Nt=="."?A&&rt==P.length&&H.push(""):Nt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&rt==P.length&&H.push("")):(H.push(Nt),A=!0)}A=H.join("/")}else A=P}return v?p.h=A:v=c.i.toString()!=="",v?Oo(p,Au(c.i)):v=!!c.m,v&&(p.m=c.m),p};function be(c){return new yn(c)}function Ue(c,p,v){c.j=v?_i(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Oo(c,p,v){p instanceof Tr?(c.i=p,fa(c.i,c.l)):(v||(p=Ss(p,Er)),c.i=new Tr(p,c.l))}function $t(c,p,v){c.i.set(p,v)}function Ts(c){return $t(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,Eu=/[#\?:]/g,xo=/[#\?]/g,Er=/[#\?@]/g,Tu=/#/g;function Tr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,p){on(this),this.i=null,c=Sr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Su(c,p){on(c),p=Sr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Mo(c,p){return on(c),p=Sr(c,p),c.g.has(p)}r.forEach=function(c,p){on(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(p,P,A,this)},this)},this)};function Vo(c,p){on(c);let v=[];if(typeof p=="string")Mo(c,p)&&(v=v.concat(c.g.get(Sr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return on(this),this.i=null,c=Sr(this,c),Mo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Vo(this,c),c.length>0?String(c[0]):p):p};function ha(c,p,v){Su(c,p),v.length>0&&(c.i=null,c.g.set(Sr(c,p),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const P=zi(v);v=Vo(this,v);for(let H=0;H<v.length;H++){let rt=P;v[H]!==""&&(rt+="="+zi(v[H])),c.push(rt)}}return this.i=c.join("&")};function Au(c){const p=new Tr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Sr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function fa(c,p){p&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Su(this,A),ha(this,P,v))},c)),c.j=p}function Qn(c,p){const v=new Hn;if(f.Image){const A=new Image;A.onload=E(Dn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Dn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(Dn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function ko(c,p){const v=new Hn,A=new AbortController,P=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(P),H.ok?Dn(v,"TestPingServer: ok",!0,p):Dn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Dn(v,"TestPingServer: error",!1,p)})}function Dn(c,p,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function Ar(){this.g=new cu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(vi,hu),vi.prototype.g=function(){return new As(this.i,this.h)};function As(c,p){ue.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(As,ue),r=As.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?br(this):Kn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let p="";return zt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function bs(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=On(v),typeof c=="string"?v!=null&&zi(v):$t(c,p,v))}function te(c){ue.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(te,ue);var Ei=/^https?$/i,Lo=["POST","PUT"];r=te.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){ws(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Lo,p,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,rt]of v)this.g.setRequestHeader(H,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ws(this,H)}};function ws(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Uo(c),ji(c)}function Uo(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},r.Xa=function(){Rs(this)};function Rs(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=H===0){let rt=String(c.D).match(vu)[1]||null;!rt&&f.self&&f.self.location&&(rt=f.self.location.protocol.slice(0,-1)),A=!Ei.test(rt?rt.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var P=Yn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Uo(c)}}finally{ji(c)}}}}function ji(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Jh(p)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=gu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[P]||[];p[P]=H,H.push(v)}qt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function wr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new Ar,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){Te(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Du(this,null,this.W),Si(this)};function Po(c){if(ma(c),c.I==3){var p=c.V++,v=be(c.J);if($t(v,"SID",c.M),$t(v,"RID",p),$t(v,"TYPE","terminate"),Cs(c,v),p=new Fn(c,c.j,p),p.M=2,p.A=Ts(be(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Ou(p.j,null),p.g.ea(p.A)),p.F=Date.now(),di(p)}Nu(c)}function Rr(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function ma(c){Rr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Co(c.h)&&!c.m){c.m=!0;var p=c.Ea;wt||b(),St||(wt(),St=!0),I.add(p,c),c.D=0}}function pa(c,p){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(y(c.Ea,c,p),Iu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Fn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=O(H),ot(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=bu(this,P,p),v=be(this.J),$t(v,"RID",c),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Cs(this,v),H&&(this.R?p="headers="+zi(On(H))+"&"+p:this.u&&bs(v,this.u,H)),Io(this.h,P),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",p),$t(v,"SID","null"),P.U=!0,fi(P,v,null)):fi(P,v,p),this.I=2}}else this.I==3&&(c?zo(this,c):this.i.length==0||Co(this.h)||zo(this))};function zo(c,p){var v;p?v=p.l:v=c.V++;const A=be(c.J);$t(A,"SID",c.M),$t(A,"RID",v),$t(A,"AID",c.K),Cs(c,A),c.u&&c.o&&bs(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=bu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,v),fi(v,A,p)}function Cs(c,p){c.H&&zt(c.H,function(v,A){$t(p,A,v)}),c.l&&zt({},function(v,A){$t(p,A,v)})}function bu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let Nt=-1;for(;;){const ye=["count="+v];Nt==-1?v>0?(Nt=P[0].g,ye.push("ofs="+Nt)):Nt=0:ye.push("ofs="+Nt);let Gt=!0;for(let ce=0;ce<v;ce++){var H=P[ce].g;const xn=P[ce].map;if(H-=Nt,H<0)Nt=Math.max(0,P[ce].g-100),Gt=!1;else try{H="req"+H+"_"||"";try{var rt=xn instanceof Map?xn:Object.entries(xn);for(const[bi,Xn]of rt){let $n=Xn;m(Xn)&&($n=_r(Xn)),ye.push(H+bi+"="+encodeURIComponent($n))}}catch(bi){throw ye.push(H+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(xn)}}if(Gt){rt=ye.join("&");break t}}rt=void 0}return c=c.i.splice(0,v),p.G=c,rt}function wu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;wt||b(),St||(wt(),St=!0),I.add(p,c),c.A=0}}function Is(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(y(c.Da,c),Iu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Rr(this),Ru(this))};function jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ru(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=be(c.na);$t(p,"RID","rpc"),$t(p,"SID",c.M),$t(p,"AID",c.K),$t(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&$t(p,"TO",c.ia),$t(p,"TYPE","xmlhttp"),Cs(c,p),c.u&&c.o&&bs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ts(be(p)),v.u=null,v.R=!0,oa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Is(this),Te(19))};function ga(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Cu(c,p){var v=null;if(c.g==p){ga(c),jo(c),c.g=null;var A=2}else if(yi(c.h,p))v=p.G,No(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;A=aa(),Me(A,new ui(A,v)),Si(c)}else wu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(A==1&&pa(c,p)||A==2&&Is(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Iu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ai(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const P=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ue(A,"https"),Ts(A),P?Qn(A.toString(),v):ko(A.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(p),Nu(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Nu(c){if(c.I=0,c.ja=[],c.l){const p=Do(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Du(c,p,v){var A=v instanceof yn?be(v):new yn(v);if(A.g!="")p&&(A.g=p+"."+A.g),vr(A,A.u);else{var P=f.location;A=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const H=new yn(null);A&&Ue(H,A),p&&(H.g=p),P&&vr(H,P),v&&(H.h=v),A=H}return v=c.G,p=c.wa,v&&p&&$t(A,v,p),$t(A,"VER",c.ka),Cs(c,A),A}function Ou(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new te(new vi({ab:v})):new te(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){ue.call(this),this.g=new wr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new qi(this)}S(nn,ue),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Po(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);p.i.push(new Ae(p.Ya++,c)),p.I==3&&Si(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,nn.Z.N.call(this)};function Mu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Mu,je);function Vu(){In.call(this),this.status=1}S(Vu,In);function qi(c){this.g=c}S(qi,xu),qi.prototype.ra=function(){Me(this.g,"a")},qi.prototype.qa=function(c){Me(this.g,new Mu(c))},qi.prototype.pa=function(c){Me(this.g,new Vu)},qi.prototype.oa=function(){Me(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,C0=function(){return new Cr},R0=function(){return aa()},w0=ge,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,Zc=vs,bo.COMPLETE="complete",b0=bo,fu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ue.prototype.listen=ue.prototype.J,Cl=fu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,A0=te}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",oE="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let go="12.7.0";const ta=new tp("@firebase/firestore");function Ka(){return ta.logLevel}function ct(r,...t){if(ta.logLevel<=Lt.DEBUG){const n=t.map(dp);ta.debug(`Firestore (${go}): ${r}`,...n)}}function fr(r,...t){if(ta.logLevel<=Lt.ERROR){const n=t.map(dp);ta.error(`Firestore (${go}): ${r}`,...n)}}function ro(r,...t){if(ta.logLevel<=Lt.WARN){const n=t.map(dp);ta.warn(`Firestore (${go}): ${r}`,...n)}}function dp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,I0(r,s,n)}function I0(r,t,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Xt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||I0(t,o,s)}function It(r,t){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends pr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class N0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class o2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class l2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class u2{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xt(typeof s.accessToken=="string",31837,{l:s}),new N0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class c2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new c2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class mp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=d2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ut(r,t){return r<t?-1:r>t?1:0}function Nm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return hm(o)===hm(u)?Ut(o,u):hm(o)?1:-1}return Ut(r.length,t.length)}const m2=55296,p2=57343;function hm(r){const t=r.charCodeAt(0);return t>=m2&&t<=p2}function so(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const uE="__name__";class Ni{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const s=Ni.isNumericId(t),o=Ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(n)):Nm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rs.fromString(t.substring(4,t.length-2))}}class se extends Ni{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new se(n)}static emptyPath(){return new se([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ni{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return g2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new Ke([uE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new lt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new lt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new lt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(se.fromString(t))}static fromName(t){return new pt(se.fromString(t).popFirst(5))}static empty(){return new pt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new se(t.slice()))}}function D0(r,t,n){if(!n)throw new lt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function y2(r,t,n,s){if(t===!0&&s===!0)throw new lt(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function cE(r){if(!pt.isDocumentKey(r))throw new lt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hE(r){if(pt.isDocumentKey(r))throw new lt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function O0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function dr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(r);throw new lt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Oe(r,t){const n={typeString:r};return t&&(n.value=t),n}function nu(r,t){if(!O0(r))throw new lt(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new lt(tt.INVALID_ARGUMENT,n);return!0}const fE=-62135596800,dE=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(t){return Yt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*dE);return new Yt(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<fE)throw new lt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dE}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nu(t,Yt._jsonSchema))return new Yt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:Oe("string",Yt._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Yt(0,0))}static max(){return new bt(new Yt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function _2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new Yt(n+1,0):new Yt(n,s));return new as(o,pt.empty(),t)}function v2(r){return new as(r.readTime,r.key,ql)}class as{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new as(bt.min(),pt.empty(),ql)}static max(){return new as(bt.max(),pt.empty(),ql)}}function E2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Ut(r.largestBatchId,t.largestBatchId))}const T2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yo(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==T2)throw r;ct("LocalStore","Unexpectedly lost primary lease")}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((o=>o?et.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new et(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function A2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}kh.ce=-1;const pp=-1;function Lh(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function b2(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const x0="";function w2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=mE(t)),t=R2(r.get(n),t);return mE(t)}function R2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case x0:n+="";break;default:n+=u}}return n}function mE(r){return r+x0+""}function pE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ds(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function M0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bc(this.root,t,this.comparator,!0)}}class Bc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(t){return new gE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class gE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new wn([])}unionWith(t){let n=new ke(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class V0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new V0("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const C2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const n=C2.exec(r);if(Xt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const k0="server_timestamp",L0="__type__",U0="__previous_value__",P0="__local_write_time__";function gp(r){return(r?.mapValue?.fields||{})[L0]?.stringValue===k0}function Uh(r){const t=r.mapValue.fields[U0];return gp(t)?Uh(t):t}function Hl(r){const t=os(r.mapValue.fields[P0].timestampValue);return new Yt(t.seconds,t.nanos)}class I2{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const mh="(default)";class Fl{constructor(t,n){this.projectId=t,this.database=n||mh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}const z0="__type__",N2="__max__",qc={mapValue:{}},j0="__vector__",ph="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:O2(r)?9007199254740991:D2(r)?10:11:vt(28295,{value:r})}function Li(r,t){if(r===t)return!0;const n=us(r);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Hl(r).isEqual(Hl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),m=Ee(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(pE(f)!==pE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Li(f[g],m[g])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Gl(r,t){return(r.values||[]).find((n=>Li(n,t)))!==void 0}function ao(r,t){if(r===t)return 0;const n=us(r),s=us(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ee(u.integerValue||u.doubleValue),g=Ee(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return yE(r.timestampValue,t.timestampValue);case 4:return yE(Hl(r),Hl(t));case 5:return Nm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=ls(u),g=ls(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ut(m[y],g[y]);if(E!==0)return E}return Ut(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Ut(Ee(u.latitude),Ee(f.latitude));return m!==0?m:Ut(Ee(u.longitude),Ee(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return _E(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[ph]?.arrayValue,E=g[ph]?.arrayValue,S=Ut(y?.values?.length||0,E?.values?.length||0);return S!==0?S:_E(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=Nm(g[S],E[S]);if(w!==0)return w;const k=ao(m[g[S]],y[E[S]]);if(k!==0)return k}return Ut(g.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function yE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const n=os(r),s=os(t),o=Ut(n.seconds,s.seconds);return o!==0?o:Ut(n.nanos,s.nanos)}function _E(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Ut(n.length,s.length)}function oo(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function Wc(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uh(r);return t?16+Wc(t):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Wc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ds(s.fields,((u,f)=>{o+=u.length+Wc(f)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function vE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Om(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function EE(r){return!!r&&"nullValue"in r}function TE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function D2(r){return(r?.mapValue?.fields||{})[z0]?.stringValue===j0}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ds(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=kl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kl(r.arrayValue.values[n]);return t}return{...r}}function O2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===N2}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(n)}setAll(t){let n=Ke.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=kl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ds(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new mn(kl(this.value))}}function B0(r){const t=[];return ds(r.fields,((n,s)=>{const o=new Ke([n]);if(th(s)){const u=B0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new wn(t)}class We{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,bt.min(),bt.min(),bt.min(),mn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,bt.min(),bt.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,bt.min(),bt.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(t,n){this.position=t,this.inclusive=n}}function SE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function AE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],t.position[n]))return!1;return!0}class yh{constructor(t,n="asc"){this.field=t,this.dir=n}}function x2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class q0{}class De extends q0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new V2(t,n,s):n==="array-contains"?new U2(t,s):n==="in"?new P2(t,s):n==="not-in"?new z2(t,s):n==="array-contains-any"?new j2(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new k2(t,s):new L2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends q0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ri(t,n)}matches(t){return H0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H0(r){return r.op==="and"}function F0(r){return M2(r)&&H0(r)}function M2(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function xm(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(F0(r))return r.filters.map((t=>xm(t))).join(",");{const t=r.filters.map((n=>xm(n))).join(",");return`${r.op}(${t})`}}function G0(r,t){return r instanceof De?(function(s,o){return o instanceof De&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,t):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&G0(f,o.filters[m])),!0):!1})(r,t):void vt(19439)}function Q0(r){return r instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(Q0).join(" ,")+"}"})(r):"Filter"}class V2 extends De{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class k2 extends De{constructor(t,n){super(t,"in",n),this.keys=K0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class L2 extends De{constructor(t,n){super(t,"not-in",n),this.keys=K0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function K0(r,t){return(t.arrayValue?.values||[]).map((n=>pt.fromName(n.referenceValue)))}class U2 extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yp(n)&&Gl(n.arrayValue,this.value)}}class P2 extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class z2 extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class j2 extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Gl(this.value.arrayValue,s)))}}class B2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function bE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new B2(r,t,n,s,o,u,f)}function _p(r){const t=It(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>xm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>oo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>oo(s))).join(",")),t.Te=n}return t.Te}function vp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!x2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!G0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!AE(r.startAt,t.startAt)&&AE(r.endAt,t.endAt)}function Mm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class iu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function q2(r,t,n,s,o,u,f,m){return new iu(r,t,n,s,o,u,f,m)}function Ep(r){return new iu(r)}function wE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Y0(r){return r.collectionGroup!==null}function Ll(r){const t=It(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new ke(Ke.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new yh(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new yh(Ke.keyField(),s))}return t.Ie}function Oi(r){const t=It(r);return t.Ee||(t.Ee=H2(t,Ll(r))),t.Ee}function H2(r,t){if(r.limitType==="F")return bE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)}));const n=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return bE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Vm(r,t){const n=r.filters.concat([t]);return new iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function km(r,t,n){return new iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ph(r,t){return vp(Oi(r),Oi(t))&&r.limitType===t.limitType}function X0(r){return`${_p(Oi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Q0(o))).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function zh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Ll(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=SE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Ll(s),o)||s.endAt&&!(function(f,m,g){const y=SE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Ll(s),o))})(r,t)}function F2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $0(r){return(t,n)=>{let s=!1;for(const o of Ll(r)){const u=G2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function G2(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ao(g,y):vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}class ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ds(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return M0(this.inner)}size(){return this.innerSize}}const Q2=new de(pt.comparator);function mr(){return Q2}const J0=new de(pt.comparator);function Il(...r){let t=J0;for(const n of r)t=t.insert(n.key,n);return t}function Z0(r){let t=J0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ys(){return Ul()}function W0(){return Ul()}function Ul(){return new ia((r=>r.toString()),((r,t)=>r.isEqual(t)))}const K2=new de(pt.comparator),Y2=new ke(pt.comparator);function Pt(...r){let t=Y2;for(const n of r)t=t.add(n);return t}const X2=new ke(Ut);function $2(){return X2}function Tp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function tS(r){return{integerValue:""+r}}function J2(r,t){return b2(t)?tS(t):Tp(r,t)}class jh{constructor(){this._=void 0}}function Z2(r,t,n){return r instanceof _h?(function(o,u){const f={fields:{[L0]:{stringValue:k0},[P0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=Uh(u)),u&&(f.fields[U0]=u),{mapValue:f}})(n,t):r instanceof Ql?nS(r,t):r instanceof Kl?iS(r,t):(function(o,u){const f=eS(o,u),m=RE(f)+RE(o.Ae);return Om(f)&&Om(o.Ae)?tS(m):Tp(o.serializer,m)})(r,t)}function W2(r,t,n){return r instanceof Ql?nS(r,t):r instanceof Kl?iS(r,t):n}function eS(r,t){return r instanceof vh?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class _h extends jh{}class Ql extends jh{constructor(t){super(),this.elements=t}}function nS(r,t){const n=rS(t);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Kl extends jh{constructor(t){super(),this.elements=t}}function iS(r,t){let n=rS(t);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class vh extends jh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function RE(r){return Ee(r.integerValue||r.doubleValue)}function rS(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function tN(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Kl&&o instanceof Kl?so(s.elements,o.elements,Li):s instanceof vh&&o instanceof vh?Li(s.Ae,o.Ae):s instanceof _h&&o instanceof _h})(r.transform,t.transform)}class eN{constructor(t,n){this.version=t,this.transformResults=n}}class ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function eh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Bh{}function sS(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Sp(r.key,ii.none()):new ru(r.key,r.data,ii.none());{const n=r.data,s=mn.empty();let o=new ke(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ms(r.key,s,new wn(o.toArray()),ii.none())}}function nN(r,t,n){r instanceof ru?(function(o,u,f){const m=o.value.clone(),g=IE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof ms?(function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=IE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(aS(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Pl(r,t,n,s){return r instanceof ru?(function(u,f,m,g){if(!eh(u.precondition,f))return m;const y=u.value.clone(),E=NE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ms?(function(u,f,m,g){if(!eh(u.precondition,f))return m;const y=NE(u.fieldTransforms,g,f),E=f.data;return E.setAll(aS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function iN(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=eS(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function CE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,((u,f)=>tN(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ru extends Bh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Bh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function aS(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function IE(r,t,n){const s=new Map;Xt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,W2(f,m,n[o]))}return s}function NE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Z2(u,f,t))}return s}class Sp extends Bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rN extends Bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sN{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&nN(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Pl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Pl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=W0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=sS(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((n,s)=>CE(n,s)))&&so(this.baseMutations,t.baseMutations,((n,s)=>CE(n,s)))}}class Ap{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Xt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return K2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(t,n,s,o)}}class aN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oN{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ne,Bt;function lN(r){switch(r){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function oS(r){if(r===void 0)return fr("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Ne.OK:return tt.OK;case Ne.CANCELLED:return tt.CANCELLED;case Ne.UNKNOWN:return tt.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return tt.INTERNAL;case Ne.UNAVAILABLE:return tt.UNAVAILABLE;case Ne.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ne.NOT_FOUND:return tt.NOT_FOUND;case Ne.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ne.ABORTED:return tt.ABORTED;case Ne.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ne.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=Ne||(Ne={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function uN(){return new TextEncoder}const cN=new rs([4294967295,4294967295],0);function DE(r){const t=uN().encode(r),n=new S0;return n.update(t),new Uint8Array(n.digest())}function OE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class bp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=rs.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(rs.fromNumber(s)));return o.compare(cN)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=DE(t),[s,o]=OE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=DE(t),[s,o]=OE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,su.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new qh(bt.min(),o,new de(Ut),mr(),Pt())}}class su{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new su(s,n,Pt(),Pt(),Pt())}}class nh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class lS{constructor(t,n){this.targetId=t,this.Ce=n}}class uS{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class xE{constructor(){this.ve=0,this.Fe=ME(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),n=Pt(),s=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new su(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=ME()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hN{constructor(t){this.Ge=t,this.ze=new Map,this.je=mr(),this.Je=Hc(),this.He=Hc(),this.Ye=new de(Ut)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Mm(u))if(s===0){const f=new pt(u.path);this.et(n,f,We.newNoDocument(f,bt.min()))}else Xt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(g){if(g instanceof V0)return ro("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bp(f,o,u)}catch(g){return ro(g instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Mm(m.target)){const g=new pt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,We.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new qh(t,n,this.Ye,this.je,s);return this.je=mr(),this.Je=Hc(),this.He=Hc(),this.Ye=new de(Ut),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new xE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(Ut),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(Ut),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Hc(){return new de(pt.comparator)}function ME(){return new de(pt.comparator)}const fN={asc:"ASCENDING",desc:"DESCENDING"},dN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mN={and:"AND",or:"OR"};class pN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Lm(r,t){return r.useProto3Json||Lh(t)?t:{value:t}}function Eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cS(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function gN(r,t){return Eh(r,t.toTimestamp())}function xi(r){return Xt(!!r,49232),bt.fromTimestamp((function(n){const s=os(n);return new Yt(s.seconds,s.nanos)})(r))}function wp(r,t){return Um(r,t).canonicalString()}function Um(r,t){const n=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function hS(r){const t=se.fromString(r);return Xt(gS(t),10190,{key:t.toString()}),t}function Pm(r,t){return wp(r.databaseId,t.path)}function fm(r,t){const n=hS(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(dS(n))}function fS(r,t){return wp(r.databaseId,t)}function yN(r){const t=hS(r);return t.length===4?se.emptyPath():dS(t)}function zm(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dS(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function VE(r,t,n){return{name:Pm(r,t),fields:n.value.mapValue.fields}}function _N(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?tt.UNKNOWN:oS(y.code);return new lt(E,y.message||"")})(f);n=new uS(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=fm(r,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):bt.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=We.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new nh(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=fm(r,s.document),u=s.readTime?xi(s.readTime):bt.min(),f=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=fm(r,s.document),u=s.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oN(o,u),m=s.targetId;n=new lS(m,f)}}return n}function vN(r,t){let n;if(t instanceof ru)n={update:VE(r,t.key,t.value)};else if(t instanceof Sp)n={delete:Pm(r,t.key)};else if(t instanceof ms)n={update:VE(r,t.key,t.data),updateMask:IN(t.fieldMask)};else{if(!(t instanceof rN))return vt(16599,{Vt:t.type});n={verify:Pm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw vt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:gN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(r,t.precondition)),n}function EN(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(bt.min())&&(f=xi(u)),new eN(f,o.transformResults||[])})(n,t)))):[]}function TN(r,t){return{documents:[fS(r,t.path)]}}function SN(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=fS(r,o);const u=(function(y){if(y.length!==0)return pS(ri.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:Xa(w.field),direction:wN(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Lm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function AN(r){let t=yN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=mS(S);return w instanceof ri&&F0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(X){return new yh($a(X.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Lh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,k=S.values||[];return new gh(k,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,k=S.values||[];return new gh(k,w)})(n.endAt)),q2(t,o,f,u,m,"F",g,y)}function bN(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function mS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return De.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>mS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(r):vt(30097,{filter:r})}function wN(r){return fN[r]}function RN(r){return dN[r]}function CN(r){return mN[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Ke.fromServerFormat(r.fieldPath)}function pS(r){return r instanceof De?(function(n){if(n.op==="=="){if(TE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(EE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(EE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:RN(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>pS(o)));return s.length===1?s[0]:{compositeFilter:{op:CN(n.op),filters:s}}})(r):vt(54877,{filter:r})}function IN(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function gS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ts{constructor(t,n,s,o,u=bt.min(),f=bt.min(),m=Xe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ts(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class NN{constructor(t){this.yt=t}}function DN(r){const t=AN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?km(t,t.limit,"L"):t}class ON{constructor(){this.Cn=new xN}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(as.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(as.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class xN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new ke(se.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(se.comparator)).toArray()}}const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yS=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(yS,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}const LE="LruGarbageCollector",MN=1048576;function UE([r,t],[n,s]){const o=Ut(r,n);return o===0?Ut(t,s):o}class VN{constructor(t){this.Ir=t,this.buffer=new ke(UE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();UE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(LE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ct(LE,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Vr(3e5)}))}}class LN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(kh.ce);const s=new VN(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(kE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ka()<=Lt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function UN(r,t){return new LN(r,t)}class PN{constructor(){this.changes=new ia((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class zN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class jN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Pl(s.mutation,o,wn.empty(),Yt.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Pt()){const o=Ys();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Il();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ys();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Pt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=mr();const f=Ul(),m=(function(){return Ul()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ms)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Pl(E.mutation,y,E.mutation.getFieldMask(),Yt.now())):f.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new zN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Ul();let o=new de(((f,m)=>f-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||wn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Pt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=W0();E.forEach((w=>{if(!u.has(w)){const k=sS(n.get(w),s.get(w));k!==null&&S.set(w,k),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Y0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(Ys());let m=ql,g=u;return f.next((y=>et.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Pt()))).next((E=>({batchId:m,changes:Z0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(g=>{const y=(function(S,w){return new iu(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))}));let m=Il();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Pl(E.mutation,y,wn.empty(),Yt.now()),zh(n,y)&&(m=m.insert(g,y))})),m}))}}class BN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:DN(o.bundledQuery),readTime:xi(o.readTime)}})(n)),et.resolve()}}class qN{constructor(){this.overlays=new de(pt.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ys();return et.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=Ys(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new de(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ys(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ys(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return et.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aN(n,s));let u=this.qr.get(n);u===void 0&&(u=Pt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class HN{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}class Rp{constructor(){this.Qr=new ke(ze.$r),this.Ur=new ke(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new pt(new se([])),s=new ze(n,t),o=new ze(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new se([])),s=new ze(n,t),o=new ze(n,t+1);let u=Pt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ze(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||Ut(t.Yr,n.Yr)}static Kr(t,n){return Ut(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}class FN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(ze.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?pp:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(Ut);return n.forEach((o=>{const u=new ze(o,0),f=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new ze(new pt(u),0);let m=new ke(Ut);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),et.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(o=>{const u=new ze(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ze(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GN{constructor(t){this.ri=t,this.docs=(function(){return new de(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=mr();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||E2(v2(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new QN(this)}getSize(t){return et.resolve(this.size)}}class QN extends PN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class KN{constructor(t){this.persistence=t,this.si=new ia((n=>_p(n)),vp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=lo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new lo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}class _S{constructor(t,n){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new HN,this.referenceDelegate=t(this),this.Pi=new KN(this),this.indexManager=new ON,this.remoteDocumentCache=(function(o){return new GN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new NN(n),this.Ii=new BN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new FN(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new YN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class YN extends S2{constructor(t){super(),this.currentSequenceNumber=t}}class Cp{constructor(t){this.persistence=t,this.Ri=new Rp,this.Vi=null}static mi(t){return new Cp(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Th{constructor(t,n){this.persistence=t,this.pi=new ia((s=>w2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=UN(this,n)}static mi(t,n){return new Th(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?et.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,bt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wc(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ip{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(t,n.fromCache,s,o)}}class XN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $N{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jw()?8:A2(tn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new XN;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ka()<=Lt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Ka()<=Lt.DEBUG&&ct("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ka()<=Lt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(n))):et.resolve())}ys(t,n){if(wE(n))return et.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Pt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,km(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return wE(n)||o.isEqual(bt.min())?et.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?et.resolve(null):(Ka()<=Lt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.vs(t,f,n,_2(o,ql)).next((m=>m)))}))}Ds(t,n){let s=new ke($0(t));return n.forEach(((o,u)=>{zh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ka()<=Lt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(t,n,as.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Np="LocalStore",JN=3e8;class ZN{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new de(Ut),this.xs=new ia((u=>_p(u)),vp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function WN(r,t,n,s){return new ZN(r,t,n,s)}async function vS(r,t){const n=It(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Pt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function tD(r,t){const n=It(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,w=S.keys();let k=et.resolve();return w.forEach((X=>{k=k.next((()=>E.getEntry(g,X))).next(($=>{const F=y.docVersions.get(X);Xt(F!==null,48541),$.version.compareTo(F)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ES(r){const t=It(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function eD(r,t){const n=It(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let k=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?k=k.withResumeToken(Xe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(S,k),(function($,F,it){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=JN?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(w,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let g=mr(),y=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(nD(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(bt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return et.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function nD(r,t,n){let s=Pt(),o=Pt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=mr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(bt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ct(Np,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function iD(r,t){const n=It(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function rD(r,t){const n=It(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ts(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function jm(r,t,n){const s=It(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!_o(f))throw f;ct(Np,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function PE(r,t,n){const s=It(r);let o=bt.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=It(g),w=S.xs.get(E);return w!==void 0?et.resolve(S.Ms.get(w)):S.Pi.getTargetData(y,E)})(s,f,Oi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Pt()))).next((m=>(sD(s,F2(t),m),{documents:m,Qs:u})))))}function sD(r,t,n){let s=r.Os.get(t)||bt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class zE{constructor(){this.activeTargetIds=$2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aD{constructor(){this.Mo=new zE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new zE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class oD{Oo(t){}shutdown(){}}const jE="ConnectivityMonitor";class BE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(jE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(jE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Bm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const dm="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Bm(),m=this.zo(t,n.toUriEncodedString());ct(dm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=fo(y);return this.Jo(t,m,g,s,E).then((S=>(ct(dm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw ro(dm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=lD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class cD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class hD extends uD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Bm();return new Promise(((m,g)=>{const y=new A0;y.setWithCredentials(!0),y.listenOnce(b0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Zc.NO_ERROR:const S=y.getResponseJson();ct(Je,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case Zc.TIMEOUT:ct(Je,`RPC '${t}' ${f} timed out`),g(new lt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const w=y.getStatus();if(ct(Je,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const X=k?.error;if(X&&X.status&&X.message){const $=(function(it){const nt=it.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(nt)>=0?nt:tt.UNKNOWN})(X.status);g(new lt($,X.message))}else g(new lt(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new lt(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(Je,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ct(Je,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Bm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=C0(),m=R0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ct(Je,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let w=!1,k=!1;const X=new cD({Yo:F=>{k?ct(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(w||(ct(Je,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),ct(Je,`RPC '${t}' stream ${o} sending:`,F),S.send(F))},Zo:()=>S.close()}),$=(F,it,nt)=>{F.listen(it,(st=>{try{nt(st)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return $(S,Cl.EventType.OPEN,(()=>{k||(ct(Je,`RPC '${t}' stream ${o} transport opened.`),X.o_())})),$(S,Cl.EventType.CLOSE,(()=>{k||(k=!0,ct(Je,`RPC '${t}' stream ${o} transport closed`),X.a_(),this.E_(S))})),$(S,Cl.EventType.ERROR,(F=>{k||(k=!0,ro(Je,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),X.a_(new lt(tt.UNAVAILABLE,"The operation could not be completed")))})),$(S,Cl.EventType.MESSAGE,(F=>{if(!k){const it=F.data[0];Xt(!!it,16349);const nt=it,st=nt?.error||nt[0]?.error;if(st){ct(Je,`RPC '${t}' stream ${o} received error:`,st);const Tt=st.status;let wt=(function(b){const R=Ne[b];if(R!==void 0)return oS(R)})(Tt),St=st.message;wt===void 0&&(wt=tt.INTERNAL,St="Unknown error status: "+Tt+" with message "+st.message),k=!0,X.a_(new lt(wt,St)),S.close()}else ct(Je,`RPC '${t}' stream ${o} received:`,it),X.u_(it)}})),$(m,w0.STAT_EVENT,(F=>{F.stat===Im.PROXY?ct(Je,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Im.NOPROXY&&ct(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function mm(){return typeof document<"u"?document:null}function Hh(r){return new pN(r,!0)}class TS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qE="PersistentStream";class SS{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new lt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(qE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ct(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fD extends SS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=_N(this.serializer,t),s=(function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?xi(f.readTime):bt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=zm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Mm(g)?{documents:TN(u,g)}:{query:SN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=cS(u,f.resumeToken);const y=Lm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const y=Lm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=bN(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=zm(this.serializer),n.removeTarget=t,this.q_(n)}}class dD extends SS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=EN(t.writeResults,t.commitTime),s=xi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=zm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>vN(this.serializer,s)))};this.q_(n)}}class mD{}class pD extends mD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Um(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(tt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Um(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class yD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ra(this)&&(ct(ea,"Restarting streams for network reachability change."),await(async function(g){const y=It(g);y.Ea.add(4),await au(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Fh(y)})(this))}))})),this.Ra=new gD(s,o)}}async function Fh(r){if(ra(r))for(const t of r.da)await t(!0)}async function au(r){for(const t of r.da)await t(!1)}function AS(r,t){const n=It(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Mp(n)?xp(n):vo(n).O_()&&Op(n,t))}function Dp(r,t){const n=It(r),s=vo(n);n.Ia.delete(t),s.O_()&&bS(n,t),n.Ia.size===0&&(s.O_()?s.L_():ra(n)&&n.Ra.set("Unknown"))}function Op(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vo(r).Y_(t)}function bS(r,t){r.Va.Ue(t),vo(r).Z_(t)}function xp(r){r.Va=new hN({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function Mp(r){return ra(r)&&!vo(r).x_()&&r.Ia.size>0}function ra(r){return It(r).Ea.size===0}function wS(r){r.Va=void 0}async function _D(r){r.Ra.set("Online")}async function vD(r){r.Ia.forEach(((t,n)=>{Op(r,t)}))}async function ED(r,t){wS(r),Mp(r)?(r.Ra.ha(t),xp(r)):r.Ra.set("Unknown")}async function TD(r,t,n){if(r.Ra.set("Online"),t instanceof uS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ct(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Sh(r,s)}else if(t instanceof nh?r.Va.Ze(t):t instanceof lS?r.Va.st(t):r.Va.tt(t),!n.isEqual(bt.min()))try{const s=await ES(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),bS(u,g);const S=new ts(E.target,g,y,E.sequenceNumber);Op(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ct(ea,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,t,n){if(!_o(t))throw t;r.Ea.add(1),await au(r),r.Ra.set("Offline"),n||(n=()=>ES(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Fh(r)}))}function RS(r,t){return t().catch((n=>Sh(r,n,t)))}async function Gh(r){const t=It(r),n=cs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:pp;for(;SD(t);)try{const o=await iD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,AD(t,o)}catch(o){await Sh(t,o)}CS(t)&&IS(t)}function SD(r){return ra(r)&&r.Ta.length<10}function AD(r,t){r.Ta.push(t);const n=cs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function CS(r){return ra(r)&&!cs(r).x_()&&r.Ta.length>0}function IS(r){cs(r).start()}async function bD(r){cs(r).ra()}async function wD(r){const t=cs(r);for(const n of r.Ta)t.ea(n.mutations)}async function RD(r,t,n){const s=r.Ta.shift(),o=Ap.from(s,t,n);await RS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Gh(r)}async function CD(r,t){t&&cs(r).X_&&await(async function(s,o){if((function(f){return lN(f)&&f!==tt.ABORTED})(o.code)){const u=s.Ta.shift();cs(s).B_(),await RS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Gh(s)}})(r,t),CS(r)&&IS(r)}async function HE(r,t){const n=It(r);n.asyncQueue.verifyOperationInProgress(),ct(ea,"RemoteStore received new credentials");const s=ra(n);n.Ea.add(3),await au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Fh(n)}async function ID(r,t){const n=It(r);t?(n.Ea.delete(2),await Fh(n)):t||(n.Ea.add(2),await au(n),n.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(n,s,o){const u=It(n);return u.sa(),new fD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:_D.bind(null,r),t_:vD.bind(null,r),r_:ED.bind(null,r),H_:TD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Mp(r)?xp(r):r.Ra.set("Unknown")):(await r.ma.stop(),wS(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,o){const u=It(n);return u.sa(),new dD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:bD.bind(null,r),r_:CD.bind(null,r),ta:wD.bind(null,r),na:RD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Gh(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Vp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(r,t){if(fr("AsyncQueue",`${t}: ${r}`),_o(r))return new lt(tt.UNAVAILABLE,`${t}: ${r}`);throw r}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class FE{constructor(){this.ga=new de(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class uo{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new uo(t,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ND{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class DD{constructor(){this.queries=GE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=It(n),u=o.queries;o.queries=GE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new lt(tt.ABORTED,"Firestore shutting down"))}}function GE(){return new ia((r=>X0(r)),Ph)}async function NS(r,t){const n=It(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new ND,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=kp(f,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Lp(n)}async function DS(r,t){const n=It(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OD(r,t){const n=It(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Lp(n)}function xD(r,t,n){const s=It(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Lp(r){r.Ca.forEach((t=>{t.next()}))}var qm,QE;(QE=qm||(qm={})).Ma="default",QE.Cache="cache";class OS{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==qm.Cache}}class xS{constructor(t){this.key=t}}class MS{constructor(t){this.key=t}}class MD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=$0(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new FE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const w=o.get(E),k=zh(this.query,S)?S:null,X=!!w&&this.mutatedKeys.has(w.key),$=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;w&&k?w.data.isEqual(k.data)?X!==$&&(s.track({type:3,doc:k}),F=!0):this.su(w,k)||(s.track({type:2,doc:k}),F=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),F=!0):w&&!k&&(s.track({type:1,doc:w}),F=!0,(g||y)&&(m=!0)),F&&(k?(f=f.add(k),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(k,X){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:F})}};return $(k)-$(X)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new uo(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new MS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new xS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Up="SyncEngine";class VD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class kD{constructor(t){this.key=t,this.hu=!1}}class LD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>X0(m)),Ph),this.Iu=new Map,this.Eu=new Set,this.du=new de(pt.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UD(r,t,n=!0){const s=zS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await VS(s,t,n,!0),o}async function PD(r,t){const n=zS(r);await VS(n,t,!0,!1)}async function VS(r,t,n,s){const o=await rD(r.localStore,Oi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await zD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&AS(r.remoteStore,o),m}async function zD(r,t,n,s,o){r.pu=(S,w,k)=>(async function($,F,it,nt){let st=F.view.ru(it);st.Cs&&(st=await PE($.localStore,F.query,!1).then((({documents:I})=>F.view.ru(I,st))));const Tt=nt&&nt.targetChanges.get(F.targetId),wt=nt&&nt.targetMismatches.get(F.targetId)!=null,St=F.view.applyChanges(st,$.isPrimaryClient,Tt,wt);return YE($,F.targetId,St.au),St.snapshot})(r,S,w,k);const u=await PE(r.localStore,t,!0),f=new MD(t,u.Qs),m=f.ru(u.documents),g=su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);YE(r,n,y.au);const E=new VD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function jD(r,t,n){const s=It(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Ph(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dp(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(yo)):(Hm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function BD(r,t){const n=It(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function qD(r,t,n){const s=XD(r);try{const o=await(function(f,m){const g=It(f),y=Yt.now(),E=m.reduce(((k,X)=>k.add(X.key)),Pt());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let X=mr(),$=Pt();return g.Ns.getEntries(k,E).next((F=>{X=F,X.forEach(((it,nt)=>{nt.isValidDocument()||($=$.add(it))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,X))).next((F=>{S=F;const it=[];for(const nt of m){const st=iN(nt,S.get(nt.key).overlayedDocument);st!=null&&it.push(new ms(nt.key,st,B0(st.value.mapValue),ii.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,it,m)})).next((F=>{w=F;const it=F.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(k,F.batchId,it)}))})).then((()=>({batchId:w.batchId,changes:Z0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new de(Ut)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await ou(s,o.changes),await Gh(s.remoteStore)}catch(o){const u=kp(o,"Failed to persist write");n.reject(u)}}async function kS(r,t){const n=It(r);try{const s=await eD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xt(f.hu,14607):o.removedDocuments.size>0&&(Xt(f.hu,42227),f.hu=!1))})),await ou(n,s,t)}catch(s){await yo(s)}}function KE(r,t,n){const s=It(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=It(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(y=!0)})),y&&Lp(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function HD(r,t,n){const s=It(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new de(pt.comparator);f=f.insert(u,We.newNoDocument(u,bt.min()));const m=Pt().add(u),g=new qh(bt.min(),new Map,new de(Ut),f,m);await kS(s,g),s.du=s.du.remove(u),s.Au.delete(t),Pp(s)}else await jm(s.localStore,t,!1).then((()=>Hm(s,t,n))).catch(yo)}async function FD(r,t){const n=It(r),s=t.batch.batchId;try{const o=await tD(n.localStore,t);US(n,s,null),LS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ou(n,o)}catch(o){await yo(o)}}async function GD(r,t,n){const s=It(r);try{const o=await(function(f,m){const g=It(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Xt(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);US(s,t,n),LS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ou(s,o)}catch(o){await yo(o)}}function LS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function US(r,t,n){const s=It(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Hm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||PS(r,s)}))}function PS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Dp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Pp(r))}function YE(r,t,n){for(const s of n)s instanceof xS?(r.Ru.addReference(s.key,t),QD(r,s)):s instanceof MS?(ct(Up,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||PS(r,s.key)):vt(19791,{wu:s})}function QD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ct(Up,"New document in limbo: "+n),r.Eu.add(s),Pp(r))}function Pp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(se.fromString(t)),s=r.fu.next();r.Au.set(s,new kD(n)),r.du=r.du.insert(n,s),AS(r.remoteStore,new ts(Oi(Ep(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function ou(r,t,n){const s=It(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Ip.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=It(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>et.forEach(y,(w=>et.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(S,w.targetId,k))).next((()=>et.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(S,w.targetId,k)))))))))}catch(S){if(!_o(S))throw S;ct(Np,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const k=E.Ms.get(w),X=k.snapshotVersion,$=k.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(w,$)}}})(s.localStore,u))}async function KD(r,t){const n=It(r);if(!n.currentUser.isEqual(t)){ct(Up,"User change. New user:",t.toKey());const s=await vS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new lt(tt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ou(n,s.Ls)}}function YD(r,t){const n=It(r),s=n.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function zS(r){const t=It(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HD.bind(null,t),t.Pu.H_=OD.bind(null,t.eventManager),t.Pu.yu=xD.bind(null,t.eventManager),t}function XD(r){const t=It(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GD.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return WN(this.persistence,new $N,t.initialUser,this.serializer)}Cu(t){return new _S(Cp.mi,this.serializer)}Du(t){return new aD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class $D extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Xt(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kN(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new _S((s=>Th.mi(s,n)),this.serializer)}}class Fm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KD.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DD})()}createDatastore(t){const n=Hh(t.databaseInfo.databaseId),s=(function(u){return new hD(u)})(t.databaseInfo);return(function(u,f,m,g){return new pD(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new yD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>KE(this.syncEngine,n,0)),(function(){return BE.v()?new BE:new oD})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const S=new LD(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=It(n);ct(ea,"RemoteStore shutting down."),s.Ea.add(5),await au(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fm.provider={build:()=>new Fm};class jS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const hs="FirestoreClient";class JD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ct(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ct(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=kp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function pm(r,t){r.asyncQueue.verifyOperationInProgress(),ct(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await vS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function XE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await ZD(r);ct(hs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>HE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>HE(t.remoteStore,o))),r._onlineComponents=t}async function ZD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(hs,"Using user provided OfflineComponentProvider");try{await pm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await pm(r,new Ah)}}else ct(hs,"Using default OfflineComponentProvider"),await pm(r,new $D(void 0));return r._offlineComponents}async function BS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(hs,"Using user provided OnlineComponentProvider"),await XE(r,r._uninitializedComponentsProvider._online)):(ct(hs,"Using default OnlineComponentProvider"),await XE(r,new Fm))),r._onlineComponents}function WD(r){return BS(r).then((t=>t.syncEngine))}async function qS(r){const t=await BS(r),n=t.eventManager;return n.onListen=UD.bind(null,t.syncEngine),n.onUnlisten=jD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=PD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BD.bind(null,t.syncEngine),n}function tO(r,t,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new jS({next:w=>{E.Nu(),f.enqueueAndForget((()=>DS(u,S)));const k=w.docs.has(m);!k&&w.fromCache?y.reject(new lt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&g&&g.source==="server"?y.reject(new lt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new OS(Ep(m.path),E,{includeMetadataChanges:!0,qa:!0});return NS(u,S)})(await qS(r),r.asyncQueue,t,n,s))),s.promise}function eO(r,t,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new jS({next:w=>{E.Nu(),f.enqueueAndForget((()=>DS(u,S))),w.fromCache&&g.source==="server"?y.reject(new lt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new OS(m,E,{includeMetadataChanges:!0,qa:!0});return NS(u,S)})(await qS(r),r.asyncQueue,t,n,s))),s.promise}function HS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const $E=new Map;const FS="firestore.googleapis.com",JE=!0;class ZE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FS,this.ssl=JE}else this.host=t.host,this.ssl=t.ssl??JE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MN)throw new lt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}y2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new o2;switch(s.type){case"firstParty":return new h2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=$E.get(n);s&&(ct("ComponentProvider","Removing Datastore"),$E.delete(n),s.terminate())})(this),Promise.resolve()}}function nO(r,t,n,s={}){r=dr(r,Qh);const o=fo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(PT(`https://${m}`),zT("Firestore",!0)),u.host!==FS&&u.host!==m&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Js(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ze.MOCK_USER;else{y=Ow(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new lt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ze(S)}r._authCredentials=new l2(new N0(y,E))}}class Eo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Eo(this.firestore,t,this._query)}}class xe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(nu(n,xe._jsonSchema))return new xe(t,s||null,new pt(se.fromString(n.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Oe("string",xe._jsonSchemaVersion),referencePath:Oe("string")};class ss extends Eo{constructor(t,n,s){super(t,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new pt(t))}withConverter(t){return new ss(this.firestore,t,this._path)}}function iO(r,t,...n){if(r=Ye(r),D0("collection","path",t),r instanceof Qh){const s=se.fromString(t,...n);return hE(s),new ss(r,null,s)}{if(!(r instanceof xe||r instanceof ss))throw new lt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return hE(s),new ss(r.firestore,null,s)}}function Dl(r,t,...n){if(r=Ye(r),arguments.length===1&&(t=mp.newId()),D0("doc","path",t),r instanceof Qh){const s=se.fromString(t,...n);return cE(s),new xe(r,null,new pt(s))}{if(!(r instanceof xe||r instanceof ss))throw new lt(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return cE(s),new xe(r.firestore,r instanceof ss?r.converter:null,new pt(s))}}const WE="AsyncQueue";class tT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TS(this,"async_queue_retry"),this._c=()=>{const s=mm();s&&ct(WE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;ct(WE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",eT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Vp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:eT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function eT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class To extends Qh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new tT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tT(t),this._firestoreClient=void 0,await t}}}function rO(r,t){const n=typeof r=="object"?r:HT(),s=typeof r=="string"?r:mh,o=np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Nw("firestore");u&&nO(o,...u)}return o}function zp(r){if(r._terminated)throw new lt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sO(r),r._firestoreClient}function sO(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new I2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,HS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new JD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Xe.fromBase64String(t))}catch(n){throw new lt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nu(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Oe("string",Bn._jsonSchemaVersion),bytes:Oe("string")};class Kh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jp{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(nu(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Oe("string",Mi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nu(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Vi(t.vectorValues);throw new lt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Oe("string",Vi._jsonSchemaVersion),vectorValues:Oe("object")};const aO=/^__.*__$/;class oO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new ru(t,this.data,n,this.fieldTransforms)}}class GS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ms(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function QS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Bp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QS(this.Ac)&&aO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class lO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(t)}Cc(t,n,s,o=!1){return new Bp({Ac:t,methodName:n,Dc:s,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qp(r){const t=r._freezeSettings(),n=Hh(r._databaseId);return new lO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function uO(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);Hp("Data must be an object, but it was:",f,s);const m=KS(s,f);let g,y;if(u.merge)g=new wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Gm(t,S,n);if(!f.contains(w))throw new lt(tt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);XS(E,w)||E.push(w)}g=new wn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new oO(new mn(m),g,y)}class Yh extends jp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yh}}function cO(r,t,n,s){const o=r.Cc(1,t,n);Hp("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();ds(s,((g,y)=>{const E=Fp(t,g,n);y=Ye(y);const S=o.yc(E);if(y instanceof Yh)u.push(E);else{const w=lu(y,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new wn(u);return new GS(f,m,o.fieldTransforms)}function hO(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[Gm(t,s,n)],g=[o];if(u.length%2!=0)throw new lt(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Gm(t,u[w])),g.push(u[w+1]);const y=[],E=mn.empty();for(let w=m.length-1;w>=0;--w)if(!XS(y,m[w])){const k=m[w];let X=g[w];X=Ye(X);const $=f.yc(k);if(X instanceof Yh)y.push(k);else{const F=lu(X,$);F!=null&&(y.push(k),E.set(k,F))}}const S=new wn(y);return new GS(E,S,f.fieldTransforms)}function fO(r,t,n,s=!1){return lu(n,r.Cc(s?4:3,t))}function lu(r,t){if(YS(r=Ye(r)))return Hp("Unsupported field value:",t,r),KS(r,t);if(r instanceof jp)return(function(s,o){if(!QS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=lu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Ye(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return J2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Yt.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof Yt){const u=new Yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:cS(o.serializer,s._byteString)};if(s instanceof xe){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(f,m){return{mapValue:{fields:{[z0]:{stringValue:j0},[ph]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Vh(s)}`)})(r,t)}function KS(r,t){const n={};return M0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ds(r,((s,o)=>{const u=lu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function YS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Yt||r instanceof Mi||r instanceof Bn||r instanceof xe||r instanceof jp||r instanceof Vi)}function Hp(r,t,n){if(!YS(n)||!O0(n)){const s=Vh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Gm(r,t,n){if((t=Ye(t))instanceof Kh)return t._internalPath;if(typeof t=="string")return Fp(r,t);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const dO=new RegExp("[~\\*/\\[\\]]");function Fp(r,t,n){if(t.search(dO)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Kh(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new lt(tt.INVALID_ARGUMENT,m+r+g)}function XS(r,t){return r.some((n=>n.isEqual(t)))}class $S{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Gp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mO extends $S{data(){return super.data()}}function Gp(r,t){return typeof t=="string"?Fp(r,t):t instanceof Kh?t._internalPath:t._delegate._internalPath}function pO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class gO extends Qp{}function yO(r,t,...n){let s=[];t instanceof Qp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Kp)).length,m=u.filter((g=>g instanceof Xh)).length;if(f>1||f>0&&m>0)throw new lt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Xh extends gO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Xh(t,n,s)}_apply(t){const n=this._parse(t);return JS(t._query,n),new Eo(t.firestore,t.converter,Vm(t._query,n))}_parse(t){const n=qp(t.firestore);return(function(u,f,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){iT(S,E);const X=[];for(const $ of S)X.push(nT(g,u,$));w={arrayValue:{values:X}}}else w=nT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||iT(S,E),w=fO(m,f,S,E==="in"||E==="not-in");return De.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function _O(r,t,n){const s=t,o=Gp("where",r);return Xh._create(o,s,n)}class Kp extends Qp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Kp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)JS(f,g),f=Vm(f,g)})(t._query,n),new Eo(t.firestore,t.converter,Vm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nT(r,t,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new lt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y0(t)&&n.indexOf("/")!==-1)throw new lt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(se.fromString(n));if(!pt.isDocumentKey(s))throw new lt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vE(r,new pt(s))}if(n instanceof xe)return vE(r,n._key);throw new lt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(n)}.`)}function iT(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new lt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class vO{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ds(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[ph].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new Vi(n)}convertGeoPoint(t){return new Mi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Uh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const n=os(t);return new Yt(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);Xt(gS(s),9688,{name:t});const o=new Fl(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function EO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Ol{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $s extends $S{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Gp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Oe("string",$s._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class ih extends $s{data(t={}){return super.data(t)}}class eo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:TO(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function TO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function SO(r){r=dr(r,xe);const t=dr(r.firestore,To);return tO(zp(t),r._key).then((n=>wO(t,r,n)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Oe("string",eo._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class ZS extends vO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,n)}}function gm(r){r=dr(r,Eo);const t=dr(r.firestore,To),n=zp(t),s=new ZS(t);return pO(r._query),eO(n,r._query).then((o=>new eo(t,s,r,o)))}function rT(r,t,n,...s){r=dr(r,xe);const o=dr(r.firestore,To),u=qp(o);let f;return f=typeof(t=Ye(t))=="string"||t instanceof Kh?hO(u,"updateDoc",r._key,t,n,s):cO(u,"updateDoc",r._key,t),Yp(o,[f.toMutation(r._key,ii.exists(!0))])}function AO(r){return Yp(dr(r.firestore,To),[new Sp(r._key,ii.none())])}function bO(r,t){const n=dr(r.firestore,To),s=Dl(r),o=EO(r.converter,t);return Yp(n,[uO(qp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then((()=>s))}function Yp(r,t){return(function(s,o){const u=new lr;return s.asyncQueue.enqueueAndForget((async()=>qD(await WD(s),o,u))),u.promise})(zp(r),t)}function wO(r,t,n){const s=n.docs.get(t._key),o=new ZS(r);return new $s(r,o,t._key,s,new Ol(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){go=o})(mo),no(new Zs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new To(new u2(s.getProvider("auth-internal")),new f2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(aE,oE,t),is(aE,oE,"esm2020")})();const RO={apiKey:"AIzaSyDbeHsZ1hrXAnCRePrfJFqkSDelKOGtqJU",authDomain:"taskly-2542f.firebaseapp.com",projectId:"taskly-2542f",storageBucket:"taskly-2542f.firebasestorage.app",messagingSenderId:"141937666380",appId:"1:141937666380:web:8a8aa08b12e2e4490887e9",measurementId:"G-MY6GLXVEPJ"},WS=qT(RO),Gc=i2(WS),Rl=rO(WS);class CO{onAuthStateChanged(t){return GC(Gc,t)}async signInWithGoogle(){const t=new rr;return await fI(Gc,t)}async signOutUser(){await QC(Gc)}getCurrentUser(){return Gc.currentUser}}const Yl=new CO;function IO(){const r=Rh(),[t,n]=q.useState(!0);q.useEffect(()=>{const o=Yl.onAuthStateChanged(u=>{if(u){const f=`${window.location.origin}${window.location.pathname}?reload=1#/home`;window.location.href=f}n(!1)});return()=>o()},[r]);const s=async()=>{try{const o=await Yl.signInWithGoogle();if(o&&o.user){const u=`${window.location.origin}${window.location.pathname}?reload=1#/home`;window.location.href=u}}catch(o){console.error(o)}};return t?M.jsx("div",{children:"Loading..."}):M.jsxs(Nh,{id:"login",children:[M.jsx("h1",{children:"Login"}),M.jsx("p",{children:"Welcome back! Please log in to continue."}),M.jsx("button",{onClick:s,children:"Sign in with Google"})]})}function NO(){return M.jsxs(Nh,{id:"home",children:[M.jsx("h2",{children:"Welcome to Taskly"}),M.jsx("p",{children:"Your personal task management app to boost productivity and stay organized."})]})}class DO{constructor(){this.ref=iO(Rl,"tasks")}async getAllTasks(){return(await gm(this.ref)).docs.map(n=>({id:n.id,...n.data()}))}async getMainTasks(){return(await gm(this.ref)).docs.map(n=>({id:n.id,...n.data()})).filter(n=>n.parent_id===null||n.parent_id===void 0)}async getSubTasks(t){const n=yO(this.ref,_O("parent_id","==",t));return(await gm(n)).docs.map(o=>({id:o.id,...o.data()}))}async getTaskById(t){const n=Dl(Rl,"tasks",t),s=await SO(n);return s.exists()?{id:s.id,...s.data()}:null}async createTask(t){if(t.priority<1||t.priority>4)throw new Error("Priority must be between 1 and 4");const n=Yt.now();await bO(this.ref,{task_name:t.task_name,description:t.description??null,parent_id:t.parent_id??null,status:t.status??"todo",priority:t.priority,due_date:t.due_date?Yt.fromDate(t.due_date):null,created_at:n,updated_at:n,completed_at:t.status==="done"?n:null})}async updateStatus(t,n){if(!["todo","in_progress","blocked","done"].includes(n))throw new Error("Invalid status value");const s=Yt.now(),o=Dl(Rl,"tasks",t);await rT(o,{status:n,updated_at:s,completed_at:n==="done"?s:null})}async updateTask(t,n){const s=Yt.now(),o=Dl(Rl,"tasks",t),u={...n,updated_at:s};n.due_date&&(u.due_date=Yt.fromDate(n.due_date)),Object.keys(u).forEach(f=>{u[f]===void 0&&delete u[f]}),await rT(o,u)}async deleteTask(t){await AO(Dl(Rl,"tasks",t))}}class OO{constructor(t){this.taskRepository=t}async completeTask(t){await this.taskRepository.updateStatus(t,"done")}async reopenTask(t){await this.taskRepository.updateStatus(t,"todo")}async updateStatus(t,n){await this.taskRepository.updateStatus(t,n)}async deleteTask(t){await this.taskRepository.deleteTask(t)}}const tA=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const xO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const MO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const sT=r=>{const t=MO(r);return t.charAt(0).toUpperCase()+t.slice(1)};var VO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kO=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const LO=q.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>q.createElement("svg",{ref:g,...VO,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:tA("lucide",o),...!u&&!kO(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>q.createElement(y,E)),...Array.isArray(u)?u:[u]]));const pn=(r,t)=>{const n=q.forwardRef(({className:s,...o},u)=>q.createElement(LO,{ref:u,iconNode:t,className:tA(`lucide-${xO(sT(r))}`,`lucide-${r}`,s),...o}));return n.displayName=sT(r),n};const UO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aT=pn("calendar",UO);const PO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zO=pn("chevron-down",PO);const jO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BO=pn("chevron-right",jO);const qO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HO=pn("circle-alert",qO);const FO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],GO=pn("circle-check",FO);const QO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oT=pn("circle",QO);const KO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lT=pn("clock",KO);const YO=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],uT=pn("ellipsis-vertical",YO);const XO=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],cT=pn("flag",XO);const $O=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],JO=pn("funnel",$O);const ZO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],hT=pn("pencil",ZO);const WO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ym=pn("plus",WO);const tx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ex=pn("search",tx);const nx=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fT=pn("trash",nx),xl=new DO,ix=new OO(xl);function rx(){const[r,t]=q.useState([]),[n,s]=q.useState({}),[o,u]=q.useState(!0),[f,m]=q.useState(!1),[g,y]=q.useState(!1),[E,S]=q.useState(!1),[w,k]=q.useState(null),[X,$]=q.useState("all"),[F,it]=q.useState(""),[nt,st]=q.useState(new Set),[Tt,wt]=q.useState(null),[St,I]=q.useState(null),[b,R]=q.useState({task_name:"",description:"",priority:3,status:"todo",due_date:""}),[V,D]=q.useState(!1);q.useEffect(()=>{U()},[]);async function U(){try{u(!0),console.log("Loading tasks from Firestore...");const K=await xl.getMainTasks();console.log("Main tasks loaded:",K),t(K);const gt={};for(const At of K)if(At.id){const sn=await xl.getSubTasks(At.id);gt[At.id]=sn}s(gt)}catch(K){console.error("Error loading tasks:",K),alert("Error loading tasks: "+K.message)}finally{u(!1)}}async function C(K){try{await ix.deleteTask(K),await U()}catch(gt){console.error("Error deleting task:",gt),alert("Error deleting task: "+gt.message)}}function Wt(K){R({task_name:"",description:"",priority:3,status:"todo",due_date:null}),D(!1),I(null),K?(S(!0),k(K)):(S(!1),k(null)),m(!0)}function le(){m(!1),D(!1),S(!1),k(null),I(null)}function Q(K){R({task_name:K.task_name||"",description:K.description||"",priority:K.priority||2,status:K.status||"todo",due_date:K.due_date?K.due_date.seconds?new Date(K.due_date.seconds*1e3).toISOString().slice(0,10):new Date(K.due_date).toISOString().slice(0,10):""}),I(K.id||null),S(K.parent_id!==null&&K.parent_id!==void 0),k(K.parent_id??null),m(!0)}function at(){y(!1)}function dt(K){const{name:gt,value:At}=K.target;R(sn=>({...sn,[gt]:At}))}function zt(K){st(gt=>{const At=new Set(gt);return At.has(K)?At.delete(K):At.add(K),At})}function qt(K){wt(gt=>gt===K?null:K)}function O(){wt(null)}q.useEffect(()=>{function K(){O()}return document.addEventListener("click",K),()=>document.removeEventListener("click",K)},[]);function Z(){let K=r;if(X!=="all"&&(K=K.filter(gt=>{switch(X){case"todo":return gt.status==="todo";case"in_progress":return gt.status==="in_progress";case"done":return gt.status==="done";default:return!0}})),F.trim()){const gt=F.toLowerCase();K=K.filter(At=>At.task_name.toLowerCase().includes(gt)||At.description&&At.description.toLowerCase().includes(gt))}return K}function ot(K){switch(K){case"todo":return{icon:oT,color:"text-slate-400"};case"in_progress":return{icon:lT,color:"text-blue-500"};case"done":return{icon:GO,color:"text-emerald-500"};default:return{icon:HO,color:"text-red-500"}}}function ut(K){switch(K){case 1:return{color:"text-slate-400",text:"P4"};case 2:return{color:"text-blue-500",text:"P3"};case 3:return{color:"text-orange-500",text:"P2"};case 4:return{color:"text-red-500",text:"P1"};default:return{color:"text-slate-400",text:"P4"}}}function _t(K){if(!K)return"No date";const gt=K;return(gt.seconds?new Date(gt.seconds*1e3):new Date(K)).toLocaleDateString("en-US",{month:"short",day:"numeric"})}async function Rt(K){if(K&&K.preventDefault&&K.preventDefault(),D(!0),!(!b.task_name||b.task_name.trim()===""))try{const gt={task_name:b.task_name.trim(),description:b.description.trim()||void 0,status:b.status,priority:Number(b.priority),due_date:b.due_date?new Date(b.due_date):void 0,parent_id:E&&w?w:void 0};console.log("Submitting task:",gt),St?(await xl.updateTask(St,gt),console.log("Task updated successfully!")):(await xl.createTask(gt),console.log("Task created successfully!")),await U(),console.log("Tasks reloaded"),D(!1),le(),y(!0)}catch(gt){console.error("Error adding task from modal:",gt),alert("Failed to add task: "+gt.message+`

Check console for details.`)}}return M.jsxs(Nh,{id:"task",children:[M.jsxs("div",{className:"task-header-section",children:[M.jsxs("div",{className:"header-content",children:[M.jsxs("div",{className:"header-left",children:[M.jsx("h1",{className:"header-title",children:"Tasks"}),M.jsx("p",{className:"header-subtitle",children:"Manage your tasks effectively with Taskly"})]}),M.jsxs("div",{className:"header-right",children:[M.jsxs("div",{className:"search-container",children:[M.jsx(ex,{className:"search-icon",size:20}),M.jsx("input",{type:"text",placeholder:"Search tasks...",className:"search-input",value:F,onChange:K=>it(K.target.value)})]}),M.jsx("button",{className:"filter-button",children:M.jsx(JO,{size:20})}),M.jsxs("button",{className:"new-task-button",onClick:()=>Wt(),children:[M.jsx(ym,{size:20}),"New Task"]})]})]}),M.jsx("div",{className:"filter-tabs",children:[{key:"all",label:"All Tasks"},{key:"todo",label:"To Do"},{key:"in_progress",label:"In Progress"},{key:"done",label:"Done"}].map(K=>M.jsx("button",{className:`filter-tab ${X===K.key?"active":""}`,onClick:()=>$(K.key),children:K.label},K.key))})]}),M.jsx("div",{className:"task-list-container",children:o?M.jsxs("div",{className:"loading-state",children:[M.jsx(lT,{className:"animate-spin",size:24}),M.jsx("p",{children:"Loading tasks..."})]}):Z().length===0?M.jsxs("div",{className:"empty-state",children:[M.jsx(oT,{size:48,className:"text-slate-300"}),M.jsx("h3",{children:"No tasks found"}),M.jsx("p",{children:"Get started by creating your first task!"}),M.jsxs("button",{className:"empty-state-button",onClick:()=>Wt(),children:[M.jsx(ym,{size:20}),"Create Task"]})]}):M.jsx("div",{className:"tasks-list",children:Z().map(K=>{const gt=K.id?n[K.id]||[]:[],At=gt.length>0,sn=K.id?nt.has(K.id):!1,Ui=ot(K.status),ai=ut(K.priority),gr=Ui.icon;return M.jsxs("div",{className:"task-row-container",children:[M.jsxs("div",{className:"task-row",children:[M.jsx("button",{className:"expand-button",onClick:()=>K.id&&At&&zt(K.id),disabled:!At,children:At?sn?M.jsx(zO,{size:16,className:"text-slate-500"}):M.jsx(BO,{size:16,className:"text-slate-500"}):M.jsx("div",{className:"w-4 h-4"})}),M.jsxs("div",{className:"task-content",children:[M.jsx("div",{className:"task-title-row",children:M.jsx("h3",{className:"task-title",children:K.task_name})}),K.description&&M.jsx("p",{className:"task-description",children:K.description})]}),M.jsxs("div",{className:"status-badge",children:[M.jsx(gr,{size:16,className:Ui.color}),M.jsx("span",{className:"status-text",children:K.status.replace("_"," ")})]}),M.jsxs("div",{className:"priority-badge",children:[M.jsx(cT,{size:16,className:ai.color}),M.jsx("span",{className:`priority-text ${ai.color}`,children:ai.text})]}),M.jsxs("div",{className:"due-date",children:[M.jsx(aT,{size:16,className:"text-slate-500"}),M.jsx("span",{className:"due-date-text",children:_t(K.due_date)})]}),M.jsx("div",{className:"task-actions-dropdown",children:M.jsxs("div",{style:{position:"relative"},children:[M.jsx("button",{className:"more-actions-button",onClick:Kt=>{Kt.stopPropagation(),K.id&&qt(K.id)},"aria-expanded":Tt===K.id,children:M.jsx(uT,{size:16,className:"text-slate-500"})}),Tt===K.id&&M.jsxs("div",{className:"dropdown-menu",onClick:Kt=>Kt.stopPropagation(),children:[(K.parent_id===null||K.parent_id===void 0)&&M.jsxs("div",{className:"dropdown-item",onClick:()=>{O(),K.id&&Wt(K.id)},children:[M.jsx(ym,{size:14}),M.jsx("span",{children:"Add Subtask"})]}),M.jsxs("div",{className:"dropdown-item",onClick:()=>{O(),Q(K)},children:[M.jsx(hT,{size:14}),M.jsx("span",{children:"Edit Task"})]}),M.jsxs("div",{className:"dropdown-item delete",onClick:()=>{O(),K.id&&C(K.id)},children:[M.jsx(fT,{size:14}),M.jsx("span",{children:"Delete Task"})]})]})]})})]}),At&&sn&&M.jsxs("div",{className:"subtasks-container",children:[M.jsx("div",{className:"connector-line"}),gt.map((Kt,sa)=>{const oi=ot(Kt.status),Pi=ut(Kt.priority),ps=oi.icon;return M.jsxs("div",{className:"subtask-row",children:[M.jsx("div",{className:"horizontal-connector"}),M.jsxs("div",{className:"subtask-card",children:[M.jsx("div",{className:"expand-button-placeholder"}),M.jsxs("div",{className:"task-content",children:[M.jsx("div",{className:"task-title-row",children:M.jsx("h4",{className:"subtask-title",children:Kt.task_name})}),Kt.description&&M.jsx("p",{className:"task-description",children:Kt.description})]}),M.jsxs("div",{className:"status-badge",children:[M.jsx(ps,{size:16,className:oi.color}),M.jsx("span",{className:"status-text",children:Kt.status.replace("_"," ")})]}),M.jsxs("div",{className:"priority-badge",children:[M.jsx(cT,{size:16,className:Pi.color}),M.jsx("span",{className:`priority-text ${Pi.color}`,children:Pi.text})]}),M.jsxs("div",{className:"due-date",children:[M.jsx(aT,{size:16,className:"text-slate-500"}),M.jsx("span",{className:"due-date-text",children:_t(Kt.due_date)})]}),M.jsx("div",{className:"task-actions-dropdown",children:M.jsxs("div",{style:{position:"relative"},children:[M.jsx("button",{className:"more-actions-button",onClick:ue=>{ue.stopPropagation(),Kt.id&&qt(Kt.id)},"aria-expanded":Tt===Kt.id,children:M.jsx(uT,{size:16,className:"text-slate-500"})}),Tt===Kt.id&&M.jsxs("div",{className:"dropdown-menu",onClick:ue=>ue.stopPropagation(),children:[M.jsxs("div",{className:"dropdown-item",onClick:()=>{O(),Q(Kt)},children:[M.jsx(hT,{size:14}),M.jsx("span",{children:"Edit Task"})]}),M.jsxs("div",{className:"dropdown-item delete",onClick:()=>{O(),Kt.id&&C(Kt.id)},children:[M.jsx(fT,{size:14}),M.jsx("span",{children:"Delete Task"})]})]})]})})]})]},Kt.id)})]})]},K.id)})})}),f&&M.jsx("div",{className:"task-modal-overlay",onClick:le,children:M.jsxs("div",{className:"task-modal",onClick:K=>K.stopPropagation(),children:[M.jsxs("div",{className:"task-modal-header",children:[M.jsx("h2",{className:"task-modal-title",children:St?E?"Edit Subtask":"Edit Task":E?"Add New Subtask":"Add New Task"}),M.jsx("button",{className:"task-modal-close-btn",type:"button",onClick:le,"aria-label":"Close modal",children:""})]}),M.jsx("div",{className:"task-modal-body",children:M.jsxs("form",{id:"taskForm",onSubmit:Rt,children:[M.jsxs("div",{className:"task-form-group",children:[M.jsxs("label",{className:"task-form-label",children:[E?"Subtask Name":"Task Name",M.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),M.jsx("input",{type:"text",className:"task-input-field",name:"task_name",id:"taskName",placeholder:E?"Enter subtask name":"Enter task name",value:b.task_name,onChange:dt,required:!0}),M.jsx("div",{className:"task-error-message",id:"taskNameError",style:{display:V&&!b.task_name?"block":"none"},children:E?"Subtask name is required":"Task name is required"})]}),M.jsxs("div",{className:"task-form-group",children:[M.jsx("label",{className:"task-form-label",children:"Description"}),M.jsx("textarea",{className:"task-input-field",id:"taskDescription",name:"description",placeholder:"Add a description (optional)",value:b.description,onChange:dt})]}),M.jsxs("div",{className:"task-form-row",children:[M.jsxs("div",{className:"task-form-group",children:[M.jsx("label",{className:"task-form-label",children:"Status"}),M.jsxs("select",{className:"task-input-field",id:"taskStatus",name:"status",value:b.status,onChange:dt,children:[M.jsx("option",{value:"todo",children:"Todo"}),M.jsx("option",{value:"in_progress",children:"In Progress"}),M.jsx("option",{value:"done",children:"Done"})]})]}),M.jsxs("div",{className:"task-form-group",children:[M.jsxs("label",{className:"task-form-label task-priority-label-header",children:["Priority",M.jsx("span",{className:"task-info-icon",children:"i"})]}),M.jsxs("select",{className:"task-input-field",id:"taskPriority",name:"priority",value:b.priority,onChange:dt,children:[M.jsx("option",{value:1,children:"Low"}),M.jsx("option",{value:2,children:"Medium"}),M.jsx("option",{value:3,children:"High"}),M.jsx("option",{value:4,children:"Urgent"})]})]})]}),M.jsxs("div",{className:"task-form-group",children:[M.jsx("label",{className:"task-form-label",children:"Due Date"}),M.jsx("input",{type:"date",className:"task-input-field",id:"taskDueDate",name:"due_date",value:b.due_date,onChange:dt})]})]})}),M.jsxs("div",{className:"task-modal-footer",children:[M.jsx("button",{type:"button",className:"task-btn task-btn-cancel",onClick:le,children:"Cancel"}),M.jsx("button",{type:"button",className:"task-btn task-btn-primary",onClick:Rt,children:St?E?"Save Subtask":"Save Task":E?"Add Subtask":"Add Task"})]})]})}),g&&M.jsx("div",{className:"task-modal-overlay",onClick:at,children:M.jsxs("div",{className:"task-modal",onClick:K=>K.stopPropagation(),style:{maxWidth:"400px",textAlign:"center"},children:[M.jsx("div",{className:"task-modal-header",style:{borderBottom:"none",justifyContent:"flex-end",padding:"12px 16px"},children:M.jsx("button",{className:"task-modal-close-btn",type:"button",onClick:at,"aria-label":"Close modal",children:""})}),M.jsxs("div",{className:"task-modal-body",style:{padding:"20px 32px 32px"},children:[M.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 24px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(124,58,237,0.1), rgba(124,58,237,0.05))",display:"flex",alignItems:"center",justifyContent:"center",border:"3px solid #7c3aed"},children:M.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"#7c3aed",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:M.jsx("polyline",{points:"20 6 9 17 4 12"})})}),M.jsx("h2",{style:{fontSize:"1.5rem",color:"#0f172a",marginBottom:"12px",fontWeight:"600"},children:"Awesome!"}),M.jsxs("p",{style:{color:"#64748b",fontSize:"0.95rem",marginBottom:"28px"},children:[E?"Subtask":"Task"," successfully added to your list"]}),M.jsx("button",{type:"button",className:"task-btn task-btn-primary",onClick:at,style:{width:"100%",padding:"12px",fontSize:"1rem"},children:"Continue"})]})]})})]})}function sx(){return M.jsx("div",{className:"layout",children:M.jsx("main",{className:"content",children:M.jsx(CT,{})})})}const ax=[{sortOrder:1,name:"Home",icon:"",link:"/"},{sortOrder:2,name:"Tasks",icon:"",link:"/task"},{sortOrder:3,name:"Calendar",icon:"",link:"/calendar"},{sortOrder:4,name:"Settings",icon:"",link:"/settings"},{sortOrder:5,name:"Logout",icon:"",action:"logout"}];function ox({photoURL:r,name:t,size:n=80,bgColor:s="#667eea"}={}){return r||`https://ui-avatars.com/api/?name=${encodeURIComponent(t||"User")}&background=${s.replace("#","")}&color=fff&size=${n}`}function lx({children:r}){const t=Rh(),[n,s]=q.useState(!1),[o,u]=q.useState(null),[f,m]=q.useState(null),[g,y]=q.useState(null);q.useEffect(()=>{const k=Yl.onAuthStateChanged(X=>{X?(u(X.displayName||X.email||"User"),m(X.email||""),y(X.photoURL||null)):(u(null),m(null),y(null))});return()=>k()},[]);const E=async()=>{try{await Yl.signOutUser(),t("/login")}catch(k){console.error("Logout failed:",k)}},S=()=>{s(!n)},w=()=>{s(!1)};return M.jsxs(M.Fragment,{children:[M.jsx("button",{className:`hamburger-btn ${n?"hamburger-open":""}`,onClick:S,"aria-expanded":n,"aria-label":n?"Close sidebar":"Open sidebar",children:M.jsx("i",{className:"bi bi-list"})}),n&&M.jsx("div",{className:"sidebar-overlay",onClick:w}),M.jsxs("aside",{className:`sidebar ${n?"sidebar-open":""}`,children:[M.jsxs("div",{className:"sidebar-header",children:[M.jsx("h2",{children:"Tasky"}),M.jsxs("div",{className:"user-profile",children:[M.jsx("div",{className:"user-avatar",children:M.jsx("img",{id:"userPhoto",src:ox({photoURL:g,name:o||"User",size:80,bgColor:"#3498db"}),alt:"Profile"})}),M.jsxs("div",{className:"user-info",children:[M.jsx("h5",{id:"userName",children:o??"Loading..."}),M.jsx("p",{id:"userEmail",children:f??"Please wait..."})]})]})]}),M.jsx("ul",{children:ax.map(k=>M.jsx("li",{children:k.link?M.jsxs(Ih,{to:k.link,onClick:w,children:[k.icon&&M.jsx("span",{className:"material-icons",children:k.icon}),k.name]}):k.action==="logout"?M.jsxs("button",{onClick:E,className:"logout-btn",children:[k.icon&&M.jsx("span",{className:"material-icons",children:k.icon}),k.name]}):null},k.link||k.action))}),r]})]})}function ux(){return M.jsxs("div",{className:"main-layout-container",children:[M.jsx(lx,{}),M.jsx("main",{className:"main-content",children:M.jsx(CT,{})})]})}function cx({children:r}){const[t,n]=q.useState(void 0);return q.useEffect(()=>{const s=Yl.onAuthStateChanged(o=>{n(o)});return()=>s()},[]),t===void 0?M.jsx("div",{children:"Loading..."}):t?M.jsx(M.Fragment,{children:r}):M.jsx(Pb,{to:"/login",replace:!0})}j1.createRoot(document.getElementById("root")).render(M.jsx(q.StrictMode,{children:M.jsx(cw,{children:M.jsxs(jb,{children:[M.jsx(Gs,{path:"/",element:M.jsx(Ew,{})}),M.jsx(Gs,{element:M.jsx(sx,{}),children:M.jsx(Gs,{path:"/login",element:M.jsx(IO,{})})}),M.jsxs(Gs,{element:M.jsx(cx,{children:M.jsx(ux,{})}),children:[M.jsx(Gs,{path:"/home",element:M.jsx(NO,{})}),M.jsx(Gs,{path:"/task",element:M.jsx(rx,{})})]})]})})}));
