import{r,j as e}from"./vendor_react-ByBjJ8Oe.js";import{S as f,a}from"./index-uVyqPVVH.js";/* empty css            */import{U as g}from"./UsersRepository-BsDfwzXf.js";import{o as p,p as x}from"./vendor_firebase-i8bcTDRB.js";import"./vendor-DuPUYBON.js";function v(){const[n,c]=r.useState([]),[l,i]=r.useState(!0),[t,d]=r.useState(null);return r.useEffect(()=>{let s=!0;const h=()=>{console.log("Fetching users..."),i(!0),g.getAll().then(o=>{console.log("Users fetched",o),s&&c(o)}).catch(o=>{console.error("Users fetch error",o),s&&d(o?.message??"Failed to load users")}).finally(()=>{s&&i(!1)})},u=p(a,o=>{console.log("onAuthStateChanged",o),o?h():x(a).then(()=>console.log("Anonymous sign-in successful")).catch(m=>console.error("Anonymous sign-in failed",m))});return()=>{s=!1,u()}},[]),e.jsxs(f,{id:"users",children:[e.jsx("h1",{children:"Users"}),l&&e.jsx("p",{children:"Loading users..."}),t&&e.jsxs("p",{style:{color:"red"},children:["Error: ",t]}),!l&&!t&&e.jsx(e.Fragment,{children:n.length===0?e.jsx("p",{children:"No users found."}):e.jsx("ul",{children:n.map(s=>e.jsxs("li",{style:{marginBottom:12},children:[e.jsx("div",{style:{fontWeight:600},children:s.displayName??s.email??"No name"}),s.email&&e.jsx("div",{style:{color:"#555"},children:s.email}),e.jsxs("div",{style:{fontSize:12,color:"#666"},children:["Role: ",s.role]})]},s.id))})})]})}export{v as default};
